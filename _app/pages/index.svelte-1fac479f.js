var Vs=Object.defineProperty,Hs=Object.defineProperties;var Ms=Object.getOwnPropertyDescriptors;var tn=Object.getOwnPropertySymbols;var Ys=Object.prototype.hasOwnProperty,$s=Object.prototype.propertyIsEnumerable;var nn=(n,e,t)=>e in n?Vs(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,He=(n,e)=>{for(var t in e||(e={}))Ys.call(e,t)&&nn(n,t,e[t]);if(tn)for(var t of tn(e))$s.call(e,t)&&nn(n,t,e[t]);return n},It=(n,e)=>Hs(n,Ms(e));import{P as pt,Q as sn,R as Us,S as fe,i as he,s as ce,e as T,c as N,a as P,d as m,b as w,f as le,g as O,E as J,T as ln,U as K,V as $e,w as x,k as F,t as re,x as ne,m as j,h as oe,W as X,K as A,y as ee,j as we,n as de,o as H,p as pe,q as V,B as te,G as ve,X as Se,Y as Ce,L as We,M as Xe,N as Ge,Z as zt,_ as Qt,v as gt,D as hs,I as Ze,$ as ds,a0 as ae,a1 as Bs,a2 as Ie,a3 as lt,a4 as ye,a5 as _e,a6 as ge,a7 as be,a8 as ft,a9 as Ye,aa as qs,ab as Lt,ac as ps,ad as rt,ae as ot,H as Rs,l as Pe,af as Ds,ag as Fs,ah as js,O as qe,ai as rn,aj as Ot,ak as zs,F as Qs,al as Ks}from"../chunks/index-2bdb744f.js";import{w as Ke,d as on,_ as an}from"../chunks/preload-helper-dd72e550.js";var Yt=(n=>(n.QueueNext="Play Next",n.QueueLast="Play Last",n))(Yt||{});let $t={hostname:"",login:"",token:"",defaultPlaylist:null,quickAction:"Play Next"};try{"localStorage"in globalThis&&($t=JSON.parse(localStorage.getItem("settings"))||$t)}catch{}const Oe=Ke($t);Oe.subscribe(n=>{var e;(e=globalThis.localStorage)==null||e.setItem("settings",JSON.stringify(n))});async function Vt(n){return new Promise(e=>setTimeout(e,n))}function Ut(n){for(let e=n.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[n[e],n[t]]=[n[t],n[e]]}return n}function ht(n){const e=[];for(const t of n)e.push(He({},t));return e}const Te={title:"Not Playing",artists:["No Artist"],album:"",length:1/0,sources:[]};class Ws{constructor(){this.subscribers=[],this.backwardQueue=[],this.forwardQueue=[],this.current=Te,this.history=[],this.queue=[],this.firstToPlay=!1,this.repetition=Ae.None,this.direction=me.Normal,this.infinite=!1}get upcoming(){return this.queue[0]?this.queue[0]:this.repetition===Ae.All&&this.history[0]?this.history[0]:null}pushLast(...e){!e.length||(this.queue.push(...e),this.direction!=me.Backwards?this.forwardQueue.push(...e):this.backwardQueue.push(...e),this.update())}pushNext(...e){!e.length||(this.queue.unshift(...e),this.direction!=me.Backwards?this.forwardQueue.unshift(...e):this.backwardQueue.unshift(...e),this.update())}pushAwaiting(...e){!e.length||(this.direction==me.Backwards?this.forwardQueue.push(...e):this.backwardQueue.push(...e),(this.repetition===Ae.All||this.direction===me.Shuffled)&&(this.queue.push(...e),this.update()))}pushPlaylist(e,t=0){this.pushNext(...e.slice(t)),this.pushAwaiting(...e.slice(0,t))}play(e){this.remove(e),this.pushNext(e),this.next()}next(){let e=this.queue[0];!e&&(this.repetition!=Ae.All||(this.pushNext(...this.history),this.clearHistory(),e=this.queue[0],!e))||(this.current!=Te&&this.history.push(this.current),this.current=e,this.remove(e),this.update())}previous(){const e=this.history.pop();!e||(this.current!=Te&&this.pushNext(this.current),this.current=e,this.remove(e),this.update())}direct(e){e==me.Normal?(this.forwardQueue.length||(this.forwardQueue=this.backwardQueue,this.backwardQueue=[]),this.queue=this.forwardQueue.slice(),this.repetition==Ae.All&&this.queue.push(...this.backwardQueue)):e==me.Backwards?(this.backwardQueue.length||(this.backwardQueue=this.forwardQueue,this.forwardQueue=[]),this.queue=this.backwardQueue.slice().reverse(),(this.repetition==Ae.All||!this.queue.length)&&this.queue.push(...this.forwardQueue.slice().reverse())):(this.queue=this.forwardQueue.concat(this.backwardQueue),Ut(this.queue)),this.direction=e,this.update()}repeat(e){e!=this.repetition&&(this.repetition=e,e==Ae.All?this.direction==me.Normal?this.queue.push(...this.backwardQueue):this.direction==me.Backwards&&this.queue.push(...this.forwardQueue.slice().reverse()):this.direction==me.Normal?this.queue=this.queue.filter(t=>this.forwardQueue.includes(t)):this.direction==me.Backwards&&(this.queue=this.queue.filter(t=>this.backwardQueue.includes(t))),this.update())}remove(e){const t=this.backwardQueue.indexOf(e),s=this.forwardQueue.indexOf(e),i=this.queue.indexOf(e);~t&&this.backwardQueue.splice(t,1),~s&&this.forwardQueue.splice(s,1),~i&&this.queue.splice(i,1),~i&&this.update()}rearrange(e,t){if(e<0||e>=this.queue.length||t<0||t>=this.queue.length||e===t)return;const s=this.queue.splice(e,1)[0];!s||(this.queue.splice(t,0,s),this.update())}clear(){const e=this.current!=Te;this.direction=me.Normal,this.current=Te,this.clearQueue(),this.clearHistory(),e&&this.update()}clearQueue(){!this.queue.length&&!this.forwardQueue.length&&!this.backwardQueue.length||(this.backwardQueue=[],this.forwardQueue=[],this.queue=[],this.update())}clearHistory(){!this.history.length||(this.history=[],this.update())}subscribe(e){return this.subscribers.push(e),e(this),()=>{this.subscribers.splice(this.subscribers.indexOf(e),1)}}update(){this.current===Te&&this.forwardQueue.length&&(this.direction=me.Normal,this.next(),this.firstToPlay=!0),clearTimeout(this.debounce),this.debounce=setTimeout(()=>{this.subscribers.forEach(e=>e(this)),this.firstToPlay=!1})}}var me=(n=>(n[n.Normal=0]="Normal",n[n.Backwards=1]="Backwards",n[n.Shuffled=2]="Shuffled",n))(me||{}),Ae=(n=>(n[n.None=0]="None",n[n.All=1]="All",n[n.Single=2]="Single",n))(Ae||{});function Je(n){return`${ms(n)} - ${n.album.toLowerCase()}`}function ms({title:n,artists:e},t=!1){return n=n.toLowerCase().trim(),e=Array.isArray(e)?e.sort().join(", ").toLowerCase().trim():e.toLowerCase().trim(),Ht(e?t?`${n} - ${e}`:`${e} - ${n}`:n)}function Ht(n){return n.replace(/[+,&]/g," ")}const Z=new Ws;function mt(){return(mt=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n}).apply(this,arguments)}function _s(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,St(n,e)}function vs(n){return(vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(n)}function St(n,e){return(St=Object.setPrototypeOf||function(t,s){return t.__proto__=s,t})(n,e)}function Xs(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gs(n,e,t){return(gs=Xs()?Reflect.construct:function(s,i,l){var r=[null];r.push.apply(r,i);var o=new(Function.bind.apply(s,r));return l&&St(o,l.prototype),o}).apply(null,arguments)}function Kt(n){var e=typeof Map=="function"?new Map:void 0;return(Kt=function(t){if(t===null||Function.toString.call(t).indexOf("[native code]")===-1)return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(t))return e.get(t);e.set(t,s)}function s(){return gs(t,arguments,vs(this).constructor)}return s.prototype=Object.create(t.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),St(s,t)})(n)}var Gs=function(n){function e(t){var s;return(s=n.call(this,t.statusText)||this).name="HTTPError",s.status=t.status,s.url=t.url,s}return _s(e,n),e}(Kt(Error)),bs=function(n){function e(){var t;return(t=n.call(this,"Request timed out")||this).name="HTTPTimeout",t}return _s(e,n),e}(Kt(Error)),Zs=function n(e,t,s){try{return Promise.resolve(e()).then(function(i){var l,r=i.status,o=i.headers.get("Retry-After"),a=mt({},ws,s),c=a.attempts,u=a.codes,f=a.methods,h=a.delay,d=u.indexOf(r)>-1||r>=500&&r<600,p=f.indexOf(t)>-1,g=function(){if(d&&p)return c===0||i instanceof bs?(l=1,i):Promise.resolve(new Promise(function(b){setTimeout(b,o?1e3*parseInt(o,10):h)})).then(function(){return l=1,n(e,t,{attempts:c-1,codes:u,methods:f,delay:h*h})})}();return g&&g.then?g.then(function(b){return l?b:i}):l?g:i})}catch(i){return Promise.reject(i)}},ws={attempts:2,codes:[408,413,429],methods:["GET"],delay:6},un=/https?:\/\//,Js=["method","baseURL","json","retry","timeout","hooks"];function xs(n,e){e===void 0&&(e={});var t=e.method,s=t===void 0?"GET":t,i=e.baseURL,l=e.json,r=e.retry,o=r===void 0?ws:r,a=e.timeout,c=a===void 0?1e4:a,u=e.hooks,f=u===void 0?{}:u,h=mt({method:s,headers:{}},function(v,L){if(v==null)return{};var y,E,I={},Y=Object.keys(v);for(E=0;E<Y.length;E++)L.indexOf(y=Y[E])>=0||(I[y]=v[y]);return I}(e,Js)),d=typeof AbortController!="undefined"?new AbortController:null;d&&(h.signal=d.signal),l&&(h.headers=mt({"Content-Type":"application/json"},h.headers),h.body=JSON.stringify(l));var p=i!==void 0?function(v,L){var y=L.baseURL;if(un.test(v)||!y)return v;var E=(y.match(un)||[""])[0];return E+((y.replace(E,"")+"/").replace(/\/\//,"/")+v).replace(/\/\//,"/")}(n,{baseURL:i}):n,g=new Request(p,h);f.before&&[].concat(f.before).forEach(function(v){return v(g,e)});var b=function(){return c?function(v,L,y){L===void 0&&(L=1e4);try{return Promise.resolve(new Promise(function(E,I){var Y=setTimeout(function(){y&&y.abort(),I(new bs)},L);v.then(E).catch(I).then(function(){return clearTimeout(Y)})}))}catch(E){return Promise.reject(E)}}(fetch(g),c,d):fetch(g)},_=o===!1?b():Zs(b,s,o),k={flush:function(){try{return Promise.resolve(_).then(function(v){return{url:p,status:v.status,response:v}})}catch(v){return Promise.reject(v)}}};return["json","text","formData","arrayBuffer","blob"].forEach(function(v){k[v]=function(){try{var L,y,E,I,Y=function(){var C={url:p,status:se,data:I,error:E,response:L};return f.after&&[].concat(f.after).forEach(function(B){return B(mt({},C),e)}),C},se=500,z=function(C,B){try{var U=Promise.resolve(_).then(function(G){function R(){L.ok?I=y:E=y||new Gs(L)}se=(L=G).status||500;var M=function(){if(se!==204)return Promise.resolve(L[v]()).then(function($){y=$})}();return M&&M.then?M.then(R):R()})}catch(G){return B(G)}return U&&U.then?U.then(void 0,B):U}(0,function(C){E=C||"You tried to make fetch happen, but it didn't."});return Promise.resolve(z&&z.then?z.then(Y):Y())}catch(C){return Promise.reject(C)}}}),k}const ei=[{title:"Make A Move",artists:["Icon For Hire"],album:"Scripted",length:213,cover:"https://images.rapgenius.com/5f7b7d549106ef9a33651c11fa447f0e.1000x1000x1.jpg",sources:["0"]},{album:"Shatter Me",artists:["Lindsey Stirling","Lzzy Hale"],cover:"https://sun4-17.userapi.com/impf/c857732/v857732187/1e96d6/GRcoa2wBZMQ.jpg?size=1184x1184&quality=96&sign=db45a1c4ef8bfe322a1653ea2989b535&c_uniq_tag=q2U120s-JGLUyyK7EFwm2web_TOHkOIqCxumTfFY55w&type=audio",length:213,sources:["1"],title:"Shatter Me",year:2020},{album:"Megalovania",artists:["RichaadEB"],cover:"https://sun4-11.userapi.com/impf/c855128/v855128077/21eb90/d6WOQGBpaos.jpg?size=1184x1184&quality=96&sign=a45fece66fd11b4dd878718f920a55f3&c_uniq_tag=OzviiAY7iKu1LFMzvjym22l_F0miCY4p8CGhVwq_CgM&type=audio",length:213,sources:["2"],title:"Megalovania",year:2020},{title:"Roots",artists:["In This Moment"],album:"",length:213,sources:["3"],cover:"https://carrycoal.files.wordpress.com/2017/05/in_this_moment_ritual_album_cover.jpg?w=1200"},{album:"Scars & Souvenirs",artists:["Theory Of A Deadman"],cover:"https://sun4-15.userapi.com/impf/c849532/v849532385/194b8d/pesaQCC1dIo.jpg?size=1184x1184&quality=96&sign=5cb2e22e52da2ef650c92c4db16e2179&c_uniq_tag=I7ybApV_McdRDGDeQgJZVKDlYdtH35Tzvj3DcwVFr0A&type=audio",length:213,sources:["4"],title:"Bad Girlfriend",year:2016},{album:"Silk (Favored Nations Remix)",artists:["Giselle"],cover:"https://sun4-10.userapi.com/impf/c858032/v858032124/13fab1/DaGhLvWA6H0.jpg?size=1184x1184&quality=96&sign=b8a3ed37f33406a0c923cabdb409289e&c_uniq_tag=wFxkekJhY_k9tmBSBfW7LxAQbRAGG69MRrr_EB_i4WY&type=audio",length:213,sources:["5"],title:"Silk (Favored Nations Remix)",year:2018}],ti={method:"",type:"GET",delay:()=>1e3*Math.random(),code:200,data:{}},ni=[{url:"lyrics",data:Ut([...`blabla 
`.repeat(70)]).join("")},{url:"playlist/",data:Ut(Array.from({length:4},()=>ei.slice()).flat())},{url:"playlist",data:[{id:"0",title:"Epic Music",telegram:42,type:0}]},{url:"track",data:"https://cs4-1v4.vkuseraudio.net/s/v1/ac/w-gbeq41Vts7o0ZBN__6Hyo2CK0OU6hOk2Ioizq1HBTUzn_Tm4LanuCsdeQ6jRERJC05a4J-TV8AxQC9g_8vtXL2pB6rndwvWPl81FwC_4RDNMS3V4Mrbx1__H5gQ6sMrLsBFlX0WRBnCOKkTZ4SrRY41PB0gwvo72ViUhGMX48ukEc/index.m3u8"},{url:"verify",data:"OK"}];function si(n,{method:e}={method:"GET"}){const t=typeof n=="string"?n:n.url,s=He(He({},ti),ni.find(l=>t.toString().includes(l.url)&&(e||"GET").toUpperCase()===(l.type||"GET"))),i=typeof s.delay=="function"?s.delay():s.delay;return{async json(){if(await Vt(i),typeof s.data!="object")throw`Invalid JSON ${s.data}`;return{data:s.data}},async text(){return await Vt(i),{data:typeof s.data=="object"?JSON.stringify(s.data):s.data}},async flush(){return await Vt(100),{status:s.code}}}}function xe(n,e){const{hostname:t,login:s,token:i}=pt(Oe);let l=`${t}/api/v1/${s}/`;l.startsWith("http")||(l=location.protocol+"//"+l);const r=He({headers:{Authorization:i},mode:"cors"},e);return t==="demo"?si(l+n,r):xs(l+n,r)}async function ii(n){const e=ms(n),{data:t}=await xe("lyrics/"+e).text();return t||""}async function li(){const n=Ke(void 0),e=Ke(void 0);return xe("playlist/added").json().then(({data:t})=>n.set(t)),xe("playlist/listened").json().then(({data:t})=>e.set(t)),[{id:0,order:0,type:3,title:"Added",tracks:n},{id:0,order:1,type:3,title:"Listened",tracks:e}]}async function ri(){const{data:n}=await xe("playlist").json();return Array.isArray(n)?n.map(t=>{const s=Ke(void 0);return xe(`playlist/${t.id}`).json().then(({data:i})=>s.set(i)),It(He({},t),{order:t.id,tracks:s})}):[]}async function cn(n){const e=n[0],{data:t}=await xe("track/"+e).text();return t||""}async function oi(n){const{status:e}=await xe("verify",{headers:{Authorization:n}}).flush().catch(()=>({status:500}));return e===200}class ai{constructor(){this.recent=Ke(),this.library=Ke(),this.dynamic=Ke()}get loaded(){return on([this.recent,this.library,this.dynamic],e=>e.every(Boolean))}get(e){return[pt(this.recent),pt(this.library),pt(this.dynamic)].flat().filter(Boolean).find(t=>(t==null?void 0:t.title)===e)}load(){li().then(e=>this.recent.set(e)),ri().then(e=>{const t=[],s=[];for(const i of e)i.type<=0?t.push(i):s.push(i);this.library.set(t),this.dynamic.set(s)})}list(e="all"){const t=e==="all"?[this.dynamic,this.library,this.recent]:[this[e]];return on(t,s=>s?s.flatMap(i=>(i==null?void 0:i.map(l=>l.title))||"").filter(Boolean):[])}}const _t=new ai;function Pt(n){const e=n-1;return e*e*e+1}function fn(n){return Object.prototype.toString.call(n)==="[object Date]"}function Bt(n,e,t,s){if(typeof t=="number"||fn(t)){const i=s-t,l=(t-e)/(n.dt||1/60),r=n.opts.stiffness*i,o=n.opts.damping*l,a=(r-o)*n.inv_mass,c=(l+a)*n.dt;return Math.abs(c)<n.opts.precision&&Math.abs(i)<n.opts.precision?s:(n.settled=!1,fn(t)?new Date(t.getTime()+c):t+c)}else{if(Array.isArray(t))return t.map((i,l)=>Bt(n,e[l],t[l],s[l]));if(typeof t=="object"){const i={};for(const l in t)i[l]=Bt(n,e[l],t[l],s[l]);return i}else throw new Error(`Cannot spring ${typeof t} values`)}}function ui(n,e={}){const t=Ke(n),{stiffness:s=.15,damping:i=.8,precision:l=.01}=e;let r,o,a,c=n,u=n,f=1,h=0,d=!1;function p(b,_={}){u=b;const k=a={};if(n==null||_.hard||g.stiffness>=1&&g.damping>=1)return d=!0,r=sn(),c=b,t.set(n=u),Promise.resolve();if(_.soft){const v=_.soft===!0?.5:+_.soft;h=1/(v*60),f=0}return o||(r=sn(),d=!1,o=Us(v=>{if(d)return d=!1,o=null,!1;f=Math.min(f+h,1);const L={inv_mass:f,opts:g,settled:!0,dt:(v-r)*60/1e3},y=Bt(L,c,n,u);return r=v,c=n,t.set(n=y),L.settled&&(o=null),!L.settled})),new Promise(v=>{o.promise.then(()=>{k===a&&v()})})}const g={set:p,update:(b,_)=>p(b(u,n),_),subscribe:t.subscribe,stiffness:s,damping:i,precision:l};return g}function st(n,e,t){const s=n.animate(e,It(He({},t),{fill:"both"}));return s.addEventListener("finish",()=>{s.commitStyles(),s.cancel()}),s}function Wt(n,{threshold:e=32,gap:t=8,clickable:s=!0,handle:i}={}){const l=getComputedStyle(n),r=parseFloat(l.bottom)||parseFloat(l.marginBottom),o=parseFloat(l.height),a=ui(0,{stiffness:.2}),c=innerHeight-r-o-t,{stiffness:u,damping:f}=a;let h=!1,d=!1,p;const g=a.subscribe(y=>{y<0&&a.stiffness===1&&a.set(0),y>c+t&&a.stiffness===1&&a.set(c+t),h?(d=y>=c-e,y||n.dispatchEvent(new CustomEvent("close"))):(d=y>e,n.dispatchEvent(new CustomEvent(d?"open":"close"))),n.style.transform=`translate3d(0,${-y}px,0)`});function b(y){y.stopPropagation();const{changedTouches:E}=y;a.stiffness=a.damping=1,p=E[0].clientY,addEventListener("touchmove",_),addEventListener("touchend",k)}function _({changedTouches:y}){const E=p-y[0].clientY;p=y[0].clientY,a.update(I=>I+E)}function k(){a.stiffness=u,a.damping=f,d?(h=!0,a.set(c)):(h=!1,a.set(0)),removeEventListener("touchmove",_),removeEventListener("touchend",k)}function v(){d||(n.dispatchEvent(new CustomEvent("open")),st(n,[{transform:`translate3d(0,${-c}px,0)`}],{duration:300,easing:"ease"}).addEventListener("finish",()=>{a.stiffness=a.damping=1,a.set(c),h=!0,a.stiffness=u,a.damping=f}))}function L(){!d||st(n,[{transform:"translate3d(0,0px,0)"}],{duration:300,easing:"ease"}).addEventListener("finish",()=>{a.stiffness=a.damping=1,a.set(0),h=!1,a.stiffness=u,a.damping=f})}return n.addEventListener("scrollcancel",k),n.addEventListener("touchstart",b,{passive:!0}),s&&n.addEventListener("click",v),i&&n.querySelectorAll(i).forEach(y=>y.addEventListener("click",L)),{destroy(){g(),n.removeEventListener("touchstart",b),n.removeEventListener("scrollcancel",k),s&&n.removeEventListener("click",v),i&&n.querySelectorAll(i).forEach(y=>y.removeEventListener("click",L))}}}const ci=4,fi="data:audio/mp3;base64,//MkxAAHiAICWABElBeKPL/RANb2w+yiT1g/gTok//lP/W/l3h8QO/OCdCqCW2Cw//MkxAQHkAIWUAhEmAQXWUOFW2dxPu//9mr60ElY5sseQ+xxesmHKtZr7bsqqX2L//MkxAgFwAYiQAhEAC2hq22d3///9FTV6tA36JdgBJoOGgc+7qvqej5Zu7/7uI9l//MkxBQHAAYi8AhEAO193vt9KGOq+6qcT7hhfN5FTInmwk8RkqKImTM55pRQHQSq//MkxBsGkgoIAABHhTACIJLf99nVI///yuW1uBqWfEu7CgNPWGpUadBmZ////4sL//MkxCMHMAH9iABEmAsKioqKigsLCwtVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVV//MkxCkECAUYCAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",hn=[];function qt(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function hi(){if(!("Audio"in globalThis))return;const n=Audio;globalThis.Audio=function(s){const i=hn.find(l=>!l.used);if(!i)throw new Error("Unable to allocate new audio! Not enough buffers!");return i.used=!0,s&&(i.data.src=s),Object.defineProperty(i.data,"destroyed",{set(l){l&&(i.used=!1,i.data.src="",i.data.autoplay=!0)},get(){return i.used}}),i.data.addEventListener("canplay",()=>{i.data.autoplay=!1,i.data.pause()},{once:!0}),new Proxy(i.data,{set(l,r,o){return r==="src"&&(i.used=!!o,o||(i.data.autoplay=!0)),Reflect.set(l,r,o,i.data)},get(l,r){let o=l[r];return typeof o=="function"&&(o=o.bind(i.data)),o}})};const e=()=>{for(let s=0;s<ci;s++){const i=new n(fi);i.autoplay=!0,i.destroyed=!1,hn.push({used:!1,data:i})}};document.addEventListener("pointerup",e,{once:!0});const t=Event.prototype.stopPropagation;Event.prototype.stopPropagation=function(){return this instanceof TouchEvent&&this.type==="pointerup"&&(e(),document.removeEventListener("pointerup",e),Event.prototype.stopPropagation=t),t.bind(this)()}}let Rt=globalThis.EventTarget;try{new Rt}catch{Rt=class{constructor(){this._listeners=[]}addEventListener(n,e,t={once:!1}){this._listeners.push({type:n,listener:e,options:t})}removeEventListener(n,e){const t=this._listeners.findIndex(s=>s.type===n&&s.listener===e);t>=0&&this._listeners.splice(t,1)}dispatchEvent(n){this._listeners.filter(e=>e.type===n.type).forEach(e=>{const{type:t,listener:s,options:{once:i}}=e;s.call(this,n),i===!0&&this.removeEventListener(t,s)})}}}var di=Rt;let et;"window"in globalThis&&(window.UINative?window.UINative.nativeAudio():qt()&&hi());class pi extends di{constructor({debug:e}={debug:!1}){super(),this.previousCallback=this.onPrev.bind(this),this.pausedCallback=this.onPause.bind(this),this.nextCallback=this.onNext.bind(this),this.endedCallback=this.onEnd.bind(this),this.playCallback=this.onPlay.bind(this),this.timeCallback=this.onTime.bind(this),this.cacheLimit=2,this.cached=[],this.audio=null,this.now="",this.negative=!1,this.loading=!1,this.paused=!0,this.forcePlay=!1,this.debug=!1,this.log=()=>{},(this.debug=e)&&(this.log=(...t)=>{console.log(`[${this.constructor.name}/DEBUG]:`,...t)})}get isLoading(){return this.loading}set isLoading(e){this.loading!==e&&(this.loading=e,this.dispatchEvent(new Event("loadingchange")))}get isPaused(){return this.paused}set isPaused(e){this.paused!==e&&(this.paused=e,this.dispatchEvent(new Event("pausedchange")))}async play(e){var a,c;const t=new Error("Loading was interrupted!");if(this.isPlaying(e))return;const s=this.now;if(this.now=e==Te?"":Je(e),!this.now)return;const i=!this.isLoading&&s&&((a=this.audio)==null?void 0:a.src);i&&this.audio&&(this.cached.push({hash:s,loaded:!0,data:this.audio}),this.audio.preload="none",this.log("Track cached:",s));const l=u=>{i&&this.audio&&this.updateMetadata(e);const f=this.audio;this.audio=u,i&&f?(f.pause(),f.currentTime=0):this.destroyAudio(f),this.dispatchEvent(new CustomEvent("timeupdate",{detail:0}))},r=this.fromCache(e,!0);if(this.cached.length>this.cacheLimit){const u=this.cached.shift();u&&u!==r&&(this.destroyAudio(u.data),this.log("Track removed from cache:",u.hash))}if(r)l(r.data),this.log("Track retrieved from cache:",r.hash);else{this.isLoading=!0,l(this.createAudio());const u=await cn(e.sources);if(!this.isPlaying(e))throw t;u&&this.audio&&(u.endsWith("m3u8")&&!this.audio.canPlayType("application/vnd.apple.mpegurl")&&(et=et||(await an(()=>import("../chunks/hls-1049faa6.js").then(function(f){return f.h}),[])).default).isSupported()?(this.audio.hls=new et({}),this.audio.hls.loadSource(u),this.audio.hls.attachMedia(this.audio)):this.audio.src=u)}const o=()=>{if(!this.isPlaying(e)||!this.audio)throw t;this.updateMetadata(e),this.isLoading=!1,this.log("Track loaded:",e);const u="requestIdleCallback"in globalThis;(u?requestIdleCallback:setTimeout)(()=>{if(!this.isPlaying(e)||!this.audio)throw t;this.isPaused&&!this.audio.paused?this.audio.pause():(!this.isPaused||this.forcePlay)&&(this.log("Track autoplayed",{paused:this.isPaused,force:this.forcePlay}),this.audio.play(),this.forcePlay=!1)},u?{timeout:300}:300)};if(r!=null&&r.loaded)o();else{this.isLoading=!0;const u=qt()&&!window.UINative?"canplaythrough":"canplay";(c=this.audio)==null||c.addEventListener(u,o,{once:!0}),await new Promise(f=>{var h;(h=this.audio)==null||h.addEventListener("canplaythrough",f,{once:!0})})}if(!this.isPlaying(e))throw t}async cache(e){var r,o;if(!e||e===Te||e.sources.length<=0||this.fromCache(e))return;const t={hash:Je(e),loaded:!1,data:this.createAudio()};if(this.cached.push(t),this.log("Track cached:",Je(e)),this.cached.length>this.cacheLimit){const a=this.cached.shift();a&&((r=a.data)==null?void 0:r.valueOf())!==((o=this.audio)==null?void 0:o.valueOf())&&(this.destroyAudio(a.data),this.log("Track removed from cache:",a.hash))}const s=()=>this.fromCache(e)||this.isPlaying(e),i=await cn(e.sources);if(!i){this.fromCache(e,!0);return}if(!s())return this.log("Gave up on loading:",Je(e));const l=qt()&&!window.UINative?"canplaythrough":"canplay";t.data.addEventListener(l,()=>{if(!s())return this.log("Gave up on loading:",Je(e));t.loaded=!0,this.log("Cache loaded:",t)},{once:!0}),i.endsWith("m3u8")&&!t.data.canPlayType("application/vnd.apple.mpegurl")&&(et=et||(await an(()=>import("../chunks/hls-1049faa6.js").then(function(a){return a.h}),[])).default).isSupported()?(t.data.hls=new et({}),t.data.hls.loadSource(i),t.data.hls.attachMedia(t.data)):t.data.src=i}resume(){var e;!this.isPaused||!((e=this.audio)!=null&&e.src)||this.audio.play()}pause(){var e;this.isPaused||!((e=this.audio)!=null&&e.src)||this.audio.pause()}speedup(e){if(!!this.audio&&!(e&&e!==1&&this.paused)&&this.audio.playbackRate!==e){e<0?this.negative||(this.negative=!0):(clearInterval(this.negative),this.negative=!1);try{this.audio.playbackRate=e}catch{if(!this.negative)return;this.log("Using rewind fallback implementation"),this.audio.playbackRate=0,this.negative=setInterval(()=>{!this.audio||this.seek(this.audio.currentTime-1)},200)}}}seek(e){!this.audio||Math.abs(this.audio.currentTime-e)<1||(e<0&&(e=0),e>this.audio.duration&&(e=this.audio.duration),this.log("Seeked to",e),this.audio.currentTime=e)}destroy(){this.destroyAudio(this.audio),this.now="";for(const e of this.cached)this.destroyAudio(e.data);this.cached=[]}setupControls(){"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("seekbackward",()=>{!this.audio||this.seek(this.audio.currentTime-5)}),navigator.mediaSession.setActionHandler("seekforward",()=>{!this.audio||this.seek(this.audio.currentTime+5)}),navigator.mediaSession.setActionHandler("seekto",({seekTime:e})=>{e!=null&&this.seek(e)}),navigator.mediaSession.setActionHandler("previoustrack",()=>{this.dispatchEvent(new Event("previous"))}),navigator.mediaSession.setActionHandler("nexttrack",()=>{this.dispatchEvent(new Event("next"))}))}isPlaying(e){return Je(e)===this.now}fromCache(e,t=!1){const s=Je(e),i=this.cached.findIndex(r=>r.hash===s);if(i<0)return;const l=this.cached[i];return t&&this.cached.splice(i,1),l}createAudio(){const e=new Audio;return e.addEventListener("timeupdate",this.timeCallback),e.addEventListener("pause",this.pausedCallback),e.addEventListener("ended",this.endedCallback),e.addEventListener("play",this.playCallback),e.addEventListener("next",this.nextCallback),e.addEventListener("previous",this.previousCallback),e.preload="auto",this.log("Audio created",e),e}destroyAudio(e){var t,s,i;!e||((t=e.hls)==null||t.detachMedia(),(s=e.hls)==null||s.destroy(),e.hls=void 0,e.removeEventListener("timeupdate",this.timeCallback),e.removeEventListener("pause",this.pausedCallback),e.removeEventListener("ended",this.endedCallback),e.removeEventListener("play",this.playCallback),e.removeEventListener("next",this.nextCallback),e.removeEventListener("previous",this.previousCallback),e.src="",e.destroyed=!0,(e==null?void 0:e.valueOf())===((i=this.audio)==null?void 0:i.valueOf())&&(this.audio=null),this.log("Audio destroyed",e))}updateMetadata(e){!this.audio||(this.audio.metadata={title:e.title,artist:e.artists.join(", "),album:e.album,year:e.year,length:e.length,cover:e.cover},"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e.title,artist:e.artists.join(", "),album:e.album,artwork:e.cover?[{src:e.cover,sizes:"512x512",type:"image/png"}]:[]}),this.setupControls()))}onTime({target:e}){var t;e==((t=this.audio)==null?void 0:t.valueOf())&&(!this.audio||(this.dispatchEvent(new CustomEvent("timeupdate",{detail:this.audio.currentTime})),!(!("mediaSession"in navigator)||this.audio.playbackRate<=0||!Number.isFinite(this.audio.duration))&&navigator.mediaSession.setPositionState({position:this.audio.currentTime,duration:this.audio.duration,playbackRate:this.audio.playbackRate})))}onPause({target:e}){var t,s;e==((t=this.audio)==null?void 0:t.valueOf())&&(this.isPaused||(this.isPaused=!0,this.log("Paused",{audio:(s=this.audio)==null?void 0:s.paused,player:this.isPaused}),"mediaSession"in navigator&&(navigator.mediaSession.playbackState="paused")))}onPlay({target:e}){var t,s;e==((t=this.audio)==null?void 0:t.valueOf())&&(!this.isPaused||(this.isPaused=!1,this.log("Played",{audio:!((s=this.audio)!=null&&s.paused),player:!this.isPaused}),"mediaSession"in navigator&&(navigator.mediaSession.playbackState="playing")))}onEnd({target:e}){var t;if(e==((t=this.audio)==null?void 0:t.valueOf())&&!!this.audio){if(this.negative||!this.audio.currentTime){this.seek(0);return}this.log("Audio ended"),this.dispatchEvent(new Event("ended"))}}onNext({target:e}){var t;e==((t=this.audio)==null?void 0:t.valueOf())&&(!this.audio||this.dispatchEvent(new Event("next")))}onPrev({target:e}){var t;e==((t=this.audio)==null?void 0:t.valueOf())&&(!this.audio||this.dispatchEvent(new Event("previous")))}}function mi(n){let e;return{c(){e=T("div"),this.h()},l(t){e=N(t,"DIV",{class:!0,style:!0}),P(e).forEach(m),this.h()},h(){w(e,"class","spinner svelte-663nu6"),le(e,"--size",n[1]+"px"),le(e,"--padding",n[2]+"px"),le(e,"color",n[0])},m(t,s){O(t,e,s)},p(t,[s]){s&2&&le(e,"--size",t[1]+"px"),s&4&&le(e,"--padding",t[2]+"px"),s&1&&le(e,"color",t[0])},i:J,o:J,d(t){t&&m(e)}}}function _i(n,e,t){let{color:s="currentColor"}=e,{size:i}=e,{padding:l=0}=e;return n.$$set=r=>{"color"in r&&t(0,s=r.color),"size"in r&&t(1,i=r.size),"padding"in r&&t(2,l=r.padding)},[s,i,l]}class bt extends fe{constructor(e){super(),he(this,e,_i,mi,ce,{color:0,size:1,padding:2})}}const dn="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";function vi(n){let e,t,s,i;return{c(){e=T("img"),this.h()},l(l){e=N(l,"IMG",{src:!0,alt:!0,loading:!0,style:!0,class:!0}),this.h()},h(){ln(e.src,t=n[0]||dn)||w(e,"src",t),w(e,"alt",""),w(e,"loading","lazy"),le(e,"height",n[1]),le(e,"width",n[1]),le(e,"min-height",n[1]),le(e,"min-width",n[1]),le(e,"background-image","url("+n[0]+")"),w(e,"class","svelte-1ozd1mv")},m(l,r){O(l,e,r),s||(i=K(e,"click",n[2]),s=!0)},p(l,[r]){r&1&&!ln(e.src,t=l[0]||dn)&&w(e,"src",t),r&2&&le(e,"height",l[1]),r&2&&le(e,"width",l[1]),r&2&&le(e,"min-height",l[1]),r&2&&le(e,"min-width",l[1]),r&1&&le(e,"background-image","url("+l[0]+")")},i:J,o:J,d(l){l&&m(e),s=!1,i()}}}function gi(n,e,t){let{image:s}=e,{size:i="100%"}=e;function l(r){$e.call(this,n,r)}return n.$$set=r=>{"image"in r&&t(0,s=r.image),"size"in r&&t(1,i=r.size)},[s,i,l]}class Xt extends fe{constructor(e){super(),he(this,e,gi,vi,ce,{image:0,size:1})}}function bi(n){let e,t;return e=new bt({props:{size:30,padding:24,color:"var(--color-text-normal)"}}),{c(){x(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,i){ee(e,s,i),t=!0},p:J,i(s){t||(V(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){te(e,s)}}}function wi(n){let e,t,s;return{c(){e=T("button"),this.h()},l(i){e=N(i,"BUTTON",{"aria-label":!0,class:!0}),P(e).forEach(m),this.h()},h(){w(e,"aria-label","Pause/Play"),w(e,"class","svelte-5g75df"),X(e,"paused",!n[0])},m(i,l){O(i,e,l),t||(s=[K(e,"touchstart",Ce(n[7]),{passive:!0}),K(e,"click",Ce(n[8]))],t=!0)},p(i,l){l&1&&X(e,"paused",!i[0])},i:J,o:J,d(i){i&&m(e),t=!1,ve(s)}}}function yi(n){let e,t,s,i,l,r=n[5].current.title+"",o,a,c,u,f,h,d,p,g;s=new Xt({props:{image:n[5].current.cover}});const b=[wi,bi],_=[];function k(v,L){return v[1]?1:0}return c=k(n),u=_[c]=b[c](n),{c(){e=T("div"),t=T("div"),x(s.$$.fragment),i=F(),l=T("span"),o=re(r),a=F(),u.c(),f=F(),h=T("div"),this.h()},l(v){e=N(v,"DIV",{class:!0});var L=P(e);t=N(L,"DIV",{class:!0});var y=P(t);ne(s.$$.fragment,y),y.forEach(m),i=j(L),l=N(L,"SPAN",{class:!0});var E=P(l);o=oe(E,r),E.forEach(m),a=j(L),u.l(L),f=j(L),h=N(L,"DIV",{class:!0,style:!0}),P(h).forEach(m),L.forEach(m),this.h()},h(){w(t,"class","cover svelte-5g75df"),w(l,"class","title svelte-5g75df"),w(h,"class","playback svelte-5g75df"),le(h,"--time",n[2]/n[5].current.length),w(e,"class","miniplayer svelte-5g75df"),X(e,"hidden",n[3]),X(e,"active",n[4])},m(v,L){O(v,e,L),A(e,t),ee(s,t,null),A(e,i),A(e,l),A(l,o),A(e,a),_[c].m(e,null),A(e,f),A(e,h),d=!0,p||(g=[K(e,"touchstart",n[9],{passive:!0}),K(e,"touchend",n[10],{passive:!0})],p=!0)},p(v,[L]){const y={};L&32&&(y.image=v[5].current.cover),s.$set(y),(!d||L&32)&&r!==(r=v[5].current.title+"")&&we(o,r);let E=c;c=k(v),c===E?_[c].p(v,L):(de(),H(_[E],1,1,()=>{_[E]=null}),pe(),u=_[c],u?u.p(v,L):(u=_[c]=b[c](v),u.c()),V(u,1),u.m(e,f)),(!d||L&36)&&le(h,"--time",v[2]/v[5].current.length),L&8&&X(e,"hidden",v[3]),L&16&&X(e,"active",v[4])},i(v){d||(V(s.$$.fragment,v),V(u),d=!0)},o(v){H(s.$$.fragment,v),H(u),d=!1},d(v){v&&m(e),te(s),_[c].d(),p=!1,ve(g)}}}function Ei(n,e,t){let s,i;Se(n,Z,p=>t(5,s=p)),Se(n,Oe,p=>t(6,i=p));let{paused:l}=e,{loading:r}=e,{time:o}=e,{hidden:a=!1}=e,c=!1;function u(p){$e.call(this,n,p)}const f=()=>{if(Z.current===Te){const p=i.defaultPlaylist;if(!p)return;const g=_t.get(p);if(!g)return;const b=pt(g.tracks);if(!b)return;Z.pushPlaylist(ht(b))}else t(0,l=!l)},h=()=>t(4,c=!0),d=()=>t(4,c=!1);return n.$$set=p=>{"paused"in p&&t(0,l=p.paused),"loading"in p&&t(1,r=p.loading),"time"in p&&t(2,o=p.time),"hidden"in p&&t(3,a=p.hidden)},[l,r,o,a,c,s,i,u,f,h,d]}class ys extends fe{constructor(e){super(),he(this,e,Ei,yi,ce,{paused:0,loading:1,time:2,hidden:3})}}function pn(n,e,t){const s=n.slice();return s[24]=e[t],s[26]=t,s}const ki=n=>({item:n&1,position:n&1}),mn=n=>({item:n[24],position:n[26]-ze});function _n(n){let e;const t=n[6].default,s=Ze(t,n,n[5],mn);return{c(){s&&s.c()},l(i){s&&s.l(i)},m(i,l){s&&s.m(i,l),e=!0},p(i,l){s&&s.p&&(!e||l&33)&&We(s,t,i,i[5],e?Ge(t,i[5],l,ki):Xe(i[5]),mn)},i(i){e||(V(s,i),e=!0)},o(i){H(s,i),e=!1},d(i){s&&s.d(i)}}}function vn(n,e){let t,s,i,l,r,o=e[24]&&_n(e);function a(){return e[7](e[24],e[26])}return{key:n,first:null,c(){t=T("div"),o&&o.c(),s=F(),this.h()},l(c){t=N(c,"DIV",{class:!0});var u=P(t);o&&o.l(u),s=j(u),u.forEach(m),this.h()},h(){w(t,"class","svelte-d4tfnf"),this.first=t},m(c,u){O(c,t,u),o&&o.m(t,null),A(t,s),i=!0,l||(r=K(t,"click",a),l=!0)},p(c,u){e=c,e[24]?o?(o.p(e,u),u&1&&V(o,1)):(o=_n(e),o.c(),V(o,1),o.m(t,s)):o&&(de(),H(o,1,1,()=>{o=null}),pe())},i(c){i||(V(o),i=!0)},o(c){H(o),i=!1},d(c){c&&m(t),o&&o.d(),l=!1,r()}}}function Li(n){let e,t=[],s=new Map,i,l,r,o=n[0];const a=c=>c[24];for(let c=0;c<o.length;c+=1){let u=pn(n,o,c),f=a(u);s.set(f,t[c]=vn(f,u))}return{c(){e=T("div");for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l(c){e=N(c,"DIV",{class:!0});var u=P(e);for(let f=0;f<t.length;f+=1)t[f].l(u);u.forEach(m),this.h()},h(){w(e,"class","swiper svelte-d4tfnf")},m(c,u){O(c,e,u);for(let f=0;f<t.length;f+=1)t[f].m(e,null);n[8](e),i=!0,l||(r=K(e,"touchstart",n[2],{passive:!0}),l=!0)},p(c,[u]){u&57&&(o=c[0],de(),t=zt(t,u,a,1,c,o,s,e,ds,vn,null,pn),pe())},i(c){if(!i){for(let u=0;u<o.length;u+=1)V(t[u]);i=!0}},o(c){for(let u=0;u<t.length;u+=1)H(t[u]);i=!1},d(c){c&&m(e);for(let u=0;u<t.length;u+=1)t[u].d();n[8](null),l=!1,r()}}}const ze=2;function Ai([n,e],[t,s]){return Math.sqrt((n-t)**2+(e-s)**2)}function ut(n=0){return`translate3d(calc(${-(ze+n)*100}% - ${-(ze+n)*64-32}px), 0, 0)`}function Ti(n,e,t){let{$$slots:s={},$$scope:i}=e,{view:l=[]}=e;const r=Qt();let o,a=[0,0],c=Date.now(),u=0,f=1,h=1,d=[];const p={duration:200,easing:"ease"};let g=null;gt(b);async function b(){if(await hs(),!!o){for(;o.children.length>5;)await new Promise(requestAnimationFrame);!o||(l[1]===g?(t(1,o.style.transform=ut(u-1),o),Y(!1,Math.max(h,.8)),h=1):l[3]===g?(t(1,o.style.transform=ut(u+1),o),Y(!1,Math.max(h,.8)),h=1):Y(!0),g=l[ze])}}function _(C){var G,R;const{clientX:B,clientY:U}=C.touches[0];a=[B,U],c=Date.now(),k=!1,u=0,h=1,Y(!0),(G=C.target)==null||G.addEventListener("touchmove",v,{passive:!0}),(R=C.target)==null||R.addEventListener("touchend",L)}let k=!1;function v(C){var D;if(!o)return;C.stopPropagation();const{clientX:B,clientY:U}=C.touches[0],G=Math.atan2(a[1]-U,a[0]-B)/Math.PI;if(k=k||Math.abs(G)<.3||Math.abs(G-1)<.3,!k)return L(C);const R=(D=C.target)==null?void 0:D.clientWidth;if(!R)return;u=(a[0]-B)/R,t(1,o.style.transform=ut(u),o);const M=I();if(M.style.setProperty("opacity",`${1-.2*Math.abs(u)}`),M.style.setProperty("transform",`scale(${1-(1-f)*Math.abs(u)}) translateZ(1px)`),!u)return;const $=o.children[ze+Math.sign(u)]||void 0;$==null||$.style.setProperty("opacity",`${.8+.2*Math.abs(u)}`),$==null||$.style.setProperty("transform",`scale(${f+(1-f)*Math.abs(u)}) translateZ(1px)`)}async function L(C){var R,M;(R=C.target)==null||R.removeEventListener("touchmove",v),(M=C.target)==null||M.removeEventListener("touchend",L);const{clientX:B,clientY:U}=C.changedTouches[0];h=Ai(a,[B,U])/(Date.now()-c),h>.3?u>0?y():u<-0&&E():u>.5?y():u<-.5&&E(),await new Promise(requestAnimationFrame),await new Promise(requestAnimationFrame),u&&Y(!1,Math.max(h,.8))}function y(){r("next")}function E(){r("previous")}function I(){return o==null?void 0:o.children[ze]}function Y(C=!1,B){if(!o)return;const U=I();f=1-48/U.clientWidth,d.forEach($=>$.cancel()),d=[];const G={transform:"scale(1) translateZ(1px)",opacity:"1"},R={transform:`scale(${f}) translateZ(1px)`,opacity:"0.8"},M=He({},p);M.duration=B?p.duration/+B:p.duration,C?(t(1,o.style.transform=ut(),o),o.childNodes.forEach($=>{if($===U)for(const[D,Q]of Object.entries(G))$.style.setProperty(D,Q);else for(const[D,Q]of Object.entries(R))$.style.setProperty(D,Q)})):(d.push(st(o,{transform:ut()},M)),o.childNodes.forEach($=>{$===U?d.push(st($,G,M)):d.push(st($,R,M))})),u=0}const se=(C,B)=>{!C||(B-ze===1?y():B-ze===-1&&E())};function z(C){ae[C?"unshift":"push"](()=>{o=C,t(1,o)})}return n.$$set=C=>{"view"in C&&t(0,l=C.view),"$$scope"in C&&t(5,i=C.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&l&&b()},[l,o,_,y,E,i,s,se,z]}class Ni extends fe{constructor(e){super(),he(this,e,Ti,Li,ce,{view:0})}}function Ne(n,{delay:e=0,duration:t=400,easing:s=Bs}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:l=>`opacity: ${l*i}`}}function je(n,{delay:e=0,duration:t=400,easing:s=Pt,x:i=0,y:l=0,opacity:r=0}={}){const o=getComputedStyle(n),a=+o.opacity,c=o.transform==="none"?"":o.transform,u=a*(1-r);return{delay:e,duration:t,easing:s,css:(f,h)=>`
			transform: ${c} translate(${(1-f)*i}px, ${(1-f)*l}px);
			opacity: ${a-u*h}`}}function At(n,{delay:e=0,duration:t=400,easing:s=Pt}={}){const i=getComputedStyle(n),l=+i.opacity,r=parseFloat(i.height),o=parseFloat(i.paddingTop),a=parseFloat(i.paddingBottom),c=parseFloat(i.marginTop),u=parseFloat(i.marginBottom),f=parseFloat(i.borderTopWidth),h=parseFloat(i.borderBottomWidth);return{delay:e,duration:t,easing:s,css:d=>`overflow: hidden;opacity: ${Math.min(d*20,1)*l};height: ${d*r}px;padding-top: ${d*o}px;padding-bottom: ${d*a}px;margin-top: ${d*c}px;margin-bottom: ${d*u}px;border-top-width: ${d*f}px;border-bottom-width: ${d*h}px;`}}function Tt(n,{delay:e=0,duration:t=400,easing:s=Pt,start:i=0,opacity:l=0}={}){const r=getComputedStyle(n),o=+r.opacity,a=r.transform==="none"?"":r.transform,c=1-i,u=o*(1-l);return{delay:e,duration:t,easing:s,css:(f,h)=>`
			transform: ${a} scale(${1-c*h});
			opacity: ${o-u*h}
		`}}function Es(){window.UINative&&window.UINative.feedback("selection")}function Si(){window.UINative&&window.UINative.feedback("light")}function Pi(){window.UINative&&window.UINative.feedback("rigid")}function Ci(n){const e=n;return e.touches=[{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,target:n.target,force:1,identifier:0,radiusX:1,radiusY:1,rotationAngle:0}],e}function Ii(n){let e=null;function t(o){o.preventDefault();const{clientY:a,clientX:c}=o.touches[0];let u=document.elementFromPoint(c,a);n.contains(u)||(u=null),u!==e&&(e==null||e.classList.remove("active"),e=u,e==null||e.classList.add("active"),e&&Es())}function s(o){var c;o.preventDefault();const a=n.parentElement;a==null||a.removeEventListener("touchcancel",s),a==null||a.removeEventListener("touchmove",t),a==null||a.removeEventListener("touchend",s),(c=e==null?void 0:e.click)==null||c.call(e)}function i(o){o.preventDefault(),n!=o.target&&n.contains(o.target)&&(e==null||e.classList.remove("active"),e=o.target,e==null||e.classList.add("active")),o.stopPropagation();const a=n.parentElement;a==null||a.addEventListener("touchcancel",s,{passive:!1}),a==null||a.addEventListener("touchmove",t,{passive:!1}),a==null||a.addEventListener("touchend",s)}function l(){e==null||e.classList.remove("active"),e=null}function r(o){t(Ci(o))}return n.addEventListener("touchstart",i,{passive:!1}),n.addEventListener("mousemove",r,{passive:!1}),n.addEventListener("click",l),{destroy(){n.removeEventListener("touchstart",t),n.removeEventListener("mousemove",r),n.removeEventListener("click",l)}}}const Oi=n=>({}),gn=n=>({});function Vi(n){let e,t,s,i,l,r;const o=n[5].default,a=Ze(o,n,n[4],null),c=n[5].activator,u=Ze(c,n,n[4],gn);return{c(){e=T("div"),t=T("div"),a&&a.c(),s=F(),u&&u.c(),this.h()},l(f){e=N(f,"DIV",{class:!0});var h=P(e);t=N(h,"DIV",{class:!0,style:!0});var d=P(t);a&&a.l(d),d.forEach(m),s=j(h),u&&u.l(h),h.forEach(m),this.h()},h(){w(t,"class","menu svelte-gfah56"),le(t,"transform-origin",n[0]),le(t,"transform","scale("+(n[1]?1:.1)+")"),le(t,"opacity",n[1]?1:0),w(e,"class","context")},m(f,h){O(f,e,h),A(e,t),a&&a.m(t,null),n[6](t),A(e,s),u&&u.m(e,null),n[7](e),i=!0,l||(r=Ie(Ii.call(null,t)),l=!0)},p(f,[h]){a&&a.p&&(!i||h&16)&&We(a,o,f,f[4],i?Ge(o,f[4],h,null):Xe(f[4]),null),(!i||h&1)&&le(t,"transform-origin",f[0]),(!i||h&2)&&le(t,"transform","scale("+(f[1]?1:.1)+")"),(!i||h&2)&&le(t,"opacity",f[1]?1:0),u&&u.p&&(!i||h&16)&&We(u,c,f,f[4],i?Ge(c,f[4],h,Oi):Xe(f[4]),gn)},i(f){i||(V(a,f),V(u,f),i=!0)},o(f){H(a,f),H(u,f),i=!1},d(f){f&&m(e),a&&a.d(f),n[6](null),u&&u.d(f),n[7](null),l=!1,r()}}}function Hi(n,e,t){let{$$slots:s={},$$scope:i}=e,{align:l="bottom right"}=e,r=!1,o=null,a=null,c=null;function u(b){r||(d(),b.preventDefault(),o==null||o.click(),Si(),t(1,r=!0),o==null||o.classList.add("active"),c==null||c.dispatchEvent(new Event("touchstart")),addEventListener("click",f,{passive:!0,once:!0}))}function f(){t(1,r=!1),o==null||o.classList.remove("active")}function h(b){r||(b.stopPropagation(),u(new Event("")))}function d(){!o||!c||(l==="bottom right"?(t(3,c.style.top=`${o.offsetTop-c.clientHeight}px`,c),t(3,c.style.left=`${o.offsetLeft-c.clientWidth+o.clientWidth}px`,c),t(3,c.style.borderBottomRightRadius="0",c)):l=="top"&&t(3,c.style.top=`${o.offsetTop+o.clientHeight}px`,c))}gt(()=>{o=a==null?void 0:a.lastElementChild,o==null||o.addEventListener("touchstart",u,{passive:!1}),o==null||o.addEventListener("mouseover",u,{passive:!1}),o==null||o.addEventListener("click",h,{passive:!0})}),lt(()=>{o==null||o.removeEventListener("touchstart",u),o==null||o.removeEventListener("mouseover",u)});function p(b){ae[b?"unshift":"push"](()=>{c=b,t(3,c)})}function g(b){ae[b?"unshift":"push"](()=>{a=b,t(2,a)})}return n.$$set=b=>{"align"in b&&t(0,l=b.align),"$$scope"in b&&t(4,i=b.$$scope)},[l,r,a,c,i,s,p,g]}class Gt extends fe{constructor(e){super(),he(this,e,Hi,Vi,ce,{align:0})}}function Mi(n){let e,t;return{c(){e=T("button"),t=re("Artist"),this.h()},l(s){e=N(s,"BUTTON",{class:!0,"aria-label":!0});var i=P(e);t=oe(i,"Artist"),i.forEach(m),this.h()},h(){w(e,"class","artist svelte-bnvum9"),w(e,"aria-label","Show Artist")},m(s,i){O(s,e,i),A(e,t)},d(s){s&&m(e)}}}function Yi(n){let e,t;return{c(){e=T("button"),t=re("Artists"),this.h()},l(s){e=N(s,"BUTTON",{class:!0,"aria-label":!0});var i=P(e);t=oe(i,"Artists"),i.forEach(m),this.h()},h(){w(e,"class","artists svelte-bnvum9"),w(e,"aria-label","Show Artists")},m(s,i){O(s,e,i),A(e,t)},d(s){s&&m(e)}}}function $i(n){let e,t,s,i,l,r,o,a,c,u,f,h,d,p,g;function b(v,L){return v[0]?Yi:Mi}let _=b(n),k=_(n);return{c(){e=T("button"),t=re("Info"),s=F(),k.c(),i=F(),l=T("button"),r=re("Album"),o=F(),a=T("button"),c=re("Similar"),u=F(),f=T("button"),h=re("Share"),d=F(),p=T("button"),g=re("Save"),this.h()},l(v){e=N(v,"BUTTON",{class:!0,"aria-label":!0});var L=P(e);t=oe(L,"Info"),L.forEach(m),s=j(v),k.l(v),i=j(v),l=N(v,"BUTTON",{class:!0,"aria-label":!0});var y=P(l);r=oe(y,"Album"),y.forEach(m),o=j(v),a=N(v,"BUTTON",{class:!0,"aria-label":!0});var E=P(a);c=oe(E,"Similar"),E.forEach(m),u=j(v),f=N(v,"BUTTON",{class:!0,"aria-label":!0});var I=P(f);h=oe(I,"Share"),I.forEach(m),d=j(v),p=N(v,"BUTTON",{class:!0,"aria-label":!0});var Y=P(p);g=oe(Y,"Save"),Y.forEach(m),this.h()},h(){w(e,"class","info svelte-bnvum9"),w(e,"aria-label","Show Info"),w(l,"class","album svelte-bnvum9"),w(l,"aria-label","Show Album"),w(a,"class","similar svelte-bnvum9"),w(a,"aria-label","Find Similar"),w(f,"class","share svelte-bnvum9"),w(f,"aria-label","Share Track"),w(p,"class","save svelte-bnvum9"),w(p,"aria-label","Save Track")},m(v,L){O(v,e,L),A(e,t),O(v,s,L),k.m(v,L),O(v,i,L),O(v,l,L),A(l,r),O(v,o,L),O(v,a,L),A(a,c),O(v,u,L),O(v,f,L),A(f,h),O(v,d,L),O(v,p,L),A(p,g)},p(v,L){_!==(_=b(v))&&(k.d(1),k=_(v),k&&(k.c(),k.m(i.parentNode,i)))},d(v){v&&m(e),v&&m(s),k.d(v),v&&m(i),v&&m(l),v&&m(o),v&&m(a),v&&m(u),v&&m(f),v&&m(d),v&&m(p)}}}function Ui(n){let e,t,s;return{c(){e=T("button"),this.h()},l(i){e=N(i,"BUTTON",{slot:!0,class:!0,"aria-label":!0}),P(e).forEach(m),this.h()},h(){w(e,"slot","activator"),w(e,"class","options svelte-bnvum9"),w(e,"aria-label","Show Options"),X(e,"active",!1)},m(i,l){O(i,e,l),t||(s=K(e,"touchstart",Ce(n[1]),{passive:!0}),t=!0)},p:J,d(i){i&&m(e),t=!1,s()}}}function Bi(n){let e,t,s,i;return t=new Gt({props:{$$slots:{activator:[Ui],default:[$i]},$$scope:{ctx:n}}}),{c(){e=T("div"),x(t.$$.fragment)},l(l){e=N(l,"DIV",{});var r=P(e);ne(t.$$.fragment,r),r.forEach(m)},m(l,r){O(l,e,r),ee(t,e,null),i=!0},p(l,[r]){const o={};r&5&&(o.$$scope={dirty:r,ctx:l}),t.$set(o)},i(l){i||(V(t.$$.fragment,l),ye(()=>{s||(s=_e(e,Ne,{},!0)),s.run(1)}),i=!0)},o(l){H(t.$$.fragment,l),s||(s=_e(e,Ne,{},!1)),s.run(0),i=!1},d(l){l&&m(e),te(t),l&&s&&s.end()}}}function qi(n,e,t){let{multiartist:s=!1}=e;function i(l){$e.call(this,n,l)}return n.$$set=l=>{"multiartist"in l&&t(0,s=l.multiartist)},[s,i]}class Ri extends fe{constructor(e){super(),he(this,e,qi,Bi,ce,{multiartist:0})}}function Di(n){let e,t,s,i;return t=new bt({props:{size:96}}),{c(){e=T("div"),x(t.$$.fragment),this.h()},l(l){e=N(l,"DIV",{class:!0});var r=P(e);ne(t.$$.fragment,r),r.forEach(m),this.h()},h(){w(e,"class","loader svelte-ewecp1")},m(l,r){O(l,e,r),ee(t,e,null),i=!0},p:J,i(l){i||(V(t.$$.fragment,l),ye(()=>{s||(s=_e(e,Tt,{},!0)),s.run(1)}),i=!0)},o(l){H(t.$$.fragment,l),s||(s=_e(e,Tt,{},!1)),s.run(0),i=!1},d(l){l&&m(e),te(t),l&&s&&s.end()}}}function Fi(n){let e,t,s,i,l;return{c(){e=T("button"),this.h()},l(r){e=N(r,"BUTTON",{class:!0,"aria-label":!0}),P(e).forEach(m),this.h()},h(){w(e,"class","pause svelte-ewecp1"),w(e,"aria-label","Pause/Play"),X(e,"paused",!n[0])},m(r,o){O(r,e,o),s=!0,i||(l=K(e,"click",n[2]),i=!0)},p(r,o){o&1&&X(e,"paused",!r[0])},i(r){s||(ye(()=>{t||(t=_e(e,Tt,{},!0)),t.run(1)}),s=!0)},o(r){t||(t=_e(e,Tt,{},!1)),t.run(0),s=!1},d(r){r&&m(e),r&&t&&t.end(),i=!1,l()}}}function ji(n){let e,t,s,i,l;const r=[Fi,Di],o=[];function a(c,u){return c[1]?1:0}return t=a(n),s=o[t]=r[t](n),{c(){e=T("div"),s.c(),this.h()},l(c){e=N(c,"DIV",{class:!0});var u=P(e);s.l(u),u.forEach(m),this.h()},h(){w(e,"class","container svelte-ewecp1"),X(e,"paused",!n[0]&&!n[1])},m(c,u){O(c,e,u),o[t].m(e,null),l=!0},p(c,[u]){let f=t;t=a(c),t===f?o[t].p(c,u):(de(),H(o[f],1,1,()=>{o[f]=null}),pe(),s=o[t],s?s.p(c,u):(s=o[t]=r[t](c),s.c()),V(s,1),s.m(e,null)),u&3&&X(e,"paused",!c[0]&&!c[1])},i(c){l||(V(s),ye(()=>{i||(i=_e(e,Ne,{},!0)),i.run(1)}),l=!0)},o(c){H(s),i||(i=_e(e,Ne,{},!1)),i.run(0),l=!1},d(c){c&&m(e),o[t].d(),c&&i&&i.end()}}}function zi(n,e,t){let{paused:s}=e,{loading:i}=e;const l=()=>t(0,s=!s);return n.$$set=r=>{"paused"in r&&t(0,s=r.paused),"loading"in r&&t(1,i=r.loading)},[s,i,l]}class Qi extends fe{constructor(e){super(),he(this,e,zi,ji,ce,{paused:0,loading:1})}}function bn(n){let e,t,s,i,l;function r(a){n[4](a)}let o={loading:n[1]};return n[0]!==void 0&&(o.paused=n[0]),e=new Qi({props:o}),ae.push(()=>be(e,"paused",r)),i=new Ri({props:{multiartist:n[7].artists.length>1}}),{c(){x(e.$$.fragment),s=F(),x(i.$$.fragment)},l(a){ne(e.$$.fragment,a),s=j(a),ne(i.$$.fragment,a)},m(a,c){ee(e,a,c),O(a,s,c),ee(i,a,c),l=!0},p(a,c){const u={};c&2&&(u.loading=a[1]),!t&&c&1&&(t=!0,u.paused=a[0],ge(()=>t=!1)),e.$set(u);const f={};c&128&&(f.multiartist=a[7].artists.length>1),i.$set(f)},i(a){l||(V(e.$$.fragment,a),V(i.$$.fragment,a),l=!0)},o(a){H(e.$$.fragment,a),H(i.$$.fragment,a),l=!1},d(a){te(e,a),a&&m(s),te(i,a)}}}function Ki(n){let e,t,s,i;t=new Xt({props:{image:n[7].cover}});let l=n[8]===0&&bn(n);return{c(){e=T("div"),x(t.$$.fragment),s=F(),l&&l.c(),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=P(e);ne(t.$$.fragment,o),s=j(o),l&&l.l(o),o.forEach(m),this.h()},h(){w(e,"class","container svelte-14bp2zz"),X(e,"active",!n[8])},m(r,o){O(r,e,o),ee(t,e,null),A(e,s),l&&l.m(e,null),i=!0},p(r,o){const a={};o&128&&(a.image=r[7].cover),t.$set(a),r[8]===0?l?(l.p(r,o),o&256&&V(l,1)):(l=bn(r),l.c(),V(l,1),l.m(e,null)):l&&(de(),H(l,1,1,()=>{l=null}),pe()),o&256&&X(e,"active",!r[8])},i(r){i||(V(t.$$.fragment,r),V(l),i=!0)},o(r){H(t.$$.fragment,r),H(l),i=!1},d(r){r&&m(e),te(t),l&&l.d()}}}function Wi(n){let e,t;return e=new Ni({props:{view:n[2],$$slots:{default:[Ki,({item:s,position:i})=>({7:s,8:i}),({item:s,position:i})=>(s?128:0)|(i?256:0)]},$$scope:{ctx:n}}}),e.$on("next",n[5]),e.$on("previous",n[6]),{c(){x(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,i){ee(e,s,i),t=!0},p(s,[i]){const l={};i&4&&(l.view=s[2]),i&899&&(l.$$scope={dirty:i,ctx:s}),e.$set(l)},i(s){t||(V(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){te(e,s)}}}function Xi(n,e,t){let s;Se(n,Z,u=>t(3,s=u));let{paused:i}=e,{loading:l}=e,r=[];function o(u){i=u,t(0,i)}const a=()=>Z.next(),c=()=>Z.previous();return n.$$set=u=>{"paused"in u&&t(0,i=u.paused),"loading"in u&&t(1,l=u.loading)},n.$$.update=()=>{n.$$.dirty&12&&s&&(t(2,r[0]=Z.history[Z.history.length-2]||{},r),t(2,r[1]=Z.history[Z.history.length-1]||{},r),t(2,r[2]=Z.current||{},r),t(2,r[3]=Z.queue[0]||{},r),t(2,r[4]=Z.queue[1]||{},r),Z.repetition==Ae.All&&(r[3].title||t(2,r[3]=He({},Z.history[0]),r),r[4].title||t(2,r[4]=He({},Z.history[1]),r)))},[i,l,r,s,o,a,c]}class Gi extends fe{constructor(e){super(),he(this,e,Xi,Wi,ce,{paused:0,loading:1})}}function nt(n){n=Math.round(n),n<=0&&(n=0);const e=~~(n/60),t=(n-e*60).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1});return Number.isFinite(n)?`${e}:${t}`:t}function wn(n){let e,t,s=nt(Math.min(n[2],n[0]))+"",i,l,r,o,a=nt(n[0]-n[2])+"",c,u,f;return{c(){e=T("div"),t=T("button"),i=re(s),r=F(),o=T("button"),c=re(a),this.h()},l(h){e=N(h,"DIV",{class:!0});var d=P(e);t=N(d,"BUTTON",{class:!0,"aria-label":!0,oncontextmenu:!0});var p=P(t);i=oe(p,s),p.forEach(m),r=j(d),o=N(d,"BUTTON",{class:!0,"aria-label":!0});var g=P(o);c=oe(g,a),g.forEach(m),d.forEach(m),this.h()},h(){w(t,"class","elapsed svelte-2wuvxd"),w(t,"aria-label","Seek Backwards"),w(t,"oncontextmenu",l=Ji),w(o,"class","left svelte-2wuvxd"),w(o,"aria-label","Seek Forward"),w(e,"class","time svelte-2wuvxd")},m(h,d){O(h,e,d),A(e,t),A(t,i),A(e,r),A(e,o),A(o,c),u||(f=[K(t,"mousedown",Ce(ft(n[10])),{passive:!1}),K(t,"touchstart",Ce(ft(n[11])),{passive:!1}),K(o,"mousedown",Ce(ft(n[12])),{passive:!1}),K(o,"touchstart",Ce(ft(n[13])),{passive:!1}),K(o,"contextmenu",xi)],u=!0)},p(h,d){d&5&&s!==(s=nt(Math.min(h[2],h[0]))+"")&&we(i,s),d&5&&a!==(a=nt(h[0]-h[2])+"")&&we(c,a)},d(h){h&&m(e),u=!1,ve(f)}}}function Zi(n){let e,t,s,i,l=n[0],r,o,a=wn(n);return{c(){e=T("div"),t=T("input"),i=F(),a.c(),this.h()},l(c){e=N(c,"DIV",{class:!0});var u=P(e);t=N(u,"INPUT",{"aria-label":!0,class:!0,type:!0,min:!0,max:!0,style:!0}),i=j(u),a.l(u),u.forEach(m),this.h()},h(){w(t,"aria-label","Playback Progress"),w(t,"class","progress svelte-2wuvxd"),w(t,"type","range"),w(t,"min","0"),w(t,"max",s=Number.isFinite(n[0])?n[0]:0),le(t,"--progress",n[2]/n[0]*100+"%"),w(e,"class","playback svelte-2wuvxd")},m(c,u){O(c,e,u),A(e,t),Ye(t,n[2]),n[9](t),A(e,i),a.m(e,null),r||(o=[K(t,"change",n[8]),K(t,"input",n[8]),K(t,"touchstart",Ce(n[7]),{passive:!0})],r=!0)},p(c,[u]){u&1&&s!==(s=Number.isFinite(c[0])?c[0]:0)&&w(t,"max",s),u&5&&le(t,"--progress",c[2]/c[0]*100+"%"),u&4&&Ye(t,c[2]),u&1&&ce(l,l=c[0])?(a.d(1),a=wn(c),a.c(),a.m(e,null)):a.p(c,u)},i:J,o:J,d(c){c&&m(e),n[9](null),a.d(c),r=!1,ve(o)}}}const yt=5,Ji=()=>!1,xi=()=>!1;function el(n,e,t){let{time:s}=e,{length:i}=e,{speedup:l}=e,{visible:r=!0}=e,o,a=0,c=!1;function u(){t(4,s=a),c=!1}function f(E){!c&&a!==s&&t(2,a=s)}function h(){c||(c=!0)}function d(E,I){t(5,l=I);const Y={once:!0};E==null||E.addEventListener("mouseup",p,Y),E==null||E.addEventListener("mouseleave",p,Y),E==null||E.addEventListener("touchend",p,Y),E==null||E.addEventListener("touchcancel",p,Y)}function p({target:E}){t(5,l=NaN),E==null||E.removeEventListener("mouseup",p),E==null||E.removeEventListener("mouseleave",p),E==null||E.removeEventListener("touchend",p),E==null||E.removeEventListener("touchcancel",p)}gt(()=>{o.addEventListener("change",u),o.addEventListener("input",h)}),lt(()=>{o==null||o.removeEventListener("change",u),o==null||o.removeEventListener("input",h)});function g(E){$e.call(this,n,E)}function b(){a=qs(this.value),t(2,a)}function _(E){ae[E?"unshift":"push"](()=>{o=E,t(1,o)})}const k=({target:E})=>d(E,-yt),v=({target:E})=>d(E,-yt),L=({target:E})=>d(E,yt),y=({target:E})=>d(E,yt);return n.$$set=E=>{"time"in E&&t(4,s=E.time),"length"in E&&t(0,i=E.length),"speedup"in E&&t(5,l=E.speedup),"visible"in E&&t(6,r=E.visible)},n.$$.update=()=>{n.$$.dirty&80&&r&&f()},[i,o,a,d,s,l,r,g,b,_,k,v,L,y]}class tl extends fe{constructor(e){super(),he(this,e,el,Zi,ce,{time:4,length:0,speedup:5,visible:6})}}var ks="complete",yn="canceled";function nl(n){if("requestAnimationFrame"in window)return window.requestAnimationFrame(n);setTimeout(n,16)}function En(n,e,t){n.self===n?n.scrollTo(e,t):(n.scrollLeft=e,n.scrollTop=t)}function sl(n,e){var t=n.align,s=n.target,i=s.getBoundingClientRect(),l,r,o,a,c,u,f,h=t&&t.left!=null?t.left:.5,d=t&&t.top!=null?t.top:.5,p=t&&t.leftOffset!=null?t.leftOffset:0,g=t&&t.topOffset!=null?t.topOffset:0,b=h,_=d;if(n.isWindow(e))u=Math.min(i.width,e.innerWidth),f=Math.min(i.height,e.innerHeight),r=i.left+e.pageXOffset-e.innerWidth*b+u*b,o=i.top+e.pageYOffset-e.innerHeight*_+f*_,r-=p,o-=g,r=n.align.lockX?e.pageXOffset:r,o=n.align.lockY?e.pageYOffset:o,a=r-e.pageXOffset,c=o-e.pageYOffset;else{u=i.width,f=i.height,l=e.getBoundingClientRect();var k=i.left-(l.left-e.scrollLeft),v=i.top-(l.top-e.scrollTop);r=k+u*b-e.clientWidth*b,o=v+f*_-e.clientHeight*_,r-=p,o-=g,r=Math.max(Math.min(r,e.scrollWidth-e.clientWidth),0),o=Math.max(Math.min(o,e.scrollHeight-e.clientHeight),0),r=n.align.lockX?e.scrollLeft:r,o=n.align.lockY?e.scrollTop:o,a=r-e.scrollLeft,c=o-e.scrollTop}return{x:r,y:o,differenceX:a,differenceY:c}}function kt(n){var e=n._scrollSettings;if(!!e){var t=e.maxSynchronousAlignments,s=sl(e,n),i=Date.now()-e.startTime,l=Math.min(1/e.time*i,1);if(e.endIterations>=t)return En(n,s.x,s.y),n._scrollSettings=null,e.end(ks);var r=1-e.ease(l);if(En(n,s.x-s.differenceX*r,s.y-s.differenceY*r),i>=e.time){e.endIterations++,e.scrollAncestor&&kt(e.scrollAncestor),kt(n);return}nl(kt.bind(null,n))}}function il(n){return n.self===n}function ll(n,e,t,s,i){var l=!e._scrollSettings,r=e._scrollSettings,o=Date.now(),a,c={passive:!0};r&&r.end(yn);function u(h){e._scrollSettings=null,e.parentElement&&e.parentElement._scrollSettings&&e.parentElement._scrollSettings.end(h),t.debug&&console.log("Scrolling ended with type",h,"for",e),i(h),a&&(e.removeEventListener("touchstart",a,c),e.removeEventListener("wheel",a,c))}var f=t.maxSynchronousAlignments;return f==null&&(f=3),e._scrollSettings={startTime:o,endIterations:0,target:n,time:t.time,ease:t.ease,align:t.align,isWindow:t.isWindow||il,maxSynchronousAlignments:f,end:u,scrollAncestor:s},(!("cancellable"in t)||t.cancellable)&&(a=u.bind(null,yn),e.addEventListener("touchstart",a,c),e.addEventListener("wheel",a,c)),l&&kt(e),a}function kn(n){return"pageXOffset"in n||(n.scrollHeight!==n.clientHeight||n.scrollWidth!==n.clientWidth)&&getComputedStyle(n).overflow!=="hidden"}function rl(){return!0}function Dt(n){if(n.assignedSlot)return Dt(n.assignedSlot);if(n.parentElement)return n.parentElement.tagName.toLowerCase()==="body"?n.parentElement.ownerDocument.defaultView||n.parentElement.ownerDocument.ownerWindow:n.parentElement;if(n.getRootNode){var e=n.getRootNode();if(e.nodeType===11)return e.host}}var Ft=function(n,e,t){if(!n)return;typeof e=="function"&&(t=e,e=null),e||(e={}),e.time=isNaN(e.time)?1e3:e.time,e.ease=e.ease||function(c){return 1-Math.pow(1-c,c/2)},e.align=e.align||{};var s=Dt(n),i=1;function l(c){i--,i||t&&t(c)}var r=e.validTarget||rl,o=e.isScrollable;e.debug&&(console.log("About to scroll to",n),s||console.error("Target did not have a parent, is it mounted in the DOM?"));for(var a=[];s;)if(e.debug&&console.log("Scrolling parent node",s),r(s,i)&&(o?o(s,kn):kn(s))&&(i++,a.push(s)),s=Dt(s),!s){l(ks);break}return a.reduce((c,u,f)=>ll(n,u,e,a[f+1],l),null)};function Zt(n,{hider:e,header:t,dynamicHider:s=!1}){var b;let i=!1;const l=e?n.querySelector(e):null,r=t&&((b=n.parentElement)==null?void 0:b.querySelector(t))||null,o=n.style.overflowY;function a(_){n.scrollHeight<=n.clientHeight||(_.stopPropagation(),i=!0,n.style.overflowY=o,n.addEventListener("touchend",c),navigator.standalone&&!n.scrollTop&&n.scrollTo(0,1))}function c(){i=!1,n.style.overflowY=o,n.removeEventListener("touchend",c)}function u({target:_}){const k=_.scrollTop;l&&i&&k<-80&&(l==null||l.click())}function f(){n.style.overflowY="hidden"}function h(){if(!l)return;const _=n.scrollHeight-l.clientHeight>n.clientHeight;l.style.display=_?"block":"none"}function d(){Ft(n.firstElementChild,{time:200,align:{top:0,topOffset:64}})}n.addEventListener("touchstart",a,{passive:!0}),n.addEventListener("scroll",u,{passive:!0}),n.addEventListener("scrollcancel",f),r==null||r.addEventListener("click",d);let p=null,g=null;if(s){p=new MutationObserver(()=>setTimeout(h,0)),p.observe(n,{childList:!0});const _=n.parentElement;g=new IntersectionObserver(([k])=>{k.isIntersecting&&h()},{root:_==null?void 0:_.parentElement}),_&&g.observe(_)}return{destroy(){p==null||p.disconnect(),g==null||g.disconnect(),n.removeEventListener("touchstart",a),n.removeEventListener("scroll",u),n.removeEventListener("scrollcancel",f),r==null||r.removeEventListener("click",d)}}}function ol(n){return{c:J,l:J,m:J,p:J,i:J,o:J,d:J}}function al(n){let e,t=n[3]+"",s,i;return{c(){e=T("span"),s=re(t),this.h()},l(l){e=N(l,"SPAN",{class:!0});var r=P(e);s=oe(r,t),r.forEach(m),this.h()},h(){w(e,"class","svelte-18yupa1")},m(l,r){O(l,e,r),A(e,s)},p(l,r){r&1&&t!==(t=l[3]+"")&&we(s,t)},i(l){i||ye(()=>{i=rt(e,Ne,{delay:300}),i.start()})},o:J,d(l){l&&m(e)}}}function ul(n){let e,t,s,i;return{c(){e=T("span"),t=re(`Lorem, ipsum dolor sit amet consectetur adipisicing elit. Doloribus
      veritatis laborum impedit placeat totam rem, esse, necessitatibus beatae
      nemo facere accusantium consectetur nostrum vero atque obcaecati soluta!
      Tenetur, iusto quia? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Maiores saepe debitis esse, recusandae molestiae minima perspiciatis
      ducimus vero officiis mollitia illum quidem!`),this.h()},l(l){e=N(l,"SPAN",{class:!0});var r=P(e);t=oe(r,`Lorem, ipsum dolor sit amet consectetur adipisicing elit. Doloribus
      veritatis laborum impedit placeat totam rem, esse, necessitatibus beatae
      nemo facere accusantium consectetur nostrum vero atque obcaecati soluta!
      Tenetur, iusto quia? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Maiores saepe debitis esse, recusandae molestiae minima perspiciatis
      ducimus vero officiis mollitia illum quidem!`),r.forEach(m),this.h()},h(){w(e,"class","loading svelte-18yupa1")},m(l,r){O(l,e,r),A(e,t),i=!0},p:J,i(l){i||(s&&s.end(1),i=!0)},o(l){s=ot(e,Ne,{duration:300}),i=!1},d(l){l&&m(e),l&&s&&s.end()}}}function cl(n){let e,t,s,i,l,r,o,a,c,u,f={ctx:n,current:null,token:null,hasCatch:!1,pending:ul,then:al,catch:ol,value:3,blocks:[,,,]};return Lt(l=n[0],f),{c(){e=T("h2"),t=re("Lyrics"),s=F(),i=T("div"),f.block.c(),r=F(),o=T("button"),this.h()},l(h){e=N(h,"H2",{class:!0});var d=P(e);t=oe(d,"Lyrics"),d.forEach(m),s=j(h),i=N(h,"DIV",{class:!0});var p=P(i);f.block.l(p),r=j(p),o=N(p,"BUTTON",{class:!0,style:!0,"aria-label":!0}),P(o).forEach(m),p.forEach(m),this.h()},h(){w(e,"class","svelte-18yupa1"),w(o,"class","slider-handle svelte-18yupa1"),le(o,"display","none"),w(o,"aria-label","Hide Lyrics"),w(i,"class","text svelte-18yupa1")},m(h,d){O(h,e,d),A(e,t),O(h,s,d),O(h,i,d),f.block.m(i,f.anchor=null),f.mount=()=>i,f.anchor=r,A(i,r),A(i,o),a=!0,c||(u=Ie(Zt.call(null,i,{header:"h2",hider:".slider-handle",dynamicHider:!0})),c=!0)},p(h,[d]){n=h,f.ctx=n,d&1&&l!==(l=n[0])&&Lt(l,f)||ps(f,n,d)},i(h){a||(V(f.block),a=!0)},o(h){for(let d=0;d<3;d+=1){const p=f.blocks[d];H(p)}a=!1},d(h){h&&m(e),h&&m(s),h&&m(i),f.block.d(),f.token=null,f=null,c=!1,u()}}}function fl(n,e,t){let s;Se(n,Oe,r=>t(2,s=r));let{track:i}=e,l="";return n.$$set=r=>{"track"in r&&t(1,i=r.track)},n.$$.update=()=>{n.$$.dirty&6&&s.token&&t(0,l=i!==Te?ii(i):"")},[l,i,s]}class hl extends fe{constructor(e){super(),he(this,e,fl,cl,ce,{track:1})}}function Ls(n,{scrollThreshold:e=64,offsetTop:t=0,offsetLeft:s=0,offsetBottom:i=0,margin:l=0}={}){const r=()=>{n.addEventListener("touchstart",L,{passive:!0,once:!0})};let o,a={top:0,bottom:innerHeight-i},c=[0,0,0],u=null,f=null,h=null,d=null;function p(){return n.querySelectorAll("[data-index]")}function g(C){if(C==null)return null;const B=`[data-index="${C}"`;return n.querySelector(B)}function b(C){var U;const B=+(((U=C.dataset)==null?void 0:U.index)||NaN);return Number.isInteger(B)?B:null}function _(){p().forEach(C=>{const B=b(C);if(B==null||f==null||h==null)return;let U="translate3d(0,0,0)";B<=f&&B>h?U=`translate3d(0,calc(-100% - ${l}px),0)`:B<h&&B>=f&&(U=`translate3d(0,calc(+100% + ${l}px),0)`),C.style.transform=U})}function k(C){C.style.padding="0";const B=C.getBoundingClientRect();C.style.padding=null,d=C.cloneNode(!0),d.style.position="fixed",d.style.zIndex="0",d.style.left=B.left-s+"px",d.style.top=B.top-t+"px",d.style.width=B.width+"px",delete d.dataset.index,n.appendChild(d),C.style.opacity="0",requestAnimationFrame(()=>{d==null||d.classList.add("dragging")})}function v(){return new Promise(async C=>{if(!d)return C();const B=g(h);B&&(B.style.opacity="1");const U=g(f);if(!U)return d.remove(),d=null,C();U.style.opacity="0";const G=U.getBoundingClientRect(),R={transform:`translate3d(${G.left-s-d.offsetLeft}px,${G.top-t-d.offsetTop+scrollY}px,0)`};d.classList.remove("dragging");const M=st(d,[R],{duration:300,easing:"ease",fill:"none"}),$=()=>{U.style.opacity="1",requestAnimationFrame(()=>{d==null||d.remove(),d=null,C()})};M.oncancel=$,M.onfinish=$,M.onremove=$})}function L(C){var Q;const B=+(((Q=C.target)==null?void 0:Q.dataset.index)||NaN);if(!Number.isInteger(B))return r();const{clientX:U,clientY:G}=C.touches[0],R=()=>{var ue,Ee,Re,Ve,Le;const q=g(B);if(!q)return r();const ie=(ue=n.parentElement)==null?void 0:ue.getBoundingClientRect();if(!ie)return r();n.dispatchEvent(new Event("scrollcancel",{bubbles:!0})),q.dispatchEvent(new Event("dragstart")),k(q),h=f=B,c=[U,G,((Ee=n.parentElement)==null?void 0:Ee.scrollTop)||0],u=[U,G],a={top:Math.max(ie.top,a.top),bottom:Math.min(ie.top+ie.height-i,a.bottom)},addEventListener("touchend",E),(Re=C.target)==null||Re.addEventListener("touchend",E),(Ve=C.target)==null||Ve.addEventListener("touchcancel",E),(Le=C.target)==null||Le.addEventListener("touchmove",y,{passive:!0}),Pi()},M=setTimeout(()=>{D(),R()},300),$=({touches:q})=>{q[0].force>.1&&(D(),R())},D=q=>{clearTimeout(M),n.removeEventListener("touchmove",D),n.removeEventListener("touchend",D),n.removeEventListener("touchforcechange",$),q&&r()};n.addEventListener("touchmove",D,{passive:!0,once:!0}),n.addEventListener("touchend",D,{passive:!0,once:!0}),n.addEventListener("touchforcechange",$)}function y(C){var Q;if(!d||h==null||!C&&!u)return;const{clientX:B=(u==null?void 0:u[0])||0,clientY:U=(u==null?void 0:u[1])||0}=(C==null?void 0:C.touches[0])||{},G=Math.min(Math.max(U,a.top),a.bottom-1);u=[B,U];const R=B-c[0],M=G-c[1],$=(((Q=n.parentElement)==null?void 0:Q.scrollTop)||0)-c[2];d.style.transform=`translate3d(${R}px, ${M}px, 0)`,U-a.top<e?I(!1):U>a.bottom-e?I(!0):o&&(cancelAnimationFrame(o),o=void 0);let D=h+Math.round((M+$)/(d.offsetHeight+l));D<0&&(D=0),D!==f&&(!g(D)||(f=D,_(),Es()))}async function E(C){var B,U,G;(B=C.target)==null||B.removeEventListener("touchmove",y),(U=C.target)==null||U.removeEventListener("touchend",E),(G=C.target)==null||G.removeEventListener("touchcancel",E),removeEventListener("touchend",E),p().forEach(R=>{const M=R.style.transition;R.style.transition="none",R.style.transform="none",requestAnimationFrame(()=>{R.style.transition=M})}),o&&cancelAnimationFrame(o),o=void 0,v().finally(r),f!=null&&f!=h&&n.dispatchEvent(new CustomEvent("swap",{detail:{from:h,to:f}})),u=h=f=null}function I(C){if(o)return;const B=C?1:-1,U=C?a.bottom:a.top;let G=Date.now();const R=()=>{const M=(u==null?void 0:u[1])||0,$=Math.pow(1- -B*(M-U)/e,2),D=Date.now()-G;G=Date.now();const Q=n.parentElement;if(!Q)return;Q.scrollBy(0,D*B*$/2),y();const q=Q.scrollTop;!C&&q<=0||C&&q>=Q.scrollHeight||!o||(o=requestAnimationFrame(R))};o=requestAnimationFrame(R)}function Y(C){C.preventDefault()}function se(C){for(const B of C)B.addedNodes.forEach(U=>{if(U.nodeType!=U.ELEMENT_NODE)return;const G=U,R=b(G);R!=null&&R===h&&(G.style.opacity="0")})}n.addEventListener("dragstart",Y);const z=new MutationObserver(se);return r(),z.observe(n,{childList:!0}),{destroy(){n.removeEventListener("touchstart",L),n.removeEventListener("dragstart",Y),z.disconnect()}}}function Jt(n){function e(){const i=setTimeout(()=>{t()},100),l=()=>{clearTimeout(i),s(),n.removeEventListener("touchcancel",l),n.removeEventListener("touchmove",l),n.removeEventListener("dragstart",l),n.removeEventListener("touchend",r)},r=()=>{t(),setTimeout(l,100)};n.addEventListener("touchcancel",l,{passive:!0,once:!0}),n.addEventListener("touchmove",l,{passive:!0,once:!0}),n.addEventListener("dragstart",l,{passive:!0,once:!0}),n.addEventListener("touchend",r,{passive:!0,once:!0})}function t(){n.classList.add("tapped")}function s(){n.classList.remove("tapped")}return n.addEventListener("touchstart",e,{passive:!0}),matchMedia("(pointer:fine)").matches&&(n.addEventListener("mouseover",t),n.addEventListener("mouseleave",s)),{destroy(){n.removeEventListener("touchstart",e),n.removeEventListener("mouseover",t),n.removeEventListener("mouseleave",s)}}}function dl(n,{from:e,to:t},s={}){const i=getComputedStyle(n),l=i.transform==="none"?"":i.transform,[r,o]=i.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*r/t.width-(t.left+r),c=e.top+e.height*o/t.height-(t.top+o),{delay:u=0,duration:f=d=>Math.sqrt(d)*120,easing:h=Pt}=s;return{delay:u,duration:Rs(f)?f(Math.sqrt(a*a+c*c)):f,easing:h,css:(d,p)=>{const g=p*a,b=p*c,_=d+p*e.width/t.width,k=d+p*e.height/t.height;return`transform: ${l} translate(${g}px, ${b}px) scale(${_}, ${k});`}}}function Ln(n,e,t){const s=n.slice();return s[24]=e[t],s}const pl=n=>({item:n&2,index:n&2}),An=n=>({item:n[24].data,index:n[24].index});function Tn(n,e,t){const s=n.slice();return s[24]=e[t],s}const ml=n=>({item:n&2,index:n&2}),Nn=n=>({item:n[24].data,index:n[24].index});function _l(n){let e=[],t=new Map,s,i,l=n[1];const r=o=>o[24].data;for(let o=0;o<l.length;o+=1){let a=Ln(n,l,o),c=r(a);t.set(c,e[o]=Sn(c,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();s=Pe()},l(o){for(let a=0;a<e.length;a+=1)e[a].l(o);s=Pe()},m(o,a){for(let c=0;c<e.length;c+=1)e[c].m(o,a);O(o,s,a),i=!0},p(o,a){if(a&4098){l=o[1],de();for(let c=0;c<e.length;c+=1)e[c].r();e=zt(e,a,r,1,o,l,t,s.parentNode,js,Sn,s,Ln);for(let c=0;c<e.length;c+=1)e[c].a();pe()}},i(o){if(!i){for(let a=0;a<l.length;a+=1)V(e[a]);i=!0}},o(o){for(let a=0;a<e.length;a+=1)H(e[a]);i=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&m(s)}}}function vl(n){let e=[],t=new Map,s,i,l=n[1];const r=o=>o[24].index;for(let o=0;o<l.length;o+=1){let a=Tn(n,l,o),c=r(a);t.set(c,e[o]=Pn(c,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();s=Pe()},l(o){for(let a=0;a<e.length;a+=1)e[a].l(o);s=Pe()},m(o,a){for(let c=0;c<e.length;c+=1)e[c].m(o,a);O(o,s,a),i=!0},p(o,a){a&4098&&(l=o[1],de(),e=zt(e,a,r,1,o,l,t,s.parentNode,ds,Pn,s,Tn),pe())},i(o){if(!i){for(let a=0;a<l.length;a+=1)V(e[a]);i=!0}},o(o){for(let a=0;a<e.length;a+=1)H(e[a]);i=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&m(s)}}}function Sn(n,e){let t,s,i,l=J,r;const o=e[13].default,a=Ze(o,e,e[12],An);return{key:n,first:null,c(){t=T("div"),a&&a.c(),s=F(),this.h()},l(c){t=N(c,"DIV",{class:!0});var u=P(t);a&&a.l(u),s=j(u),u.forEach(m),this.h()},h(){w(t,"class","svelte-14yvz9"),this.first=t},m(c,u){O(c,t,u),a&&a.m(t,null),A(t,s),r=!0},p(c,u){e=c,a&&a.p&&(!r||u&4098)&&We(a,o,e,e[12],r?Ge(o,e[12],u,pl):Xe(e[12]),An)},r(){i=t.getBoundingClientRect()},f(){Ds(t),l()},a(){l(),l=Fs(t,i,dl,{duration:300})},i(c){r||(V(a,c),r=!0)},o(c){H(a,c),r=!1},d(c){c&&m(t),a&&a.d(c)}}}function Pn(n,e){let t,s;const i=e[13].default,l=Ze(i,e,e[12],Nn);return{key:n,first:null,c(){t=Pe(),l&&l.c(),this.h()},l(r){t=Pe(),l&&l.l(r),this.h()},h(){this.first=t},m(r,o){O(r,t,o),l&&l.m(r,o),s=!0},p(r,o){e=r,l&&l.p&&(!s||o&4098)&&We(l,i,e,e[12],s?Ge(i,e[12],o,ml):Xe(e[12]),Nn)},i(r){s||(V(l,r),s=!0)},o(r){H(l,r),s=!1},d(r){r&&m(t),l&&l.d(r)}}}function gl(n){let e,t,s,i;const l=[vl,_l],r=[];function o(a,c){return a[0]?1:0}return e=o(n),t=r[e]=l[e](n),{c(){t.c(),s=Pe()},l(a){t.l(a),s=Pe()},m(a,c){r[e].m(a,c),O(a,s,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?r[e].p(a,c):(de(),H(r[u],1,1,()=>{r[u]=null}),pe(),t=r[e],t?t.p(a,c):(t=r[e]=l[e](a),t.c()),V(t,1),t.m(s.parentNode,s))},i(a){i||(V(t),i=!0)},o(a){H(t),i=!1},d(a){r[e].d(a),a&&m(s)}}}const Cn=2;function bl(n,e,t){let s,{$$slots:i={},$$scope:l}=e,{items:r}=e,{viewport:o}=e,{container:a}=e,{itemHeight:c}=e,{flipping:u=0}=e,f=null,h,d,p=0,g=NaN,b=0,_=0,k=0,v;function L(...C){if(!c||!o||!h)return;let B=~~(d/c)-Cn,U=B+Math.ceil(h/c)+1+Cn*2;B<0&&(B=0),U>r.length&&(U=r.length),g!==B&&(t(7,g=B),t(9,_=g*c)),b!==U?(t(8,b=U),t(10,k=(r.length-b)*c)):p!=r.length&&(t(10,k=(r.length-b)*c),p=r.length)}let y=0,E=0;function I(C){if(o&&o.scrollTop!==d){const B=r.length*c-h;let U=o.scrollTop;U<0?U=0:U>B&&(U=B),t(6,d=U)}if(!C)return y=0;E||(E=C),C-E>100?(E=0,y=0):y=requestAnimationFrame(I)}function Y(){y||(y=requestAnimationFrame(I))}function se(){h||!o||(h=o.offsetHeight,I(0),t(0,u=0))}function z(){f=new IntersectionObserver(([C])=>{C.isIntersecting&&(se(),f==null||f.disconnect())},{root:o==null?void 0:o.parentElement}),f.observe(o),o.addEventListener("scroll",Y)}return lt(()=>{var C;o==null||o.removeEventListener("scroll",Y),(C=globalThis.cancelAnimationFrame)==null||C.call(globalThis,y),f==null||f.disconnect()}),n.$$set=C=>{"items"in C&&t(3,r=C.items),"viewport"in C&&t(4,o=C.viewport),"container"in C&&t(2,a=C.container),"itemHeight"in C&&t(5,c=C.itemHeight),"flipping"in C&&t(0,u=C.flipping),"$$scope"in C&&t(12,l=C.$$scope)},n.$$.update=()=>{n.$$.dirty&72&&L(r,d),n.$$.dirty&392&&t(1,s=r.slice(g,b).map((C,B)=>({index:B+g,data:C}))),n.$$.dirty&516&&a&&t(2,a.style.paddingTop=_+"px",a),n.$$.dirty&1028&&a&&t(2,a.style.paddingBottom=k+"px",a),n.$$.dirty&16&&o&&z(),n.$$.dirty&2053&&u&&a&&(clearTimeout(v),t(11,v=setTimeout(()=>t(0,u=0),300)))},[u,s,a,r,o,c,d,g,b,_,k,v,l,i]}class xt extends fe{constructor(e){super(),he(this,e,bl,gl,ce,{items:3,viewport:4,container:2,itemHeight:5,flipping:0})}}function In(n){let e,t=nt(n[0].length)+"",s;return{c(){e=T("div"),s=re(t),this.h()},l(i){e=N(i,"DIV",{class:!0});var l=P(e);s=oe(l,t),l.forEach(m),this.h()},h(){w(e,"class","duration svelte-1g9v8nj")},m(i,l){O(i,e,l),A(e,s)},p(i,l){l&1&&t!==(t=nt(i[0].length)+"")&&we(s,t)},d(i){i&&m(e)}}}function wl(n){let e,t,s,i,l,r=n[0].title+"",o,a,c,u=n[0].artists.join(", ")+"",f,h,d,p;t=new Xt({props:{image:n[0].cover,size:"48px"}}),t.$on("click",n[3]);let g=n[1]==="duration"&&In(n);return{c(){e=T("div"),x(t.$$.fragment),s=F(),i=T("div"),l=T("div"),o=re(r),a=F(),c=T("div"),f=re(u),h=F(),d=T("div"),g&&g.c(),this.h()},l(b){e=N(b,"DIV",{class:!0});var _=P(e);ne(t.$$.fragment,_),s=j(_),i=N(_,"DIV",{class:!0});var k=P(i);l=N(k,"DIV",{class:!0});var v=P(l);o=oe(v,r),v.forEach(m),a=j(k),c=N(k,"DIV",{class:!0});var L=P(c);f=oe(L,u),L.forEach(m),k.forEach(m),h=j(_),d=N(_,"DIV",{class:!0});var y=P(d);g&&g.l(y),y.forEach(m),_.forEach(m),this.h()},h(){w(l,"class","title svelte-1g9v8nj"),w(c,"class","artists svelte-1g9v8nj"),w(i,"class","info svelte-1g9v8nj"),w(d,"class","extra svelte-1g9v8nj"),w(e,"class","track svelte-1g9v8nj"),X(e,"empty",n[0]===Te)},m(b,_){O(b,e,_),ee(t,e,null),A(e,s),A(e,i),A(i,l),A(l,o),A(i,a),A(i,c),A(c,f),A(e,h),A(e,d),g&&g.m(d,null),p=!0},p(b,[_]){const k={};_&1&&(k.image=b[0].cover),t.$set(k),(!p||_&1)&&r!==(r=b[0].title+"")&&we(o,r),(!p||_&1)&&u!==(u=b[0].artists.join(", ")+"")&&we(f,u),b[1]==="duration"?g?g.p(b,_):(g=In(b),g.c(),g.m(d,null)):g&&(g.d(1),g=null),_&1&&X(e,"empty",b[0]===Te)},i(b){p||(V(t.$$.fragment,b),p=!0)},o(b){H(t.$$.fragment,b),p=!1},d(b){b&&m(e),te(t),g&&g.d()}}}function yl(n,e,t){let{track:s=Te}=e,{extra:i="none"}=e;const l=Qt(),r=o=>{o.stopPropagation(),l("play",s)};return n.$$set=o=>{"track"in o&&t(0,s=o.track),"extra"in o&&t(1,i=o.extra)},[s,i,l,r]}class vt extends fe{constructor(e){super(),he(this,e,yl,wl,ce,{track:0,extra:1})}}function El(n){let e,t,s,i,l;return{c(){e=T("h2"),t=re("Queue"),this.h()},l(r){e=N(r,"H2",{class:!0});var o=P(e);t=oe(o,"Queue"),o.forEach(m),this.h()},h(){w(e,"class","svelte-1j67v15")},m(r,o){O(r,e,o),A(e,t),l=!0},i(r){l||(ye(()=>{i&&i.end(1),s=rt(e,je,{x:-32,delay:300}),s.start()}),l=!0)},o(r){s&&s.invalidate(),i=ot(e,je,{x:-32,duration:300}),l=!1},d(r){r&&m(e),r&&i&&i.end()}}}function kl(n){let e,t,s,i,l;return{c(){e=T("h2"),t=re("History"),this.h()},l(r){e=N(r,"H2",{class:!0});var o=P(e);t=oe(o,"History"),o.forEach(m),this.h()},h(){w(e,"class","svelte-1j67v15")},m(r,o){O(r,e,o),A(e,t),l=!0},i(r){l||(ye(()=>{i&&i.end(1),s=rt(e,je,{x:-32,delay:300}),s.start()}),l=!0)},o(r){s&&s.invalidate(),i=ot(e,je,{x:-32,duration:300}),l=!1},d(r){r&&m(e),r&&i&&i.end()}}}function Ll(n){let e,t,s,i,l,r,o;return{c(){e=T("button"),t=F(),s=T("button"),i=F(),l=T("button"),this.h()},l(a){e=N(a,"BUTTON",{class:!0,"aria-label":!0}),P(e).forEach(m),t=j(a),s=N(a,"BUTTON",{class:!0,"aria-label":!0}),P(s).forEach(m),i=j(a),l=N(a,"BUTTON",{class:!0,"aria-label":!0}),P(l).forEach(m),this.h()},h(){w(e,"class","infinity svelte-1j67v15"),w(e,"aria-label","Toggle Infinite Play"),X(e,"enabled",n[9]),w(s,"class","direction svelte-1j67v15"),w(s,"aria-label","Switch Playback Direction"),X(s,"normal",n[12].direction==me.Normal),X(s,"backwards",n[12].direction==me.Backwards),X(s,"shuffled",n[12].direction==me.Shuffled),w(l,"class","repeat svelte-1j67v15"),w(l,"aria-label","Switch Repeat Mode"),X(l,"none",n[12].repetition==Ae.None),X(l,"all",n[12].repetition==Ae.All),X(l,"single",n[12].repetition==Ae.Single),X(l,"enabled",n[12].repetition)},m(a,c){O(a,e,c),O(a,t,c),O(a,s,c),O(a,i,c),O(a,l,c),r||(o=[K(e,"click",n[18]),K(s,"click",n[19]),K(l,"click",n[20])],r=!0)},p(a,c){c[0]&512&&X(e,"enabled",a[9]),c[0]&4096&&X(s,"normal",a[12].direction==me.Normal),c[0]&4096&&X(s,"backwards",a[12].direction==me.Backwards),c[0]&4096&&X(s,"shuffled",a[12].direction==me.Shuffled),c[0]&4096&&X(l,"none",a[12].repetition==Ae.None),c[0]&4096&&X(l,"all",a[12].repetition==Ae.All),c[0]&4096&&X(l,"single",a[12].repetition==Ae.Single),c[0]&4096&&X(l,"enabled",a[12].repetition)},d(a){a&&m(e),a&&m(t),a&&m(s),a&&m(i),a&&m(l),r=!1,ve(o)}}}function Al(n){let e,t,s;return{c(){e=T("button"),this.h()},l(i){e=N(i,"BUTTON",{class:!0,"aria-label":!0}),P(e).forEach(m),this.h()},h(){w(e,"class","clear svelte-1j67v15"),w(e,"aria-label","Clear History")},m(i,l){O(i,e,l),t||(s=K(e,"click",n[17]),t=!0)},p:J,d(i){i&&m(e),t=!1,s()}}}function Tl(n){let e,t,s,i,l,r,o;function a(u){n[25](u)}let c={items:n[11],container:n[7],itemHeight:it,viewport:n[4],$$slots:{default:[Sl,({item:u,index:f})=>({30:u,31:f}),({item:u,index:f})=>[u?1073741824:0,f?1:0]]},$$scope:{ctx:n}};return n[5]!==void 0&&(c.flipping=n[5]),t=new xt({props:c}),ae.push(()=>be(t,"flipping",a)),{c(){e=T("div"),x(t.$$.fragment),this.h()},l(u){e=N(u,"DIV",{class:!0});var f=P(e);ne(t.$$.fragment,f),f.forEach(m),this.h()},h(){w(e,"class","svelte-1j67v15")},m(u,f){O(u,e,f),ee(t,e,null),n[26](e),l=!0,r||(o=[Ie(Ls.call(null,e,{offsetTop:16,margin:1})),K(e,"swap",n[13])],r=!0)},p(u,f){n=u;const h={};f[0]&2048&&(h.items=n[11]),f[0]&128&&(h.container=n[7]),f[0]&16&&(h.viewport=n[4]),f[0]&1073741824|f[1]&3&&(h.$$scope={dirty:f,ctx:n}),!s&&f[0]&32&&(s=!0,h.flipping=n[5],ge(()=>s=!1)),t.$set(h)},i(u){l||(V(t.$$.fragment,u),ye(()=>{i||(i=_e(e,je,{y:it},!0)),i.run(1)}),l=!0)},o(u){H(t.$$.fragment,u),i||(i=_e(e,je,{y:it},!1)),i.run(0),l=!1},d(u){u&&m(e),te(t),n[26](null),u&&i&&i.end(),r=!1,ve(o)}}}function Nl(n){let e,t,s,i,l;function r(a){n[22](a)}let o={items:n[10],container:n[8],itemHeight:it,viewport:n[4],$$slots:{default:[Pl,({item:a})=>({30:a}),({item:a})=>[a?1073741824:0]]},$$scope:{ctx:n}};return n[6]!==void 0&&(o.flipping=n[6]),t=new xt({props:o}),ae.push(()=>be(t,"flipping",r)),{c(){e=T("div"),x(t.$$.fragment),this.h()},l(a){e=N(a,"DIV",{class:!0});var c=P(e);ne(t.$$.fragment,c),c.forEach(m),this.h()},h(){w(e,"class","svelte-1j67v15")},m(a,c){O(a,e,c),ee(t,e,null),n[23](e),l=!0},p(a,c){n=a;const u={};c[0]&1024&&(u.items=n[10]),c[0]&256&&(u.container=n[8]),c[0]&16&&(u.viewport=n[4]),c[0]&1073741824|c[1]&2&&(u.$$scope={dirty:c,ctx:n}),!s&&c[0]&64&&(s=!0,u.flipping=n[6],ge(()=>s=!1)),t.$set(u)},i(a){l||(V(t.$$.fragment,a),ye(()=>{i||(i=_e(e,je,{y:-it},!0)),i.run(1)}),l=!0)},o(a){H(t.$$.fragment,a),i||(i=_e(e,je,{y:-it},!1)),i.run(0),l=!1},d(a){a&&m(e),te(t),n[23](null),a&&i&&i.end()}}}function Sl(n){let e,t,s,i,l,r;t=new vt({props:{track:n[30],extra:"duration"}});function o(){return n[24](n[30])}return{c(){e=T("div"),x(t.$$.fragment),this.h()},l(a){e=N(a,"DIV",{class:!0,"data-index":!0});var c=P(e);ne(t.$$.fragment,c),c.forEach(m),this.h()},h(){w(e,"class","track svelte-1j67v15"),w(e,"data-index",s=n[31]),X(e,"tapped",!1),X(e,"dragging",!1)},m(a,c){O(a,e,c),ee(t,e,null),i=!0,l||(r=[Ie(Jt.call(null,e)),K(e,"click",o)],l=!0)},p(a,c){n=a;const u={};c[0]&1073741824&&(u.track=n[30]),t.$set(u),(!i||c[1]&1&&s!==(s=n[31]))&&w(e,"data-index",s)},i(a){i||(V(t.$$.fragment,a),i=!0)},o(a){H(t.$$.fragment,a),i=!1},d(a){a&&m(e),te(t),l=!1,ve(r)}}}function Pl(n){let e,t,s,i,l;t=new vt({props:{track:n[30],extra:"duration"}});function r(){return n[21](n[30])}return{c(){e=T("div"),x(t.$$.fragment),this.h()},l(o){e=N(o,"DIV",{class:!0});var a=P(e);ne(t.$$.fragment,a),a.forEach(m),this.h()},h(){w(e,"class","track svelte-1j67v15"),X(e,"tapped",!1)},m(o,a){O(o,e,a),ee(t,e,null),s=!0,i||(l=[Ie(Jt.call(null,e)),K(e,"click",r)],i=!0)},p(o,a){n=o;const c={};a[0]&1073741824&&(c.track=n[30]),t.$set(c)},i(o){s||(V(t.$$.fragment,o),s=!0)},o(o){H(t.$$.fragment,o),s=!1},d(o){o&&m(e),te(t),i=!1,ve(l)}}}function Cl(n){let e,t,s,i,l,r,o,a,c,u,f,h,d,p,g,b,_,k,v,L,y;function E(D){n[14](D)}function I(D){n[15](D)}let Y={loading:n[2]};n[0]!==void 0&&(Y.paused=n[0]),n[1]!==void 0&&(Y.time=n[1]),t=new ys({props:Y}),ae.push(()=>be(t,"paused",E)),ae.push(()=>be(t,"time",I));const se=[kl,El],z=[];function C(D,Q){return D[3]?0:1}u=C(n),f=z[u]=se[u](n);function B(D,Q){return D[3]?Al:Ll}let U=B(n),G=U(n);const R=[Nl,Tl],M=[];function $(D,Q){return D[3]?0:1}return g=$(n),b=M[g]=R[g](n),{c(){e=T("div"),x(t.$$.fragment),l=F(),r=T("div"),o=T("button"),a=F(),c=T("div"),f.c(),h=F(),G.c(),d=F(),p=T("div"),b.c(),_=F(),k=T("div"),this.h()},l(D){e=N(D,"DIV",{class:!0});var Q=P(e);ne(t.$$.fragment,Q),l=j(Q),r=N(Q,"DIV",{class:!0});var q=P(r);o=N(q,"BUTTON",{class:!0,"aria-label":!0}),P(o).forEach(m),a=j(q),c=N(q,"DIV",{class:!0});var ie=P(c);f.l(ie),ie.forEach(m),h=j(q),G.l(q),q.forEach(m),d=j(Q),p=N(Q,"DIV",{class:!0});var ue=P(p);b.l(ue),_=j(ue),k=N(ue,"DIV",{class:!0,style:!0,"aria-label":!0}),P(k).forEach(m),ue.forEach(m),Q.forEach(m),this.h()},h(){w(o,"class","history svelte-1j67v15"),w(o,"aria-label","Toggle History"),X(o,"enabled",n[3]),w(c,"class","svelte-1j67v15"),w(r,"class","toolbar svelte-1j67v15"),w(k,"class","slider-handle svelte-1j67v15"),le(k,"display","none"),w(k,"aria-label","Close Queue"),w(p,"class","viewport svelte-1j67v15"),w(e,"class","container svelte-1j67v15")},m(D,Q){O(D,e,Q),ee(t,e,null),A(e,l),A(e,r),A(r,o),A(r,a),A(r,c),z[u].m(c,null),A(r,h),G.m(r,null),A(e,d),A(e,p),M[g].m(p,null),A(p,_),A(p,k),n[27](p),v=!0,L||(y=[K(o,"click",n[16]),Ie(Zt.call(null,p,{header:".toolbar>div",hider:".slider-handle"}))],L=!0)},p(D,Q){const q={};Q[0]&4&&(q.loading=D[2]),!s&&Q[0]&1&&(s=!0,q.paused=D[0],ge(()=>s=!1)),!i&&Q[0]&2&&(i=!0,q.time=D[1],ge(()=>i=!1)),t.$set(q),Q[0]&8&&X(o,"enabled",D[3]);let ie=u;u=C(D),u!==ie&&(de(),H(z[ie],1,1,()=>{z[ie]=null}),pe(),f=z[u],f||(f=z[u]=se[u](D),f.c()),V(f,1),f.m(c,null)),U===(U=B(D))&&G?G.p(D,Q):(G.d(1),G=U(D),G&&(G.c(),G.m(r,null)));let ue=g;g=$(D),g===ue?M[g].p(D,Q):(de(),H(M[ue],1,1,()=>{M[ue]=null}),pe(),b=M[g],b?b.p(D,Q):(b=M[g]=R[g](D),b.c()),V(b,1),b.m(p,_))},i(D){v||(V(t.$$.fragment,D),V(f),V(b),v=!0)},o(D){H(t.$$.fragment,D),H(f),H(b),v=!1},d(D){D&&m(e),te(t),z[u].d(),G.d(),M[g].d(),n[27](null),L=!1,ve(y)}}}const it=57;function Il(n,e,t){let s;Se(n,Z,$=>t(12,s=$));let{paused:i}=e,{loading:l}=e,{time:r}=e,o=!1,a,c=!1,u=0,f=0,h,d,p=!1,g=[],b=[];const _=Z.subscribe(async()=>{c||(t(5,u++,u),t(6,f++,f),await hs()),t(11,b=Z.queue),t(10,g=Z.history.slice().reverse()),c=!1});function k({detail:$}){const{from:D,to:Q}=$;c=!0,Z.rearrange(D,Q)}lt(_);function v($){i=$,t(0,i)}function L($){r=$,t(1,r)}const y=()=>t(3,o=!o),E=()=>Z.clearHistory(),I=()=>t(9,p=!p),Y=()=>Z.direct((Z.direction+1)%3),se=()=>Z.repeat((Z.repetition+1)%3),z=$=>Z.play(He({},$));function C($){f=$,t(6,f)}function B($){ae[$?"unshift":"push"](()=>{d=$,t(8,d)})}const U=$=>Z.play($);function G($){u=$,t(5,u)}function R($){ae[$?"unshift":"push"](()=>{h=$,t(7,h)})}function M($){ae[$?"unshift":"push"](()=>{a=$,t(4,a)})}return n.$$set=$=>{"paused"in $&&t(0,i=$.paused),"loading"in $&&t(2,l=$.loading),"time"in $&&t(1,r=$.time)},n.$$.update=()=>{n.$$.dirty[0]&24&&(a==null||a.scrollTo(0,0))},[i,r,l,o,a,u,f,h,d,p,g,b,s,k,v,L,y,E,I,Y,se,z,C,B,U,G,R,M]}class Ol extends fe{constructor(e){super(),he(this,e,Il,Cl,ce,{paused:0,loading:2,time:1},null,[-1,-1])}}function Vl(n){let e,t,s,i,l,r,o,a,c,u,f,h,d,p,g,b,_,k,v;f=new hl({props:{track:n[5].current}});function L(I){n[12](I)}function y(I){n[13](I)}let E={loading:n[2]};return n[1]!==void 0&&(E.time=n[1]),n[0]!==void 0&&(E.paused=n[0]),p=new Ol({props:E}),ae.push(()=>be(p,"time",L)),ae.push(()=>be(p,"paused",y)),{c(){e=T("div"),t=T("div"),s=F(),i=T("div"),l=T("button"),r=F(),o=T("button"),a=F(),c=T("div"),u=T("div"),x(f.$$.fragment),h=F(),d=T("div"),x(p.$$.fragment),this.h()},l(I){e=N(I,"DIV",{class:!0});var Y=P(e);t=N(Y,"DIV",{class:!0}),P(t).forEach(m),s=j(Y),i=N(Y,"DIV",{class:!0});var se=P(i);l=N(se,"BUTTON",{class:!0,"aria-label":!0}),P(l).forEach(m),r=j(se),o=N(se,"BUTTON",{class:!0,"aria-label":!0}),P(o).forEach(m),se.forEach(m),a=j(Y),c=N(Y,"DIV",{class:!0});var z=P(c);u=N(z,"DIV",{style:!0,class:!0});var C=P(u);ne(f.$$.fragment,C),C.forEach(m),h=j(z),d=N(z,"DIV",{style:!0,class:!0});var B=P(d);ne(p.$$.fragment,B),B.forEach(m),z.forEach(m),Y.forEach(m),this.h()},h(){w(t,"class","slider-handle svelte-16fgm4f"),X(t,"open",n[3]),w(l,"class","lyrics svelte-16fgm4f"),w(l,"aria-label","Show Lyrics"),w(o,"class","queue svelte-16fgm4f"),w(o,"aria-label","Open Queue"),w(i,"class","mode svelte-16fgm4f"),X(i,"open",n[3]),le(u,"display",n[4]==0?"block":"none"),w(u,"class","svelte-16fgm4f"),le(d,"display",n[4]==1?"block":"none"),w(d,"class","svelte-16fgm4f"),w(c,"class","content svelte-16fgm4f"),X(c,"open",n[3]),w(e,"class","more svelte-16fgm4f")},m(I,Y){O(I,e,Y),A(e,t),A(e,s),A(e,i),A(i,l),A(i,r),A(i,o),A(e,a),A(e,c),A(c,u),ee(f,u,null),A(c,h),A(c,d),ee(p,d,null),_=!0,k||(v=[K(l,"touchstart",n[8]),K(l,"mousedown",n[9]),K(o,"touchstart",n[10]),K(o,"mousedown",n[11]),Ie(Wt.call(null,e,{gap:16,handle:".slider-handle"})),K(e,"open",n[14]),K(e,"close",n[15])],k=!0)},p(I,[Y]){Y&8&&X(t,"open",I[3]),Y&8&&X(i,"open",I[3]);const se={};Y&32&&(se.track=I[5].current),f.$set(se),(!_||Y&16)&&le(u,"display",I[4]==0?"block":"none");const z={};Y&4&&(z.loading=I[2]),!g&&Y&2&&(g=!0,z.time=I[1],ge(()=>g=!1)),!b&&Y&1&&(b=!0,z.paused=I[0],ge(()=>b=!1)),p.$set(z),(!_||Y&16)&&le(d,"display",I[4]==1?"block":"none"),Y&8&&X(c,"open",I[3])},i(I){_||(V(f.$$.fragment,I),V(p.$$.fragment,I),_=!0)},o(I){H(f.$$.fragment,I),H(p.$$.fragment,I),_=!1},d(I){I&&m(e),te(f),te(p),k=!1,ve(v)}}}function Hl(n,e,t){let s;Se(n,Z,v=>t(5,s=v));let{paused:i}=e,{loading:l}=e,{time:r}=e,o=0,a=!1,c=null;function u(v,L=null){if(t(4,o=v),!L)return;t(7,c=()=>{L.removeEventListener("touchend",y),L.removeEventListener("touchcancel",y),t(7,c=null)});const y=()=>{!c||(c(),L.dispatchEvent(new Event("click",{bubbles:!0})))};L.addEventListener("touchend",y,{once:!0}),L.addEventListener("touchcancel",y,{once:!0})}const f=({target:v})=>u(0,v),h=()=>u(0),d=({target:v})=>u(1,v),p=()=>u(1);function g(v){r=v,t(1,r)}function b(v){i=v,t(0,i)}const _=()=>t(3,a=!0),k=()=>t(3,a=!1);return n.$$set=v=>{"paused"in v&&t(0,i=v.paused),"loading"in v&&t(2,l=v.loading),"time"in v&&t(1,r=v.time)},n.$$.update=()=>{n.$$.dirty&136&&a&&(c==null||c())},[i,r,l,a,o,s,u,c,f,h,d,p,g,b,_,k]}class Ml extends fe{constructor(e){super(),he(this,e,Hl,Vl,ce,{paused:0,loading:2,time:1})}}function On(n,e,t){const s=n.slice();return s[4]=e[t],s}function Yl(n){let e,t=n[1].join(", ")+"",s,i,l;return{c(){e=T("button"),s=re(t),this.h()},l(r){e=N(r,"BUTTON",{class:!0,"aria-label":!0});var o=P(e);s=oe(o,t),o.forEach(m),this.h()},h(){w(e,"class","artists svelte-1b6fv9a"),w(e,"aria-label","Show Artists")},m(r,o){O(r,e,o),A(e,s),i||(l=K(e,"touchstart",Ce(n[3]),{passive:!0}),i=!0)},p(r,o){o&2&&t!==(t=r[1].join(", ")+"")&&we(s,t)},i:J,o:J,d(r){r&&m(e),i=!1,l()}}}function $l(n){let e,t;return e=new Gt({props:{align:"top",$$slots:{activator:[Bl],default:[Ul]},$$scope:{ctx:n}}}),{c(){x(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,i){ee(e,s,i),t=!0},p(s,i){const l={};i&130&&(l.$$scope={dirty:i,ctx:s}),e.$set(l)},i(s){t||(V(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){te(e,s)}}}function Vn(n){let e,t=n[4]+"",s;return{c(){e=T("div"),s=re(t),this.h()},l(i){e=N(i,"DIV",{class:!0});var l=P(e);s=oe(l,t),l.forEach(m),this.h()},h(){w(e,"class","artist svelte-1b6fv9a")},m(i,l){O(i,e,l),A(e,s)},p(i,l){l&2&&t!==(t=i[4]+"")&&we(s,t)},d(i){i&&m(e)}}}function Ul(n){let e,t=n[1],s=[];for(let i=0;i<t.length;i+=1)s[i]=Vn(On(n,t,i));return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Pe()},l(i){for(let l=0;l<s.length;l+=1)s[l].l(i);e=Pe()},m(i,l){for(let r=0;r<s.length;r+=1)s[r].m(i,l);O(i,e,l)},p(i,l){if(l&2){t=i[1];let r;for(r=0;r<t.length;r+=1){const o=On(i,t,r);s[r]?s[r].p(o,l):(s[r]=Vn(o),s[r].c(),s[r].m(e.parentNode,e))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(i){qe(s,i),i&&m(e)}}}function Bl(n){let e,t=n[1].join(", ")+"",s,i,l;return{c(){e=T("button"),s=re(t),this.h()},l(r){e=N(r,"BUTTON",{slot:!0,class:!0,"aria-label":!0});var o=P(e);s=oe(o,t),o.forEach(m),this.h()},h(){w(e,"slot","activator"),w(e,"class","artists svelte-1b6fv9a"),w(e,"aria-label","Show Artists"),X(e,"active",!1)},m(r,o){O(r,e,o),A(e,s),i||(l=K(e,"touchstart",Ce(n[2]),{passive:!0}),i=!0)},p(r,o){o&2&&t!==(t=r[1].join(", ")+"")&&we(s,t)},d(r){r&&m(e),i=!1,l()}}}function Hn(n){let e,t,s,i,l,r,o,a,c;const u=[$l,Yl],f=[];function h(d,p){return d[1].length>1?0:1}return l=h(n),r=f[l]=u[l](n),{c(){e=T("div"),t=T("div"),s=re(n[0]),i=F(),r.c(),this.h()},l(d){e=N(d,"DIV",{class:!0});var p=P(e);t=N(p,"DIV",{class:!0});var g=P(t);s=oe(g,n[0]),g.forEach(m),i=j(p),r.l(p),p.forEach(m),this.h()},h(){w(t,"class","title svelte-1b6fv9a"),w(e,"class","svelte-1b6fv9a")},m(d,p){O(d,e,p),A(e,t),A(t,s),A(e,i),f[l].m(e,null),c=!0},p(d,p){(!c||p&1)&&we(s,d[0]);let g=l;l=h(d),l===g?f[l].p(d,p):(de(),H(f[g],1,1,()=>{f[g]=null}),pe(),r=f[l],r?r.p(d,p):(r=f[l]=u[l](d),r.c()),V(r,1),r.m(e,null))},i(d){c||(V(r),ye(()=>{a&&a.end(1),o=rt(e,je,{y:64}),o.start()}),c=!0)},o(d){H(r),o&&o.invalidate(),a=ot(e,Ne,{duration:200}),c=!1},d(d){d&&m(e),f[l].d(),d&&a&&a.end()}}}function ql(n){let e,t=n[0]||n[1],s,i=Hn(n);return{c(){e=T("div"),i.c(),this.h()},l(l){e=N(l,"DIV",{class:!0});var r=P(e);i.l(r),r.forEach(m),this.h()},h(){w(e,"class","info svelte-1b6fv9a")},m(l,r){O(l,e,r),i.m(e,null),s=!0},p(l,[r]){r&3&&ce(t,t=l[0]||l[1])?(de(),H(i,1,1,J),pe(),i=Hn(l),i.c(),V(i,1),i.m(e,null)):i.p(l,r)},i(l){s||(V(i),s=!0)},o(l){H(i),s=!1},d(l){l&&m(e),i.d(l)}}}function Rl(n,e,t){let{title:s}=e,{artists:i=[]}=e;function l(o){$e.call(this,n,o)}function r(o){$e.call(this,n,o)}return n.$$set=o=>{"title"in o&&t(0,s=o.title),"artists"in o&&t(1,i=o.artists)},[s,i,l,r]}class Dl extends fe{constructor(e){super(),he(this,e,Rl,ql,ce,{title:0,artists:1})}}function Fl(n){let e,t,s,i,l,r,o,a,c,u,f,h,d,p,g,b,_,k,v,L,y,E,I,Y;function se(q){n[8](q)}function z(q){n[9](q)}let C={loading:n[3],hidden:n[5]};n[1]!==void 0&&(C.paused=n[1]),n[2]!==void 0&&(C.time=n[2]),t=new ys({props:C}),ae.push(()=>be(t,"paused",se)),ae.push(()=>be(t,"time",z)),u=new Dl({props:{title:n[6].current.title,artists:n[6].current.artists}});function B(q){n[10](q)}let U={loading:n[3]};n[1]!==void 0&&(U.paused=n[1]),h=new Gi({props:U}),ae.push(()=>be(h,"paused",B));function G(q){n[11](q)}function R(q){n[12](q)}let M={length:n[6].current.length,visible:n[5]};n[0]!==void 0&&(M.speedup=n[0]),n[2]!==void 0&&(M.time=n[2]),g=new tl({props:M}),ae.push(()=>be(g,"speedup",G)),ae.push(()=>be(g,"time",R));function $(q){n[13](q)}function D(q){n[14](q)}let Q={loading:n[3]};return n[1]!==void 0&&(Q.paused=n[1]),n[2]!==void 0&&(Q.time=n[2]),v=new Ml({props:Q}),ae.push(()=>be(v,"paused",$)),ae.push(()=>be(v,"time",D)),{c(){e=T("div"),x(t.$$.fragment),l=F(),r=T("div"),o=T("div"),a=F(),c=T("div"),x(u.$$.fragment),f=F(),x(h.$$.fragment),p=F(),x(g.$$.fragment),k=F(),x(v.$$.fragment),this.h()},l(q){e=N(q,"DIV",{class:!0});var ie=P(e);ne(t.$$.fragment,ie),l=j(ie),r=N(ie,"DIV",{class:!0});var ue=P(r);o=N(ue,"DIV",{class:!0}),P(o).forEach(m),a=j(ue),c=N(ue,"DIV",{});var Ee=P(c);ne(u.$$.fragment,Ee),f=j(Ee),ne(h.$$.fragment,Ee),Ee.forEach(m),p=j(ue),ne(g.$$.fragment,ue),k=j(ue),ne(v.$$.fragment,ue),ue.forEach(m),ie.forEach(m),this.h()},h(){w(o,"class","player-handle svelte-1muk7xb"),w(r,"class","container svelte-1muk7xb"),w(e,"class","player svelte-1muk7xb"),X(e,"open",n[5]),X(e,"locked",n[4])},m(q,ie){O(q,e,ie),ee(t,e,null),A(e,l),A(e,r),A(r,o),A(r,a),A(r,c),ee(u,c,null),A(c,f),ee(h,c,null),A(r,p),ee(g,r,null),A(r,k),ee(v,r,null),E=!0,I||(Y=[Ie(Wt.call(null,e,{handle:".player-handle"})),K(e,"open",n[15]),K(e,"close",n[16])],I=!0)},p(q,[ie]){const ue={};ie&8&&(ue.loading=q[3]),ie&32&&(ue.hidden=q[5]),!s&&ie&2&&(s=!0,ue.paused=q[1],ge(()=>s=!1)),!i&&ie&4&&(i=!0,ue.time=q[2],ge(()=>i=!1)),t.$set(ue);const Ee={};ie&64&&(Ee.title=q[6].current.title),ie&64&&(Ee.artists=q[6].current.artists),u.$set(Ee);const Re={};ie&8&&(Re.loading=q[3]),!d&&ie&2&&(d=!0,Re.paused=q[1],ge(()=>d=!1)),h.$set(Re);const Ve={};ie&64&&(Ve.length=q[6].current.length),ie&32&&(Ve.visible=q[5]),!b&&ie&1&&(b=!0,Ve.speedup=q[0],ge(()=>b=!1)),!_&&ie&4&&(_=!0,Ve.time=q[2],ge(()=>_=!1)),g.$set(Ve);const Le={};ie&8&&(Le.loading=q[3]),!L&&ie&2&&(L=!0,Le.paused=q[1],ge(()=>L=!1)),!y&&ie&4&&(y=!0,Le.time=q[2],ge(()=>y=!1)),v.$set(Le),ie&32&&X(e,"open",q[5]),ie&16&&X(e,"locked",q[4])},i(q){E||(V(t.$$.fragment,q),V(u.$$.fragment,q),V(h.$$.fragment,q),V(g.$$.fragment,q),V(v.$$.fragment,q),E=!0)},o(q){H(t.$$.fragment,q),H(u.$$.fragment,q),H(h.$$.fragment,q),H(g.$$.fragment,q),H(v.$$.fragment,q),E=!1},d(q){q&&m(e),te(t),te(u),te(h),te(g),te(v),I=!1,ve(Y)}}}function jl(n,e,t){let s;Se(n,Z,R=>t(6,s=R));let i=!1,l=!0,r=NaN,o=!0,a=!1,c=0,u,f=!1;const h=Z.subscribe(async()=>{if(t(4,l=Z.current===Te),!!u)try{(Z.firstToPlay||f||!o)&&(t(7,u.isPaused=!1,u),t(7,u.forcePlay=!0,u),f=!1),p(o),await u.play(Z.current),Z.upcoming&&u.cache(Z.upcoming)}catch(R){u.debug&&console.log(R)}});let d="Amadeus";function p(R){if(!("document"in globalThis))return;const M=Z.current;R||M===Te?document.title=d:document.title=`${M.artists.join(", ")} - ${M.title}`}function g(){!u||u.isPaused&&!o&&f||o!=u.isPaused&&t(1,o=u.isPaused)}function b(){!u||i!=u.isLoading&&t(3,i=u.isLoading)}function _(){u&&Z.upcoming&&(f=!0,Z.next())}function k({detail:R}){t(2,c=R)}function v(){u&&Z.upcoming&&Z.next()}function L(){u&&Z.history.length&&Z.previous()}function y(R){o||u==null||u.speedup(Number.isNaN(R)?1:R)}gt(()=>{d=document.title,t(7,u=new pi),u.addEventListener("ended",_),u.addEventListener("next",v),u.addEventListener("previous",L),u.addEventListener("pausedchange",g),u.addEventListener("loadingchange",b),u.addEventListener("timeupdate",k)}),lt(()=>{u==null||u.removeEventListener("ended",_),u==null||u.removeEventListener("next",v),u==null||u.removeEventListener("previous",L),u==null||u.removeEventListener("pausedchange",g),u==null||u.removeEventListener("loadingchange",b),u==null||u.removeEventListener("timeupdate",k),u==null||u.destroy(),h()});function E(R){o=R,t(1,o)}function I(R){c=R,t(2,c)}function Y(R){o=R,t(1,o)}function se(R){r=R,t(0,r)}function z(R){c=R,t(2,c)}function C(R){o=R,t(1,o)}function B(R){c=R,t(2,c)}const U=()=>t(5,a=!0),G=()=>t(5,a=!1);return n.$$.update=()=>{n.$$.dirty&130&&(o?u==null||u.pause():u==null||u.resume()),n.$$.dirty&132&&(u==null||u.seek(c)),n.$$.dirty&1&&y(r),n.$$.dirty&2&&p(o)},[r,o,c,i,l,a,s,u,E,I,Y,se,z,C,B,U,G]}class zl extends fe{constructor(e){super(),he(this,e,jl,Fl,ce,{})}}const As="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Mn(n,e,t,s){let i,l,r;const o=e||[0],a=(t=t||0)>>>3,c=s===-1?3:0;for(i=0;i<n.length;i+=1)r=i+a,l=r>>>2,o.length<=l&&o.push(0),o[l]|=n[i]<<8*(c+s*(r%4));return{value:o,binLen:8*n.length+t}}function at(n,e,t){switch(e){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(n){case"HEX":return function(s,i,l){return function(r,o,a,c){let u,f,h,d;if(r.length%2!=0)throw new Error("String of HEX type must be in byte increments");const p=o||[0],g=(a=a||0)>>>3,b=c===-1?3:0;for(u=0;u<r.length;u+=2){if(f=parseInt(r.substr(u,2),16),isNaN(f))throw new Error("String of HEX type contains invalid characters");for(d=(u>>>1)+g,h=d>>>2;p.length<=h;)p.push(0);p[h]|=f<<8*(b+c*(d%4))}return{value:p,binLen:4*r.length+a}}(s,i,l,t)};case"TEXT":return function(s,i,l){return function(r,o,a,c,u){let f,h,d,p,g,b,_,k,v=0;const L=a||[0],y=(c=c||0)>>>3;if(o==="UTF8")for(_=u===-1?3:0,d=0;d<r.length;d+=1)for(f=r.charCodeAt(d),h=[],128>f?h.push(f):2048>f?(h.push(192|f>>>6),h.push(128|63&f)):55296>f||57344<=f?h.push(224|f>>>12,128|f>>>6&63,128|63&f):(d+=1,f=65536+((1023&f)<<10|1023&r.charCodeAt(d)),h.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|63&f)),p=0;p<h.length;p+=1){for(b=v+y,g=b>>>2;L.length<=g;)L.push(0);L[g]|=h[p]<<8*(_+u*(b%4)),v+=1}else for(_=u===-1?2:0,k=o==="UTF16LE"&&u!==1||o!=="UTF16LE"&&u===1,d=0;d<r.length;d+=1){for(f=r.charCodeAt(d),k===!0&&(p=255&f,f=p<<8|f>>>8),b=v+y,g=b>>>2;L.length<=g;)L.push(0);L[g]|=f<<8*(_+u*(b%4)),v+=2}return{value:L,binLen:8*v+c}}(s,e,i,l,t)};case"B64":return function(s,i,l){return function(r,o,a,c){let u,f,h,d,p,g,b,_=0;const k=o||[0],v=(a=a||0)>>>3,L=c===-1?3:0,y=r.indexOf("=");if(r.search(/^[a-zA-Z0-9=+/]+$/)===-1)throw new Error("Invalid character in base-64 string");if(r=r.replace(/=/g,""),y!==-1&&y<r.length)throw new Error("Invalid '=' found in base-64 string");for(f=0;f<r.length;f+=4){for(p=r.substr(f,4),d=0,h=0;h<p.length;h+=1)u=As.indexOf(p.charAt(h)),d|=u<<18-6*h;for(h=0;h<p.length-1;h+=1){for(b=_+v,g=b>>>2;k.length<=g;)k.push(0);k[g]|=(d>>>16-8*h&255)<<8*(L+c*(b%4)),_+=1}}return{value:k,binLen:8*_+a}}(s,i,l,t)};case"BYTES":return function(s,i,l){return function(r,o,a,c){let u,f,h,d;const p=o||[0],g=(a=a||0)>>>3,b=c===-1?3:0;for(f=0;f<r.length;f+=1)u=r.charCodeAt(f),d=f+g,h=d>>>2,p.length<=h&&p.push(0),p[h]|=u<<8*(b+c*(d%4));return{value:p,binLen:8*r.length+a}}(s,i,l,t)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error("ARRAYBUFFER not supported by this environment")}return function(s,i,l){return function(r,o,a,c){return Mn(new Uint8Array(r),o,a,c)}(s,i,l,t)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error("UINT8ARRAY not supported by this environment")}return function(s,i,l){return Mn(s,i,l,t)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function Yn(n,e,t,s){switch(n){case"HEX":return function(i){return function(l,r,o,a){let c,u,f="";const h=r/8,d=o===-1?3:0;for(c=0;c<h;c+=1)u=l[c>>>2]>>>8*(d+o*(c%4)),f+="0123456789abcdef".charAt(u>>>4&15)+"0123456789abcdef".charAt(15&u);return a.outputUpper?f.toUpperCase():f}(i,e,t,s)};case"B64":return function(i){return function(l,r,o,a){let c,u,f,h,d,p="";const g=r/8,b=o===-1?3:0;for(c=0;c<g;c+=3)for(h=c+1<g?l[c+1>>>2]:0,d=c+2<g?l[c+2>>>2]:0,f=(l[c>>>2]>>>8*(b+o*(c%4))&255)<<16|(h>>>8*(b+o*((c+1)%4))&255)<<8|d>>>8*(b+o*((c+2)%4))&255,u=0;u<4;u+=1)p+=8*c+6*u<=r?As.charAt(f>>>6*(3-u)&63):a.b64Pad;return p}(i,e,t,s)};case"BYTES":return function(i){return function(l,r,o){let a,c,u="";const f=r/8,h=o===-1?3:0;for(a=0;a<f;a+=1)c=l[a>>>2]>>>8*(h+o*(a%4))&255,u+=String.fromCharCode(c);return u}(i,e,t)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error("ARRAYBUFFER not supported by this environment")}return function(i){return function(l,r,o){let a;const c=r/8,u=new ArrayBuffer(c),f=new Uint8Array(u),h=o===-1?3:0;for(a=0;a<c;a+=1)f[a]=l[a>>>2]>>>8*(h+o*(a%4))&255;return u}(i,e,t)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error("UINT8ARRAY not supported by this environment")}return function(i){return function(l,r,o){let a;const c=r/8,u=o===-1?3:0,f=new Uint8Array(c);for(a=0;a<c;a+=1)f[a]=l[a>>>2]>>>8*(u+o*(a%4))&255;return f}(i,e,t)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const W=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],De=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],Fe=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],wt="Chosen SHA variant is not supported";function Nt(n,e){let t,s;const i=n.binLen>>>3,l=e.binLen>>>3,r=i<<3,o=4-i<<3;if(i%4!=0){for(t=0;t<l;t+=4)s=i+t>>>2,n.value[s]|=e.value[t>>>2]<<r,n.value.push(0),n.value[s+1]|=e.value[t>>>2]>>>o;return(n.value.length<<2)-4>=l+i&&n.value.pop(),{value:n.value,binLen:n.binLen+e.binLen}}return{value:n.value.concat(e.value),binLen:n.binLen+e.binLen}}function $n(n){const e={outputUpper:!1,b64Pad:"=",outputLen:-1},t=n||{},s="Output length must be a multiple of 8";if(e.outputUpper=t.outputUpper||!1,t.b64Pad&&(e.b64Pad=t.b64Pad),t.outputLen){if(t.outputLen%8!=0)throw new Error(s);e.outputLen=t.outputLen}else if(t.shakeLen){if(t.shakeLen%8!=0)throw new Error(s);e.outputLen=t.shakeLen}if(typeof e.outputUpper!="boolean")throw new Error("Invalid outputUpper formatting option");if(typeof e.b64Pad!="string")throw new Error("Invalid b64Pad formatting option");return e}function Qe(n,e,t,s){const i=n+" must include a value and format";if(!e){if(!s)throw new Error(i);return s}if(e.value===void 0||!e.format)throw new Error(i);return at(e.format,e.encoding||"UTF8",t)(e.value)}class Ct{constructor(e,t,s){const i=s||{};if(this.t=t,this.i=i.encoding||"UTF8",this.numRounds=i.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.s=e,this.o=[],this.h=0,this.u=!1,this.l=0,this.A=!1,this.H=[],this.S=[]}update(e){let t,s=0;const i=this.p>>>5,l=this.m(e,this.o,this.h),r=l.binLen,o=l.value,a=r>>>5;for(t=0;t<a;t+=i)s+this.p<=r&&(this.C=this.R(o.slice(t,t+i),this.C),s+=this.p);this.l+=s,this.o=o.slice(s>>>5),this.h=r%this.p,this.u=!0}getHash(e,t){let s,i,l=this.U;const r=$n(t);if(this.v){if(r.outputLen===-1)throw new Error("Output length must be specified in options");l=r.outputLen}const o=Yn(e,l,this.K,r);if(this.A&&this.T)return o(this.T(r));for(i=this.F(this.o.slice(),this.h,this.l,this.g(this.C),l),s=1;s<this.numRounds;s+=1)this.v&&l%32!=0&&(i[i.length-1]&=16777215>>>24-l%32),i=this.F(i,l,0,this.B(this.s),l);return o(i)}setHMACKey(e,t,s){if(!this.L)throw new Error("Variant does not support HMAC");if(this.u)throw new Error("Cannot set MAC key after calling update");const i=at(t,(s||{}).encoding||"UTF8",this.K);this.M(i(e))}M(e){const t=this.p>>>3,s=t/4-1;let i;if(this.numRounds!==1)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(t<e.binLen/8&&(e.value=this.F(e.value,e.binLen,0,this.B(this.s),this.U));e.value.length<=s;)e.value.push(0);for(i=0;i<=s;i+=1)this.H[i]=909522486^e.value[i],this.S[i]=1549556828^e.value[i];this.C=this.R(this.H,this.C),this.l=this.p,this.A=!0}getHMAC(e,t){const s=$n(t);return Yn(e,this.U,this.K,s)(this.k())}k(){let e;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");const t=this.F(this.o.slice(),this.h,this.l,this.g(this.C),this.U);return e=this.R(this.S,this.B(this.s)),e=this.F(t,this.U,this.p,e,this.U),e}}function tt(n,e){return n<<e|n>>>32-e}function Ue(n,e){return n>>>e|n<<32-e}function Ts(n,e){return n>>>e}function Un(n,e,t){return n^e^t}function Ns(n,e,t){return n&e^~n&t}function Ss(n,e,t){return n&e^n&t^e&t}function Ql(n){return Ue(n,2)^Ue(n,13)^Ue(n,22)}function ke(n,e){const t=(65535&n)+(65535&e);return(65535&(n>>>16)+(e>>>16)+(t>>>16))<<16|65535&t}function Kl(n,e,t,s){const i=(65535&n)+(65535&e)+(65535&t)+(65535&s);return(65535&(n>>>16)+(e>>>16)+(t>>>16)+(s>>>16)+(i>>>16))<<16|65535&i}function dt(n,e,t,s,i){const l=(65535&n)+(65535&e)+(65535&t)+(65535&s)+(65535&i);return(65535&(n>>>16)+(e>>>16)+(t>>>16)+(s>>>16)+(i>>>16)+(l>>>16))<<16|65535&l}function Wl(n){return Ue(n,7)^Ue(n,18)^Ts(n,3)}function Xl(n){return Ue(n,6)^Ue(n,11)^Ue(n,25)}function Gl(n){return[1732584193,4023233417,2562383102,271733878,3285377520]}function Ps(n,e){let t,s,i,l,r,o,a;const c=[];for(t=e[0],s=e[1],i=e[2],l=e[3],r=e[4],a=0;a<80;a+=1)c[a]=a<16?n[a]:tt(c[a-3]^c[a-8]^c[a-14]^c[a-16],1),o=a<20?dt(tt(t,5),Ns(s,i,l),r,1518500249,c[a]):a<40?dt(tt(t,5),Un(s,i,l),r,1859775393,c[a]):a<60?dt(tt(t,5),Ss(s,i,l),r,2400959708,c[a]):dt(tt(t,5),Un(s,i,l),r,3395469782,c[a]),r=l,l=i,i=tt(s,30),s=t,t=o;return e[0]=ke(t,e[0]),e[1]=ke(s,e[1]),e[2]=ke(i,e[2]),e[3]=ke(l,e[3]),e[4]=ke(r,e[4]),e}function Zl(n,e,t,s){let i;const l=15+(e+65>>>9<<4),r=e+t;for(;n.length<=l;)n.push(0);for(n[e>>>5]|=128<<24-e%32,n[l]=4294967295&r,n[l-1]=r/4294967296|0,i=0;i<n.length;i+=16)s=Ps(n.slice(i,i+16),s);return s}class Jl extends Ct{constructor(e,t,s){if(e!=="SHA-1")throw new Error(wt);super(e,t,s);const i=s||{};this.L=!0,this.T=this.k,this.K=-1,this.m=at(this.t,this.i,this.K),this.R=Ps,this.g=function(l){return l.slice()},this.B=Gl,this.F=Zl,this.C=[1732584193,4023233417,2562383102,271733878,3285377520],this.p=512,this.U=160,this.v=!1,i.hmacKey&&this.M(Qe("hmacKey",i.hmacKey,this.K))}}function Bn(n){let e;return e=n=="SHA-224"?De.slice():Fe.slice(),e}function qn(n,e){let t,s,i,l,r,o,a,c,u,f,h;const d=[];for(t=e[0],s=e[1],i=e[2],l=e[3],r=e[4],o=e[5],a=e[6],c=e[7],h=0;h<64;h+=1)d[h]=h<16?n[h]:Kl(Ue(p=d[h-2],17)^Ue(p,19)^Ts(p,10),d[h-7],Wl(d[h-15]),d[h-16]),u=dt(c,Xl(r),Ns(r,o,a),W[h],d[h]),f=ke(Ql(t),Ss(t,s,i)),c=a,a=o,o=r,r=ke(l,u),l=i,i=s,s=t,t=ke(u,f);var p;return e[0]=ke(t,e[0]),e[1]=ke(s,e[1]),e[2]=ke(i,e[2]),e[3]=ke(l,e[3]),e[4]=ke(r,e[4]),e[5]=ke(o,e[5]),e[6]=ke(a,e[6]),e[7]=ke(c,e[7]),e}class xl extends Ct{constructor(e,t,s){if(e!=="SHA-224"&&e!=="SHA-256")throw new Error(wt);super(e,t,s);const i=s||{};this.T=this.k,this.L=!0,this.K=-1,this.m=at(this.t,this.i,this.K),this.R=qn,this.g=function(l){return l.slice()},this.B=Bn,this.F=function(l,r,o,a){return function(c,u,f,h,d){let p,g;const b=15+(u+65>>>9<<4),_=u+f;for(;c.length<=b;)c.push(0);for(c[u>>>5]|=128<<24-u%32,c[b]=4294967295&_,c[b-1]=_/4294967296|0,p=0;p<c.length;p+=16)h=qn(c.slice(p,p+16),h);return g=d==="SHA-224"?[h[0],h[1],h[2],h[3],h[4],h[5],h[6]]:h,g}(l,r,o,a,e)},this.C=Bn(e),this.p=512,this.U=e==="SHA-224"?224:256,this.v=!1,i.hmacKey&&this.M(Qe("hmacKey",i.hmacKey,this.K))}}class S{constructor(e,t){this.Y=e,this.N=t}}function Rn(n,e){let t;return e>32?(t=64-e,new S(n.N<<e|n.Y>>>t,n.Y<<e|n.N>>>t)):e!==0?(t=32-e,new S(n.Y<<e|n.N>>>t,n.N<<e|n.Y>>>t)):n}function Be(n,e){let t;return e<32?(t=32-e,new S(n.Y>>>e|n.N<<t,n.N>>>e|n.Y<<t)):(t=64-e,new S(n.N>>>e|n.Y<<t,n.Y>>>e|n.N<<t))}function Cs(n,e){return new S(n.Y>>>e,n.N>>>e|n.Y<<32-e)}function er(n,e,t){return new S(n.Y&e.Y^n.Y&t.Y^e.Y&t.Y,n.N&e.N^n.N&t.N^e.N&t.N)}function tr(n){const e=Be(n,28),t=Be(n,34),s=Be(n,39);return new S(e.Y^t.Y^s.Y,e.N^t.N^s.N)}function Me(n,e){let t,s;t=(65535&n.N)+(65535&e.N),s=(n.N>>>16)+(e.N>>>16)+(t>>>16);const i=(65535&s)<<16|65535&t;return t=(65535&n.Y)+(65535&e.Y)+(s>>>16),s=(n.Y>>>16)+(e.Y>>>16)+(t>>>16),new S((65535&s)<<16|65535&t,i)}function nr(n,e,t,s){let i,l;i=(65535&n.N)+(65535&e.N)+(65535&t.N)+(65535&s.N),l=(n.N>>>16)+(e.N>>>16)+(t.N>>>16)+(s.N>>>16)+(i>>>16);const r=(65535&l)<<16|65535&i;return i=(65535&n.Y)+(65535&e.Y)+(65535&t.Y)+(65535&s.Y)+(l>>>16),l=(n.Y>>>16)+(e.Y>>>16)+(t.Y>>>16)+(s.Y>>>16)+(i>>>16),new S((65535&l)<<16|65535&i,r)}function sr(n,e,t,s,i){let l,r;l=(65535&n.N)+(65535&e.N)+(65535&t.N)+(65535&s.N)+(65535&i.N),r=(n.N>>>16)+(e.N>>>16)+(t.N>>>16)+(s.N>>>16)+(i.N>>>16)+(l>>>16);const o=(65535&r)<<16|65535&l;return l=(65535&n.Y)+(65535&e.Y)+(65535&t.Y)+(65535&s.Y)+(65535&i.Y)+(r>>>16),r=(n.Y>>>16)+(e.Y>>>16)+(t.Y>>>16)+(s.Y>>>16)+(i.Y>>>16)+(l>>>16),new S((65535&r)<<16|65535&l,o)}function ct(n,e){return new S(n.Y^e.Y,n.N^e.N)}function ir(n){const e=Be(n,19),t=Be(n,61),s=Cs(n,6);return new S(e.Y^t.Y^s.Y,e.N^t.N^s.N)}function lr(n){const e=Be(n,1),t=Be(n,8),s=Cs(n,7);return new S(e.Y^t.Y^s.Y,e.N^t.N^s.N)}function rr(n){const e=Be(n,14),t=Be(n,18),s=Be(n,41);return new S(e.Y^t.Y^s.Y,e.N^t.N^s.N)}const or=[new S(W[0],3609767458),new S(W[1],602891725),new S(W[2],3964484399),new S(W[3],2173295548),new S(W[4],4081628472),new S(W[5],3053834265),new S(W[6],2937671579),new S(W[7],3664609560),new S(W[8],2734883394),new S(W[9],1164996542),new S(W[10],1323610764),new S(W[11],3590304994),new S(W[12],4068182383),new S(W[13],991336113),new S(W[14],633803317),new S(W[15],3479774868),new S(W[16],2666613458),new S(W[17],944711139),new S(W[18],2341262773),new S(W[19],2007800933),new S(W[20],1495990901),new S(W[21],1856431235),new S(W[22],3175218132),new S(W[23],2198950837),new S(W[24],3999719339),new S(W[25],766784016),new S(W[26],2566594879),new S(W[27],3203337956),new S(W[28],1034457026),new S(W[29],2466948901),new S(W[30],3758326383),new S(W[31],168717936),new S(W[32],1188179964),new S(W[33],1546045734),new S(W[34],1522805485),new S(W[35],2643833823),new S(W[36],2343527390),new S(W[37],1014477480),new S(W[38],1206759142),new S(W[39],344077627),new S(W[40],1290863460),new S(W[41],3158454273),new S(W[42],3505952657),new S(W[43],106217008),new S(W[44],3606008344),new S(W[45],1432725776),new S(W[46],1467031594),new S(W[47],851169720),new S(W[48],3100823752),new S(W[49],1363258195),new S(W[50],3750685593),new S(W[51],3785050280),new S(W[52],3318307427),new S(W[53],3812723403),new S(W[54],2003034995),new S(W[55],3602036899),new S(W[56],1575990012),new S(W[57],1125592928),new S(W[58],2716904306),new S(W[59],442776044),new S(W[60],593698344),new S(W[61],3733110249),new S(W[62],2999351573),new S(W[63],3815920427),new S(3391569614,3928383900),new S(3515267271,566280711),new S(3940187606,3454069534),new S(4118630271,4000239992),new S(116418474,1914138554),new S(174292421,2731055270),new S(289380356,3203993006),new S(460393269,320620315),new S(685471733,587496836),new S(852142971,1086792851),new S(1017036298,365543100),new S(1126000580,2618297676),new S(1288033470,3409855158),new S(1501505948,4234509866),new S(1607167915,987167468),new S(1816402316,1246189591)];function Dn(n){return n==="SHA-384"?[new S(3418070365,De[0]),new S(1654270250,De[1]),new S(2438529370,De[2]),new S(355462360,De[3]),new S(1731405415,De[4]),new S(41048885895,De[5]),new S(3675008525,De[6]),new S(1203062813,De[7])]:[new S(Fe[0],4089235720),new S(Fe[1],2227873595),new S(Fe[2],4271175723),new S(Fe[3],1595750129),new S(Fe[4],2917565137),new S(Fe[5],725511199),new S(Fe[6],4215389547),new S(Fe[7],327033209)]}function Fn(n,e){let t,s,i,l,r,o,a,c,u,f,h,d;const p=[];for(t=e[0],s=e[1],i=e[2],l=e[3],r=e[4],o=e[5],a=e[6],c=e[7],h=0;h<80;h+=1)h<16?(d=2*h,p[h]=new S(n[d],n[d+1])):p[h]=nr(ir(p[h-2]),p[h-7],lr(p[h-15]),p[h-16]),u=sr(c,rr(r),(b=o,_=a,new S((g=r).Y&b.Y^~g.Y&_.Y,g.N&b.N^~g.N&_.N)),or[h],p[h]),f=Me(tr(t),er(t,s,i)),c=a,a=o,o=r,r=Me(l,u),l=i,i=s,s=t,t=Me(u,f);var g,b,_;return e[0]=Me(t,e[0]),e[1]=Me(s,e[1]),e[2]=Me(i,e[2]),e[3]=Me(l,e[3]),e[4]=Me(r,e[4]),e[5]=Me(o,e[5]),e[6]=Me(a,e[6]),e[7]=Me(c,e[7]),e}class ar extends Ct{constructor(e,t,s){if(e!=="SHA-384"&&e!=="SHA-512")throw new Error(wt);super(e,t,s);const i=s||{};this.T=this.k,this.L=!0,this.K=-1,this.m=at(this.t,this.i,this.K),this.R=Fn,this.g=function(l){return l.slice()},this.B=Dn,this.F=function(l,r,o,a){return function(c,u,f,h,d){let p,g;const b=31+(u+129>>>10<<5),_=u+f;for(;c.length<=b;)c.push(0);for(c[u>>>5]|=128<<24-u%32,c[b]=4294967295&_,c[b-1]=_/4294967296|0,p=0;p<c.length;p+=32)h=Fn(c.slice(p,p+32),h);return g=d==="SHA-384"?[(h=h)[0].Y,h[0].N,h[1].Y,h[1].N,h[2].Y,h[2].N,h[3].Y,h[3].N,h[4].Y,h[4].N,h[5].Y,h[5].N]:[h[0].Y,h[0].N,h[1].Y,h[1].N,h[2].Y,h[2].N,h[3].Y,h[3].N,h[4].Y,h[4].N,h[5].Y,h[5].N,h[6].Y,h[6].N,h[7].Y,h[7].N],g}(l,r,o,a,e)},this.C=Dn(e),this.p=1024,this.U=e==="SHA-384"?384:512,this.v=!1,i.hmacKey&&this.M(Qe("hmacKey",i.hmacKey,this.K))}}const ur=[new S(0,1),new S(0,32898),new S(2147483648,32906),new S(2147483648,2147516416),new S(0,32907),new S(0,2147483649),new S(2147483648,2147516545),new S(2147483648,32777),new S(0,138),new S(0,136),new S(0,2147516425),new S(0,2147483658),new S(0,2147516555),new S(2147483648,139),new S(2147483648,32905),new S(2147483648,32771),new S(2147483648,32770),new S(2147483648,128),new S(0,32778),new S(2147483648,2147483658),new S(2147483648,2147516545),new S(2147483648,32896),new S(0,2147483649),new S(2147483648,2147516424)],cr=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function jt(n){let e;const t=[];for(e=0;e<5;e+=1)t[e]=[new S(0,0),new S(0,0),new S(0,0),new S(0,0),new S(0,0)];return t}function fr(n){let e;const t=[];for(e=0;e<5;e+=1)t[e]=n[e].slice();return t}function Et(n,e){let t,s,i,l;const r=[],o=[];if(n!==null)for(s=0;s<n.length;s+=2)e[(s>>>1)%5][(s>>>1)/5|0]=ct(e[(s>>>1)%5][(s>>>1)/5|0],new S(n[s+1],n[s]));for(t=0;t<24;t+=1){for(l=jt(),s=0;s<5;s+=1)r[s]=(a=e[s][0],c=e[s][1],u=e[s][2],f=e[s][3],h=e[s][4],new S(a.Y^c.Y^u.Y^f.Y^h.Y,a.N^c.N^u.N^f.N^h.N));for(s=0;s<5;s+=1)o[s]=ct(r[(s+4)%5],Rn(r[(s+1)%5],1));for(s=0;s<5;s+=1)for(i=0;i<5;i+=1)e[s][i]=ct(e[s][i],o[s]);for(s=0;s<5;s+=1)for(i=0;i<5;i+=1)l[i][(2*s+3*i)%5]=Rn(e[s][i],cr[s][i]);for(s=0;s<5;s+=1)for(i=0;i<5;i+=1)e[s][i]=ct(l[s][i],new S(~l[(s+1)%5][i].Y&l[(s+2)%5][i].Y,~l[(s+1)%5][i].N&l[(s+2)%5][i].N));e[0][0]=ct(e[0][0],ur[t])}var a,c,u,f,h;return e}function Is(n){let e,t,s=0;const i=[0,0],l=[4294967295&n,n/4294967296&2097151];for(e=6;e>=0;e--)t=l[e>>2]>>>8*e&255,t===0&&s===0||(i[s+1>>2]|=t<<8*(s+1),s+=1);return s=s!==0?s:1,i[0]|=s,{value:s+1>4?i:[i[0]],binLen:8+8*s}}function Mt(n){return Nt(Is(n.binLen),n)}function jn(n,e){let t,s=Is(e);s=Nt(s,n);const i=e>>>2,l=(i-s.value.length%i)%i;for(t=0;t<l;t++)s.value.push(0);return s.value}class hr extends Ct{constructor(e,t,s){let i=6,l=0;super(e,t,s);const r=s||{};if(this.numRounds!==1){if(r.kmacKey||r.hmacKey)throw new Error("Cannot set numRounds with MAC");if(this.s==="CSHAKE128"||this.s==="CSHAKE256")throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.K=1,this.m=at(this.t,this.i,this.K),this.R=Et,this.g=fr,this.B=jt,this.C=jt(),this.v=!1,e){case"SHA3-224":this.p=l=1152,this.U=224,this.L=!0,this.T=this.k;break;case"SHA3-256":this.p=l=1088,this.U=256,this.L=!0,this.T=this.k;break;case"SHA3-384":this.p=l=832,this.U=384,this.L=!0,this.T=this.k;break;case"SHA3-512":this.p=l=576,this.U=512,this.L=!0,this.T=this.k;break;case"SHAKE128":i=31,this.p=l=1344,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"SHAKE256":i=31,this.p=l=1088,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"KMAC128":i=4,this.p=l=1344,this.I(s),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"KMAC256":i=4,this.p=l=1088,this.I(s),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"CSHAKE128":this.p=l=1344,i=this._(s),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"CSHAKE256":this.p=l=1088,i=this._(s),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;default:throw new Error(wt)}this.F=function(o,a,c,u,f){return function(h,d,p,g,b,_,k){let v,L,y=0;const E=[],I=b>>>5,Y=d>>>5;for(v=0;v<Y&&d>=b;v+=I)g=Et(h.slice(v,v+I),g),d-=b;for(h=h.slice(v),d%=b;h.length<I;)h.push(0);for(v=d>>>3,h[v>>2]^=_<<v%4*8,h[I-1]^=2147483648,g=Et(h,g);32*E.length<k&&(L=g[y%5][y/5|0],E.push(L.N),!(32*E.length>=k));)E.push(L.Y),y+=1,64*y%b==0&&(Et(null,g),y=0);return E}(o,a,0,u,l,i,f)},r.hmacKey&&this.M(Qe("hmacKey",r.hmacKey,this.K))}_(e,t){const s=function(l){const r=l||{};return{funcName:Qe("funcName",r.funcName,1,{value:[],binLen:0}),customization:Qe("Customization",r.customization,1,{value:[],binLen:0})}}(e||{});t&&(s.funcName=t);const i=Nt(Mt(s.funcName),Mt(s.customization));if(s.customization.binLen!==0||s.funcName.binLen!==0){const l=jn(i,this.p>>>3);for(let r=0;r<l.length;r+=this.p>>>5)this.C=this.R(l.slice(r,r+(this.p>>>5)),this.C),this.l+=this.p;return 4}return 31}I(e){const t=function(i){const l=i||{};return{kmacKey:Qe("kmacKey",l.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:Qe("Customization",l.customization,1,{value:[],binLen:0})}}(e||{});this._(e,t.funcName);const s=jn(Mt(t.kmacKey),this.p>>>3);for(let i=0;i<s.length;i+=this.p>>>5)this.C=this.R(s.slice(i,i+(this.p>>>5)),this.C),this.l+=this.p;this.A=!0}X(e){const t=Nt({value:this.o.slice(),binLen:this.h},function(s){let i,l,r=0;const o=[0,0],a=[4294967295&s,s/4294967296&2097151];for(i=6;i>=0;i--)l=a[i>>2]>>>8*i&255,l===0&&r===0||(o[r>>2]|=l<<8*r,r+=1);return r=r!==0?r:1,o[r>>2]|=r<<8*r,{value:r+1>4?o:[o[0]],binLen:8+8*r}}(e.outputLen));return this.F(t.value,t.binLen,this.l,this.g(this.C),e.outputLen)}}class dr{constructor(e,t,s){if(e=="SHA-1")this.O=new Jl(e,t,s);else if(e=="SHA-224"||e=="SHA-256")this.O=new xl(e,t,s);else if(e=="SHA-384"||e=="SHA-512")this.O=new ar(e,t,s);else{if(e!="SHA3-224"&&e!="SHA3-256"&&e!="SHA3-384"&&e!="SHA3-512"&&e!="SHAKE128"&&e!="SHAKE256"&&e!="CSHAKE128"&&e!="CSHAKE256"&&e!="KMAC128"&&e!="KMAC256")throw new Error(wt);this.O=new hr(e,t,s)}}update(e){this.O.update(e)}getHash(e,t){return this.O.getHash(e,t)}setHMACKey(e,t,s){this.O.setHMACKey(e,t,s)}getHMAC(e,t){return this.O.getHMAC(e,t)}}function zn(n,e,t){const s=n.slice();return s[23]=e[t],s}function Qn(n,e,t){const s=n.slice();return s[23]=e[t],s}function pr(n){let e,t,s,i=n[3].login+"",l,r,o,a,c=n[3].hostname+"",u,f,h,d,p;return{c(){e=T("ul"),t=T("li"),s=T("span"),l=re(i),r=F(),o=T("span"),a=re("\u2022 "),u=re(c),this.h()},l(g){e=N(g,"UL",{class:!0});var b=P(e);t=N(b,"LI",{class:!0});var _=P(t);s=N(_,"SPAN",{class:!0});var k=P(s);l=oe(k,i),r=j(k),o=N(k,"SPAN",{class:!0});var v=P(o);a=oe(v,"\u2022 "),u=oe(v,c),v.forEach(m),k.forEach(m),_.forEach(m),b.forEach(m),this.h()},h(){w(o,"class","caption svelte-27lmz4"),w(s,"class","svelte-27lmz4"),w(t,"class","svelte-27lmz4"),w(e,"class","svelte-27lmz4")},m(g,b){O(g,e,b),A(e,t),A(t,s),A(s,l),A(s,r),A(s,o),A(o,a),A(o,u),h=!0,d||(p=K(t,"click",n[10]),d=!0)},p(g,b){(!h||b&8)&&i!==(i=g[3].login+"")&&we(l,i),(!h||b&8)&&c!==(c=g[3].hostname+"")&&we(u,c)},i(g){h||(ye(()=>{f||(f=_e(e,At,{},!0)),f.run(1)}),h=!0)},o(g){f||(f=_e(e,At,{},!1)),f.run(0),h=!1},d(g){g&&m(e),g&&f&&f.end(),d=!1,p()}}}function mr(n){let e,t,s,i,l,r,o,a,c,u,f,h,d,p=n[6]?"":"Connect",g,b,_,k,v,L,y=n[6]&&Kn();return{c(){e=T("form"),t=T("ul"),s=T("li"),i=T("input"),l=F(),r=T("li"),o=T("input"),a=F(),c=T("li"),u=T("input"),f=F(),h=T("li"),d=T("button"),g=re(p),b=F(),y&&y.c(),this.h()},l(E){e=N(E,"FORM",{});var I=P(e);t=N(I,"UL",{class:!0});var Y=P(t);s=N(Y,"LI",{class:!0});var se=P(s);i=N(se,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),se.forEach(m),l=j(Y),r=N(Y,"LI",{class:!0});var z=P(r);o=N(z,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),z.forEach(m),a=j(Y),c=N(Y,"LI",{class:!0});var C=P(c);u=N(C,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),C.forEach(m),f=j(Y),h=N(Y,"LI",{class:!0});var B=P(h);d=N(B,"BUTTON",{type:!0,class:!0});var U=P(d);g=oe(U,p),U.forEach(m),b=j(B),y&&y.l(B),B.forEach(m),Y.forEach(m),I.forEach(m),this.h()},h(){w(i,"type","url"),w(i,"name","hostname"),w(i,"placeholder","Hostname"),w(i,"class","svelte-27lmz4"),w(s,"class","svelte-27lmz4"),w(o,"type","text"),w(o,"name","login"),w(o,"placeholder","Login"),w(o,"class","svelte-27lmz4"),w(r,"class","svelte-27lmz4"),w(u,"type","password"),w(u,"name","password"),w(u,"placeholder","Password"),w(u,"class","svelte-27lmz4"),w(c,"class","svelte-27lmz4"),w(d,"type","submit"),w(d,"class","svelte-27lmz4"),w(h,"class","svelte-27lmz4"),w(t,"class","svelte-27lmz4"),e.noValidate=!0},m(E,I){O(E,e,I),A(e,t),A(t,s),A(s,i),Ye(i,n[3].hostname),A(t,l),A(t,r),A(r,o),Ye(o,n[3].login),A(t,a),A(t,c),A(c,u),Ye(u,n[5]),A(t,f),A(t,h),A(h,d),A(d,g),A(h,b),y&&y.m(h,null),k=!0,v||(L=[K(i,"input",n[16]),K(o,"input",n[17]),K(u,"input",n[18]),K(d,"click",n[9]),K(t,"touchstart",Ce(n[13])),K(e,"submit",ft(n[12]))],v=!0)},p(E,I){I&24&&Ye(i,E[3].hostname),I&24&&o.value!==E[3].login&&Ye(o,E[3].login),I&32&&u.value!==E[5]&&Ye(u,E[5]),(!k||I&64)&&p!==(p=E[6]?"":"Connect")&&we(g,p),E[6]?y?I&64&&V(y,1):(y=Kn(),y.c(),V(y,1),y.m(h,null)):y&&(de(),H(y,1,1,()=>{y=null}),pe())},i(E){k||(V(y),ye(()=>{_||(_=_e(t,At,{},!0)),_.run(1)}),k=!0)},o(E){H(y),_||(_=_e(t,At,{},!1)),_.run(0),k=!1},d(E){E&&m(e),y&&y.d(),E&&_&&_.end(),v=!1,ve(L)}}}function Kn(n){let e,t,s;return t=new bt({props:{size:40}}),{c(){e=T("div"),x(t.$$.fragment),this.h()},l(i){e=N(i,"DIV",{class:!0});var l=P(e);ne(t.$$.fragment,l),l.forEach(m),this.h()},h(){w(e,"class","loader svelte-27lmz4")},m(i,l){O(i,e,l),ee(t,e,null),s=!0},i(i){s||(V(t.$$.fragment,i),s=!0)},o(i){H(t.$$.fragment,i),s=!1},d(i){i&&m(e),te(t)}}}function Wn(n){let e,t=n[23]+"",s,i;return{c(){e=T("option"),s=re(t),this.h()},l(l){e=N(l,"OPTION",{});var r=P(e);s=oe(r,t),r.forEach(m),this.h()},h(){e.__value=i=n[23],e.value=e.__value},m(l,r){O(l,e,r),A(e,s)},p(l,r){r&16&&t!==(t=l[23]+"")&&we(s,t),r&16&&i!==(i=l[23])&&(e.__value=i,e.value=e.__value)},d(l){l&&m(e)}}}function Xn(n){let e,t=n[23]+"",s,i;return{c(){e=T("option"),s=re(t),this.h()},l(l){e=N(l,"OPTION",{});var r=P(e);s=oe(r,t),r.forEach(m),this.h()},h(){e.__value=i=n[23],e.value=e.__value},m(l,r){O(l,e,r),A(e,s)},p:J,d(l){l&&m(e)}}}function _r(n){let e,t,s,i,l,r,o,a,c,u,f,h,d,p,g,b,_,k,v,L,y,E,I,Y;const se=[mr,pr],z=[];function C(M,$){return M[3].hostname&&M[3].login&&M[3].token?1:0}o=C(n),a=z[o]=se[o](n);let B=n[4],U=[];for(let M=0;M<B.length;M+=1)U[M]=Wn(Qn(n,B,M));let G=Object.values(Yt),R=[];for(let M=0;M<G.length;M+=1)R[M]=Xn(zn(n,G,M));return{c(){e=T("section"),t=T("div"),s=F(),i=T("h1"),l=re("Settings"),r=F(),a.c(),c=F(),u=T("ul"),f=T("li"),h=T("label"),d=re("Default Playlist"),p=F(),g=T("select");for(let M=0;M<U.length;M+=1)U[M].c();b=F(),_=T("li"),k=T("label"),v=re("Quick Action"),L=F(),y=T("select");for(let M=0;M<R.length;M+=1)R[M].c();this.h()},l(M){e=N(M,"SECTION",{style:!0,class:!0});var $=P(e);t=N($,"DIV",{class:!0}),P(t).forEach(m),s=j($),i=N($,"H1",{});var D=P(i);l=oe(D,"Settings"),D.forEach(m),r=j($),a.l($),c=j($),u=N($,"UL",{class:!0});var Q=P(u);f=N(Q,"LI",{class:!0});var q=P(f);h=N(q,"LABEL",{for:!0,class:!0});var ie=P(h);d=oe(ie,"Default Playlist"),ie.forEach(m),p=j(q),g=N(q,"SELECT",{id:!0,class:!0});var ue=P(g);for(let Le=0;Le<U.length;Le+=1)U[Le].l(ue);ue.forEach(m),q.forEach(m),b=j(Q),_=N(Q,"LI",{class:!0});var Ee=P(_);k=N(Ee,"LABEL",{for:!0,class:!0});var Re=P(k);v=oe(Re,"Quick Action"),Re.forEach(m),L=j(Ee),y=N(Ee,"SELECT",{id:!0,class:!0});var Ve=P(y);for(let Le=0;Le<R.length;Le+=1)R[Le].l(Ve);Ve.forEach(m),Ee.forEach(m),Q.forEach(m),$.forEach(m),this.h()},h(){w(t,"class","settings-handle svelte-27lmz4"),w(h,"for","select-playlist"),w(h,"class","svelte-27lmz4"),w(g,"id","select-playlist"),w(g,"class","svelte-27lmz4"),n[3].defaultPlaylist===void 0&&ye(()=>n[19].call(g)),w(f,"class","svelte-27lmz4"),w(k,"for","select-quick-action"),w(k,"class","svelte-27lmz4"),w(y,"id","select-quick-action"),w(y,"class","svelte-27lmz4"),w(_,"class","svelte-27lmz4"),w(u,"class","svelte-27lmz4"),le(e,"opacity",+n[0]),w(e,"class","svelte-27lmz4")},m(M,$){O(M,e,$),A(e,t),n[15](t),A(e,s),A(e,i),A(i,l),A(e,r),z[o].m(e,null),A(e,c),A(e,u),A(u,f),A(f,h),A(h,d),A(f,p),A(f,g);for(let D=0;D<U.length;D+=1)U[D].m(g,null);rn(g,n[3].defaultPlaylist),A(u,b),A(u,_),A(_,k),A(k,v),A(_,L),A(_,y);for(let D=0;D<R.length;D+=1)R[D].m(y,null);n[20](e),E=!0,I||(Y=[K(t,"click",Ce(n[14])),K(g,"change",n[19]),Ie(Wt.call(null,e,{gap:16,handle:".settings-handle"})),K(e,"open",n[21]),K(e,"close",n[22])],I=!0)},p(M,[$]){let D=o;if(o=C(M),o===D?z[o].p(M,$):(de(),H(z[D],1,1,()=>{z[D]=null}),pe(),a=z[o],a?a.p(M,$):(a=z[o]=se[o](M),a.c()),V(a,1),a.m(e,c)),$&16){B=M[4];let Q;for(Q=0;Q<B.length;Q+=1){const q=Qn(M,B,Q);U[Q]?U[Q].p(q,$):(U[Q]=Wn(q),U[Q].c(),U[Q].m(g,null))}for(;Q<U.length;Q+=1)U[Q].d(1);U.length=B.length}if($&24&&rn(g,M[3].defaultPlaylist),$&0){G=Object.values(Yt);let Q;for(Q=0;Q<G.length;Q+=1){const q=zn(M,G,Q);R[Q]?R[Q].p(q,$):(R[Q]=Xn(q),R[Q].c(),R[Q].m(y,null))}for(;Q<R.length;Q+=1)R[Q].d(1);R.length=G.length}(!E||$&1)&&le(e,"opacity",+M[0])},i(M){E||(V(a),E=!0)},o(M){H(a),E=!1},d(M){M&&m(e),n[15](null),z[o].d(),qe(U,M),qe(R,M),n[20](null),I=!1,ve(Y)}}}function vr(n,e,t){let s,i,l;Se(n,Oe,z=>t(3,s=z));let{open:r=!1}=e,o,a,c,u=!1,f=_t.list();Se(n,f,z=>t(4,i=z));let h=_t.loaded;Se(n,h,z=>t(11,l=z));async function d(){if(!c||!s.login||!s.hostname)return;const z=new dr("SHA-1","TEXT");z.update(c);const C=z.getHash("B64");t(6,u=!0),await oi(C)?Ot(Oe,s.token=C,s):p(),t(6,u=!1)}function p(){t(5,c=""),Ot(Oe,s.token="",s)}function g(z){$e.call(this,n,z)}function b(z){$e.call(this,n,z)}function _(z){$e.call(this,n,z)}function k(z){ae[z?"unshift":"push"](()=>{a=z,t(2,a)})}function v(){s.hostname=this.value,Oe.set(s)}function L(){s.login=this.value,Oe.set(s)}function y(){c=this.value,t(5,c)}function E(){s.defaultPlaylist=zs(this),Oe.set(s)}function I(z){ae[z?"unshift":"push"](()=>{o=z,t(1,o)})}const Y=()=>t(0,r=!0),se=()=>t(0,r=!1);return n.$$set=z=>{"open"in z&&t(0,r=z.open)},n.$$.update=()=>{n.$$.dirty&7&&(r?o==null||o.click():a==null||a.click()),n.$$.dirty&2072&&s.token&&!s.defaultPlaylist&&l&&Ot(Oe,s.defaultPlaylist=i[0],s)},[r,o,a,s,i,c,u,f,h,d,p,l,g,b,_,k,v,L,y,E,I,Y,se]}class gr extends fe{constructor(e){super(),he(this,e,vr,_r,ce,{open:0})}}function br(n){async function e(){const s=navigator.standalone?31:0,i=n.getBoundingClientRect(),l=innerWidth/2-i.width/2-i.x,r=innerHeight/2-i.height/2-i.y+s,o=innerWidth/i.width,a=(innerHeight-s)/i.height,c=`translate3d(${l}px, ${r}px, 0) scale(${o}, ${a})`;n.style.transform=c,n.style.zIndex="100";const u=`translateZ(0) scale(${1/o}, ${1/a})`;n.childNodes.forEach(f=>{f.nodeType==f.ELEMENT_NODE&&(f.style.transform=u)}),document.body.classList.add("focused")}function t(){n.childNodes.forEach(i=>{i.nodeType==i.ELEMENT_NODE&&(i.style.transform="none")}),n.style.transform="none";const s=parseFloat(getComputedStyle(n).transitionDuration);setTimeout(()=>{n.style.zIndex=null},s*1e3),document.body.classList.remove("focused")}return n.addEventListener("expand",e),n.addEventListener("retract",t),{destroy(){n.removeEventListener("expand",e),n.removeEventListener("retract",t)}}}function wr(n){return{c:J,l:J,m:J,p:J,i:J,o:J,d:J}}function yr(n){let e,t=n[11]+"",s,i;return{c(){e=T("span"),s=re(t)},l(l){e=N(l,"SPAN",{});var r=P(e);s=oe(r,t),r.forEach(m)},m(l,r){O(l,e,r),A(e,s)},p(l,r){n=l,r&2&&t!==(t=n[11]+"")&&we(s,t)},i(l){i||ye(()=>{i=rt(e,Ne,n[4]),i.start()})},o:J,d(l){l&&m(e)}}}function Er(n){let e,t,s,i;return{c(){e=T("span"),t=re("Loading..."),this.h()},l(l){e=N(l,"SPAN",{class:!0});var r=P(e);t=oe(r,"Loading..."),r.forEach(m),this.h()},h(){w(e,"class","loading svelte-gudq3p")},m(l,r){O(l,e,r),A(e,t),i=!0},p:J,i(l){i||(s&&s.end(1),i=!0)},o(l){s=ot(e,Ne,{duration:300}),i=!1},d(l){l&&m(e),l&&s&&s.end()}}}function kr(n){let e,t,s,i,l,r,o,a,c,u,f,h={ctx:n,current:null,token:null,hasCatch:!1,pending:Er,then:yr,catch:wr,value:11,blocks:[,,,]};Lt(l=n[1],h);const d=n[6].default,p=Ze(d,n,n[5],null);return{c(){e=T("article"),t=T("div"),s=T("div"),i=T("h2"),h.block.c(),r=F(),o=T("button"),a=F(),p&&p.c(),this.h()},l(g){e=N(g,"ARTICLE",{style:!0,class:!0});var b=P(e);t=N(b,"DIV",{class:!0});var _=P(t);s=N(_,"DIV",{class:!0});var k=P(s);i=N(k,"H2",{class:!0});var v=P(i);h.block.l(v),v.forEach(m),r=j(k),o=N(k,"BUTTON",{"aria-label":!0,class:!0}),P(o).forEach(m),k.forEach(m),a=j(_),p&&p.l(_),_.forEach(m),b.forEach(m),this.h()},h(){w(i,"class","svelte-gudq3p"),w(o,"aria-label","Minimize"),w(o,"class","svelte-gudq3p"),X(o,"hidden",!n[0]),w(s,"class","header svelte-gudq3p"),w(t,"class","container svelte-gudq3p"),le(e,"--height",n[2]+"px"),w(e,"class","svelte-gudq3p"),X(e,"opened",n[0])},m(g,b){O(g,e,b),A(e,t),A(t,s),A(s,i),h.block.m(i,h.anchor=null),h.mount=()=>i,h.anchor=null,A(s,r),A(s,o),A(t,a),p&&p.m(t,null),n[9](e),c=!0,u||(f=[K(o,"click",Ce(n[8])),Ie(br.call(null,e)),K(e,"click",n[7])],u=!0)},p(g,[b]){n=g,h.ctx=n,b&2&&l!==(l=n[1])&&Lt(l,h)||ps(h,n,b),b&1&&X(o,"hidden",!n[0]),p&&p.p&&(!c||b&32)&&We(p,d,n,n[5],c?Ge(d,n[5],b,null):Xe(n[5]),null),(!c||b&4)&&le(e,"--height",n[2]+"px"),b&1&&X(e,"opened",n[0])},i(g){c||(V(h.block),V(p,g),c=!0)},o(g){for(let b=0;b<3;b+=1){const _=h.blocks[b];H(_)}H(p,g),c=!1},d(g){g&&m(e),h.block.d(),h.token=null,h=null,p&&p.d(g),n[9](null),u=!1,ve(f)}}}function Lr(n,e,t){let{$$slots:s={},$$scope:i}=e,l,{title:r}=e,{opened:o=null}=e,{height:a}=e;const c={delay:typeof r=="string"?0:300,duration:typeof r=="string"?0:300};function u(){t(0,o=!o)}gt(()=>{l&&o===null&&l.addEventListener("click",u)}),lt(()=>{l==null||l.removeEventListener("click",u)});function f(p){$e.call(this,n,p)}const h=()=>t(0,o=!1);function d(p){ae[p?"unshift":"push"](()=>{l=p,t(3,l)})}return n.$$set=p=>{"title"in p&&t(1,r=p.title),"opened"in p&&t(0,o=p.opened),"height"in p&&t(2,a=p.height),"$$scope"in p&&t(5,i=p.$$scope)},n.$$.update=()=>{n.$$.dirty&9&&(o?l==null||l.dispatchEvent(new Event("expand")):l==null||l.dispatchEvent(new Event("retract")))},[o,r,a,l,c,i,s,f,h,d]}class Os extends fe{constructor(e){super(),he(this,e,Lr,kr,ce,{title:1,opened:0,height:2})}}function Ar(n){let e,t,s,i,l,r,o,a;return s=new vt({}),r=new vt({}),{c(){e=T("div"),t=T("div"),x(s.$$.fragment),i=F(),l=T("div"),x(r.$$.fragment),this.h()},l(c){e=N(c,"DIV",{class:!0});var u=P(e);t=N(u,"DIV",{class:!0});var f=P(t);ne(s.$$.fragment,f),f.forEach(m),i=j(u),l=N(u,"DIV",{class:!0});var h=P(l);ne(r.$$.fragment,h),h.forEach(m),u.forEach(m),this.h()},h(){w(t,"class","track svelte-1dtm44"),w(l,"class","track svelte-1dtm44"),w(e,"class","container svelte-1dtm44")},m(c,u){O(c,e,u),A(e,t),ee(s,t,null),A(e,i),A(e,l),ee(r,l,null),a=!0},p:J,i(c){a||(V(s.$$.fragment,c),V(r.$$.fragment,c),o&&o.end(1),a=!0)},o(c){H(s.$$.fragment,c),H(r.$$.fragment,c),o=ot(e,Ne,{duration:300}),a=!1},d(c){c&&m(e),te(s),te(r),c&&o&&o.end()}}}function Tr(n){let e,t,s,i,l=Gn(n[5])+"",r,o,a,c,u;return t=new xt({props:{items:n[5],container:n[3],itemHeight:Or,viewport:n[2],$$slots:{default:[Nr,({item:f,index:h})=>({18:f,19:h}),({item:f,index:h})=>(f?262144:0)|(h?524288:0)]},$$scope:{ctx:n}}}),{c(){e=T("div"),x(t.$$.fragment),s=F(),i=T("p"),r=re(l),this.h()},l(f){e=N(f,"DIV",{class:!0});var h=P(e);ne(t.$$.fragment,h),s=j(h),i=N(h,"P",{});var d=P(i);r=oe(d,l),d.forEach(m),h.forEach(m),this.h()},h(){w(e,"class","container svelte-1dtm44")},m(f,h){O(f,e,h),ee(t,e,null),A(e,s),A(e,i),A(i,r),n[14](e),a=!0,c||(u=[K(e,"swap",n[10]),Ie(Ls.call(null,e,{offsetTop:n[11]?46.5:0,offsetLeft:8,offsetBottom:n[11]?114:92,margin:0}))],c=!0)},p(f,h){const d={};h&32&&(d.items=f[5]),h&8&&(d.container=f[3]),h&4&&(d.viewport=f[2]),h&1835010&&(d.$$scope={dirty:h,ctx:f}),t.$set(d),(!a||h&32)&&l!==(l=Gn(f[5])+"")&&we(r,l)},i(f){a||(V(t.$$.fragment,f),o||ye(()=>{o=rt(e,Ne,{delay:300}),o.start()}),a=!0)},o(f){H(t.$$.fragment,f),a=!1},d(f){f&&m(e),te(t),n[14](null),c=!1,ve(u)}}}function Nr(n){let e,t,s,i,l,r;t=new vt({props:{track:n[18]}}),t.$on("play",n[12]);function o(...a){return n[13](n[18],...a)}return{c(){e=T("div"),x(t.$$.fragment),this.h()},l(a){e=N(a,"DIV",{class:!0,"data-index":!0});var c=P(e);ne(t.$$.fragment,c),c.forEach(m),this.h()},h(){w(e,"class","track svelte-1dtm44"),w(e,"data-index",s=n[19]),X(e,"tapped",!1),X(e,"dragging",!1)},m(a,c){O(a,e,c),ee(t,e,null),i=!0,l||(r=[Ie(Jt.call(null,e)),K(e,"click",o)],l=!0)},p(a,c){n=a;const u={};c&262144&&(u.track=n[18]),t.$set(u),(!i||c&524288&&s!==(s=n[19]))&&w(e,"data-index",s)},i(a){i||(V(t.$$.fragment,a),i=!0)},o(a){H(t.$$.fragment,a),i=!1},d(a){a&&m(e),te(t),l=!1,ve(r)}}}function Sr(n){let e,t,s,i,l,r,o,a,c;return{c(){e=T("button"),t=F(),s=T("button"),i=F(),l=T("button"),r=F(),o=T("button"),this.h()},l(u){e=N(u,"BUTTON",{class:!0,"aria-label":!0}),P(e).forEach(m),t=j(u),s=N(u,"BUTTON",{class:!0,"aria-label":!0}),P(s).forEach(m),i=j(u),l=N(u,"BUTTON",{class:!0,"aria-label":!0}),P(l).forEach(m),r=j(u),o=N(u,"BUTTON",{class:!0,"aria-label":!0}),P(o).forEach(m),this.h()},h(){w(e,"class","option edit svelte-1dtm44"),w(e,"aria-label","Edit Playlist"),X(e,"active",!1),w(s,"class","option next svelte-1dtm44"),w(s,"aria-label","Queue Next"),w(l,"class","option last svelte-1dtm44"),w(l,"aria-label","Queue Last"),w(o,"class","option shuffle svelte-1dtm44"),w(o,"aria-label","Play Shuffled")},m(u,f){O(u,e,f),O(u,t,f),O(u,s,f),O(u,i,f),O(u,l,f),O(u,r,f),O(u,o,f),a||(c=[K(s,"click",n[8]),K(l,"click",n[9]),K(o,"click",n[7])],a=!0)},p:J,d(u){u&&m(e),u&&m(t),u&&m(s),u&&m(i),u&&m(l),u&&m(r),u&&m(o),a=!1,ve(c)}}}function Pr(n){let e;return{c(){e=T("button"),this.h()},l(t){e=N(t,"BUTTON",{slot:!0,class:!0,"aria-label":!0}),P(e).forEach(m),this.h()},h(){w(e,"slot","activator"),w(e,"class","options play svelte-1dtm44"),w(e,"aria-label","Play Options"),X(e,"active",!1)},m(t,s){O(t,e,s)},p:J,d(t){t&&m(e)}}}function Cr(n){let e,t,s,i,l,r,o,a;const c=[Tr,Ar],u=[];function f(h,d){return h[5]?0:1}return t=f(n),s=u[t]=c[t](n),l=new Gt({props:{$$slots:{activator:[Pr],default:[Sr]},$$scope:{ctx:n}}}),{c(){e=T("div"),s.c(),i=F(),x(l.$$.fragment),this.h()},l(h){e=N(h,"DIV",{class:!0});var d=P(e);s.l(d),d.forEach(m),i=j(h),ne(l.$$.fragment,h),this.h()},h(){w(e,"class","viewport svelte-1dtm44"),X(e,"opened",n[1])},m(h,d){O(h,e,d),u[t].m(e,null),n[15](e),O(h,i,d),ee(l,h,d),r=!0,o||(a=Ie(Zt.call(null,e,{header:"h2"})),o=!0)},p(h,d){let p=t;t=f(h),t===p?u[t].p(h,d):(de(),H(u[p],1,1,()=>{u[p]=null}),pe(),s=u[t],s?s.p(h,d):(s=u[t]=c[t](h),s.c()),V(s,1),s.m(e,null)),d&2&&X(e,"opened",h[1]);const g={};d&1048576&&(g.$$scope={dirty:d,ctx:h}),l.$set(g)},i(h){r||(V(s),V(l.$$.fragment,h),r=!0)},o(h){H(s),H(l.$$.fragment,h),r=!1},d(h){h&&m(e),u[t].d(),n[15](null),h&&m(i),te(l,h),o=!1,a()}}}function Ir(n){let e,t,s;function i(r){n[16](r)}let l={title:n[0].title,height:115,$$slots:{default:[Cr]},$$scope:{ctx:n}};return n[1]!==void 0&&(l.opened=n[1]),e=new Os({props:l}),ae.push(()=>be(e,"opened",i)),e.$on("click",n[17]),{c(){x(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,o){ee(e,r,o),s=!0},p(r,[o]){const a={};o&1&&(a.title=r[0].title),o&1048622&&(a.$$scope={dirty:o,ctx:r}),!t&&o&2&&(t=!0,a.opened=r[1],ge(()=>t=!1)),e.$set(a)},i(r){s||(V(e.$$.fragment,r),s=!0)},o(r){H(e.$$.fragment,r),s=!1},d(r){te(e,r)}}}const Or=56;function Vr(n){let e=Math.floor(n/3600),t=Math.floor(n%3600/60),s=Math.floor(n%3600%60);t+=Math.round(s/60);let i=e>0?e+(e==1?" hour ":" hours "):"",l=t>0?t+(t==1?" minute ":" minutes"):"";return i+l}function Gn(n){if(!n||!n.length)return"";const e=n.length,t=n.reduce((s,i)=>s+i.length,0);return`${e} ${e==1?"song":"songs"}, ${Vr(t)}`}function Hr(n,e,t){let s,i,l=J,r=()=>(l(),l=Qs(s,I=>t(5,i=I)),s);n.$$.on_destroy.push(()=>l());let{playlist:o}=e,a=!1;async function c(I){if(!i)return;const Y=i.indexOf(I);!~Y||(Z.clear(),Z.pushPlaylist(ht(i),Y))}async function u(){!i||(Z.clear(),Z.pushPlaylist(ht(i)),Z.direct(me.Shuffled))}async function f(){!i||Z.pushNext(...ht(i))}async function h(){!i||Z.pushLast(...ht(i))}function d({detail:I}){if(!i)return;const{from:Y,to:se}=I;if(Y<0||Y>=i.length||se<0||se>=i.length||Y===se)return;const z=i.splice(Y,1)[0];!z||(i.splice(se,0,z),s.set(i))}const p=!!navigator.standalone;let g,b;const _=({detail:I})=>c(I),k=(I,Y)=>{!a||(Y.stopPropagation(),c(I))};function v(I){ae[I?"unshift":"push"](()=>{b=I,t(3,b)})}function L(I){ae[I?"unshift":"push"](()=>{g=I,t(2,g)})}function y(I){a=I,t(1,a)}const E=()=>a||!i||t(1,a=!a);return n.$$set=I=>{"playlist"in I&&t(0,o=I.playlist)},n.$$.update=()=>{n.$$.dirty&1&&r(t(4,s=o.tracks)),n.$$.dirty&6&&!a&&g&&g.scrollTo(0,0)},[o,a,g,b,s,i,c,u,f,h,d,p,_,k,v,L,y,E]}class en extends fe{constructor(e){super(),he(this,e,Hr,Ir,ce,{playlist:0})}}const Mr=n=>({}),Zn=n=>({});function Jn(n,e,t){const s=n.slice();return s[14]=e[t],s[16]=t,s}function xn(n){let e,t=n[14]+"",s,i,l,r,o,a;function c(){return n[8](n[16])}return{c(){e=T("button"),s=re(t),i=F(),this.h()},l(u){e=N(u,"BUTTON",{tabindex:!0,"aria-label":!0,alt:!0,class:!0});var f=P(e);s=oe(f,t),i=j(f),f.forEach(m),this.h()},h(){w(e,"tabindex","0"),w(e,"aria-label",l=n[14]),w(e,"alt",r=n[14]),w(e,"class","svelte-1an2m9o"),X(e,"active",n[1]===n[16])},m(u,f){O(u,e,f),A(e,s),A(e,i),o||(a=K(e,"click",c),o=!0)},p(u,f){n=u,f&1&&t!==(t=n[14]+"")&&we(s,t),f&1&&l!==(l=n[14])&&w(e,"aria-label",l),f&1&&r!==(r=n[14])&&w(e,"alt",r),f&2&&X(e,"active",n[1]===n[16])},d(u){u&&m(e),o=!1,a()}}}function Yr(n){let e,t,s,i,l,r,o,a=n[0],c=[];for(let p=0;p<a.length;p+=1)c[p]=xn(Jn(n,a,p));const u=n[7].search,f=Ze(u,n,n[6],Zn),h=n[7].default,d=Ze(h,n,n[6],null);return{c(){e=T("header");for(let p=0;p<c.length;p+=1)c[p].c();t=F(),f&&f.c(),s=F(),i=T("nav"),d&&d.c(),this.h()},l(p){e=N(p,"HEADER",{class:!0});var g=P(e);for(let _=0;_<c.length;_+=1)c[_].l(g);g.forEach(m),t=j(p),f&&f.l(p),s=j(p),i=N(p,"NAV",{class:!0});var b=P(i);d&&d.l(b),b.forEach(m),this.h()},h(){w(e,"class","svelte-1an2m9o"),w(i,"class","svelte-1an2m9o")},m(p,g){O(p,e,g);for(let b=0;b<c.length;b+=1)c[b].m(e,null);n[9](e),O(p,t,g),f&&f.m(p,g),O(p,s,g),O(p,i,g),d&&d.m(i,null),n[10](i),l=!0,r||(o=K(i,"scroll",n[4]),r=!0)},p(p,[g]){if(g&35){a=p[0];let b;for(b=0;b<a.length;b+=1){const _=Jn(p,a,b);c[b]?c[b].p(_,g):(c[b]=xn(_),c[b].c(),c[b].m(e,null))}for(;b<c.length;b+=1)c[b].d(1);c.length=a.length}f&&f.p&&(!l||g&64)&&We(f,u,p,p[6],l?Ge(u,p[6],g,Mr):Xe(p[6]),Zn),d&&d.p&&(!l||g&64)&&We(d,h,p,p[6],l?Ge(h,p[6],g,null):Xe(p[6]),null)},i(p){l||(V(f,p),V(d,p),l=!0)},o(p){H(f,p),H(d,p),l=!1},d(p){p&&m(e),qe(c,p),n[9](null),p&&m(t),f&&f.d(p),p&&m(s),p&&m(i),d&&d.d(p),n[10](null),r=!1,o()}}}function $r(n,e,t){let{$$slots:s={},$$scope:i}=e,{sections:l=[]}=e,r=0,o,a,c=new Map;async function u(_=r){if(!a)return;const k={time:200,align:{left:0},cancellable:!0,validTarget:L=>L===o||L===a};async function v(L){const y=L.children[_];L.style.scrollSnapType="none",c.set(L,(c.get(L)||0)+1),Ft(y,k,()=>{if(c.set(L,(c.get(L)||0)-1),!c.get(L)){const E=L.scrollLeft;L.style.scrollSnapType=null,L.scrollTo(E,0)}})}v(a),_!=h()&&v(o)}function f(){const _=h();!c.get(o)&&r!=_&&t(1,r=_)}function h(){return Math.round(o.scrollLeft/o.clientWidth)}function d(_){r===_?Ft(o.children[r].firstElementChild,{time:200}):t(1,r=_)}const p=_=>d(_);function g(_){ae[_?"unshift":"push"](()=>{a=_,t(3,a)})}function b(_){ae[_?"unshift":"push"](()=>{o=_,t(2,o)})}return n.$$set=_=>{"sections"in _&&t(0,l=_.sections),"$$scope"in _&&t(6,i=_.$$scope)},n.$$.update=()=>{n.$$.dirty&2&&u(r)},[l,r,o,a,f,d,i,s,p,g,b]}class Ur extends fe{constructor(e){super(),he(this,e,$r,Yr,ce,{sections:0})}}function es(n){let e,t,s,i,l;return{c(){e=T("button"),this.h()},l(r){e=N(r,"BUTTON",{class:!0,"aria-label":!0}),P(e).forEach(m),this.h()},h(){w(e,"class","cancel svelte-pjweam"),w(e,"aria-label","Close Search")},m(r,o){O(r,e,o),s=!0,i||(l=K(e,"click",n[10]),i=!0)},p:J,i(r){s||(ye(()=>{t||(t=_e(e,Ne,{duration:200},!0)),t.run(1)}),s=!0)},o(r){t||(t=_e(e,Ne,{duration:200},!1)),t.run(0),s=!1},d(r){r&&m(e),r&&t&&t.end(),i=!1,l()}}}function Br(n){let e,t,s,i,l,r,o,a,c,u=n[2]&&es(n);return{c(){e=T("div"),t=T("input"),i=F(),l=T("i"),r=F(),u&&u.c(),this.h()},l(f){e=N(f,"DIV",{class:!0});var h=P(e);t=N(h,"INPUT",{type:!0,placeholder:!0,tabindex:!0,class:!0}),i=j(h),l=N(h,"I",{class:!0}),P(l).forEach(m),r=j(h),u&&u.l(h),h.forEach(m),this.h()},h(){w(t,"type","text"),w(t,"placeholder","Search"),w(t,"tabindex",s=n[3]?0:-1),w(t,"class","svelte-pjweam"),w(l,"class","search svelte-pjweam"),w(e,"class","svelte-pjweam"),X(e,"visible",n[3])},m(f,h){O(f,e,h),A(e,t),Ye(t,n[2]),n[8](t),A(e,i),A(e,l),A(e,r),u&&u.m(e,null),o=!0,a||(c=[K(window,"touchstart",n[5]),K(window,"touchend",n[6]),K(t,"input",n[7]),K(t,"focusout",n[9])],a=!0)},p(f,[h]){(!o||h&8&&s!==(s=f[3]?0:-1))&&w(t,"tabindex",s),h&4&&t.value!==f[2]&&Ye(t,f[2]),f[2]?u?(u.p(f,h),h&4&&V(u,1)):(u=es(f),u.c(),V(u,1),u.m(e,null)):u&&(de(),H(u,1,1,()=>{u=null}),pe()),h&8&&X(e,"visible",f[3])},i(f){o||(V(u),o=!0)},o(f){H(u),o=!1},d(f){f&&m(e),n[8](null),u&&u.d(),a=!1,ve(c)}}}function qr(n,e,t){let{drag:s}=e,i,l="",r=!1,o=!1;const a=()=>t(0,o=!0),c=()=>t(0,o=!1)||r&&i.focus();function u(){l=this.value,t(2,l)}function f(p){ae[p?"unshift":"push"](()=>{i=p,t(1,i)})}const h=()=>{t(3,r=!1),t(2,l="")},d=()=>t(2,l="");return n.$$set=p=>{"drag"in p&&t(4,s=p.drag)},n.$$.update=()=>{n.$$.dirty&17&&o&&s<-50&&t(3,r=!0)},[o,i,l,r,s,a,c,u,f,h,d]}class Rr extends fe{constructor(e){super(),he(this,e,qr,Br,ce,{drag:4})}}function ts(n,e,t){const s=n.slice();return s[10]=e[t],s}function ns(n,e,t){const s=n.slice();return s[10]=e[t],s}function ss(n,e,t){const s=n.slice();return s[10]=e[t],s}function Dr(n){let e,t,s;return t=new bt({props:{size:64,color:"var(--color-text-caption)"}}),{c(){e=T("div"),x(t.$$.fragment),this.h()},l(i){e=N(i,"DIV",{class:!0});var l=P(e);ne(t.$$.fragment,l),l.forEach(m),this.h()},h(){w(e,"class","loader svelte-pyvlpb")},m(i,l){O(i,e,l),ee(t,e,null),s=!0},p:J,i(i){s||(V(t.$$.fragment,i),s=!0)},o(i){H(t.$$.fragment,i),s=!1},d(i){i&&m(e),te(t)}}}function Fr(n){let e,t,s=n[1],i=[];for(let r=0;r<s.length;r+=1)i[r]=is(ss(n,s,r));const l=r=>H(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=Pe()},l(r){for(let o=0;o<i.length;o+=1)i[o].l(r);e=Pe()},m(r,o){for(let a=0;a<i.length;a+=1)i[a].m(r,o);O(r,e,o),t=!0},p(r,o){if(o&2){s=r[1];let a;for(a=0;a<s.length;a+=1){const c=ss(r,s,a);i[a]?(i[a].p(c,o),V(i[a],1)):(i[a]=is(c),i[a].c(),V(i[a],1),i[a].m(e.parentNode,e))}for(de(),a=s.length;a<i.length;a+=1)l(a);pe()}},i(r){if(!t){for(let o=0;o<s.length;o+=1)V(i[o]);t=!0}},o(r){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)H(i[o]);t=!1},d(r){qe(i,r),r&&m(e)}}}function is(n){let e,t;return e=new en({props:{playlist:n[10]}}),{c(){x(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,i){ee(e,s,i),t=!0},p(s,i){const l={};i&2&&(l.playlist=s[10]),e.$set(l)},i(s){t||(V(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){te(e,s)}}}function jr(n){let e,t,s;return t=new bt({props:{size:64,color:"var(--color-text-caption)"}}),{c(){e=T("div"),x(t.$$.fragment),this.h()},l(i){e=N(i,"DIV",{class:!0});var l=P(e);ne(t.$$.fragment,l),l.forEach(m),this.h()},h(){w(e,"class","loader svelte-pyvlpb")},m(i,l){O(i,e,l),ee(t,e,null),s=!0},p:J,i(i){s||(V(t.$$.fragment,i),s=!0)},o(i){H(t.$$.fragment,i),s=!1},d(i){i&&m(e),te(t)}}}function zr(n){let e,t,s,i=n[2],l=[];for(let u=0;u<i.length;u+=1)l[u]=ls(ns(n,i,u));const r=u=>H(l[u],1,1,()=>{l[u]=null});let o=n[3],a=[];for(let u=0;u<o.length;u+=1)a[u]=rs(ts(n,o,u));const c=u=>H(a[u],1,1,()=>{a[u]=null});return{c(){for(let u=0;u<l.length;u+=1)l[u].c();e=F();for(let u=0;u<a.length;u+=1)a[u].c();t=Pe()},l(u){for(let f=0;f<l.length;f+=1)l[f].l(u);e=j(u);for(let f=0;f<a.length;f+=1)a[f].l(u);t=Pe()},m(u,f){for(let h=0;h<l.length;h+=1)l[h].m(u,f);O(u,e,f);for(let h=0;h<a.length;h+=1)a[h].m(u,f);O(u,t,f),s=!0},p(u,f){if(f&4){i=u[2];let h;for(h=0;h<i.length;h+=1){const d=ns(u,i,h);l[h]?(l[h].p(d,f),V(l[h],1)):(l[h]=ls(d),l[h].c(),V(l[h],1),l[h].m(e.parentNode,e))}for(de(),h=i.length;h<l.length;h+=1)r(h);pe()}if(f&8){o=u[3];let h;for(h=0;h<o.length;h+=1){const d=ts(u,o,h);a[h]?(a[h].p(d,f),V(a[h],1)):(a[h]=rs(d),a[h].c(),V(a[h],1),a[h].m(t.parentNode,t))}for(de(),h=o.length;h<a.length;h+=1)c(h);pe()}},i(u){if(!s){for(let f=0;f<i.length;f+=1)V(l[f]);for(let f=0;f<o.length;f+=1)V(a[f]);s=!0}},o(u){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)H(l[f]);a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)H(a[f]);s=!1},d(u){qe(l,u),u&&m(e),qe(a,u),u&&m(t)}}}function ls(n){let e,t;return e=new en({props:{playlist:n[10]}}),{c(){x(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,i){ee(e,s,i),t=!0},p(s,i){const l={};i&4&&(l.playlist=s[10]),e.$set(l)},i(s){t||(V(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){te(e,s)}}}function rs(n){let e,t;return e=new en({props:{playlist:n[10]}}),{c(){x(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,i){ee(e,s,i),t=!0},p(s,i){const l={};i&8&&(l.playlist=s[10]),e.$set(l)},i(s){t||(V(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){te(e,s)}}}function Qr(n){let e,t,s,i,l,r,o,a,c,u,f,h,d,p;const g=[Fr,Dr],b=[];function _(y,E){return y[1]?0:1}t=_(n),s=b[t]=g[t](n);const k=[zr,jr],v=[];function L(y,E){return y[2]&&y[3]?0:1}return r=L(n),o=v[r]=k[r](n),{c(){e=T("section"),s.c(),i=F(),l=T("section"),o.c(),a=F(),c=T("section"),u=F(),f=T("section"),this.h()},l(y){e=N(y,"SECTION",{class:!0});var E=P(e);s.l(E),E.forEach(m),i=j(y),l=N(y,"SECTION",{class:!0});var I=P(l);o.l(I),I.forEach(m),a=j(y),c=N(y,"SECTION",{class:!0}),P(c).forEach(m),u=j(y),f=N(y,"SECTION",{class:!0}),P(f).forEach(m),this.h()},h(){w(e,"class","svelte-pyvlpb"),w(l,"class","svelte-pyvlpb"),w(c,"class","svelte-pyvlpb"),w(f,"class","svelte-pyvlpb")},m(y,E){O(y,e,E),b[t].m(e,null),O(y,i,E),O(y,l,E),v[r].m(l,null),O(y,a,E),O(y,c,E),O(y,u,E),O(y,f,E),h=!0,d||(p=[K(e,"scroll",n[5]),K(l,"scroll",n[5]),K(c,"scroll",n[5]),K(f,"scroll",n[5])],d=!0)},p(y,E){let I=t;t=_(y),t===I?b[t].p(y,E):(de(),H(b[I],1,1,()=>{b[I]=null}),pe(),s=b[t],s?s.p(y,E):(s=b[t]=g[t](y),s.c()),V(s,1),s.m(e,null));let Y=r;r=L(y),r===Y?v[r].p(y,E):(de(),H(v[Y],1,1,()=>{v[Y]=null}),pe(),o=v[r],o?o.p(y,E):(o=v[r]=k[r](y),o.c()),V(o,1),o.m(l,null))},i(y){h||(V(s),V(o),h=!0)},o(y){H(s),H(o),h=!1},d(y){y&&m(e),b[t].d(),y&&m(i),y&&m(l),v[r].d(),y&&m(a),y&&m(c),y&&m(u),y&&m(f),d=!1,ve(p)}}}function Kr(n){let e,t,s;function i(r){n[9](r)}let l={slot:"search"};return n[0]!==void 0&&(l.drag=n[0]),e=new Rr({props:l}),ae.push(()=>be(e,"drag",i)),{c(){x(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,o){ee(e,r,o),s=!0},p(r,o){const a={};!t&&o&1&&(t=!0,a.drag=r[0],ge(()=>t=!1)),e.$set(a)},i(r){s||(V(e.$$.fragment,r),s=!0)},o(r){H(e.$$.fragment,r),s=!1},d(r){te(e,r)}}}function Wr(n){let e,t;return e=new Ur({props:{sections:n[4],$$slots:{search:[Kr],default:[Qr]},$$scope:{ctx:n}}}),{c(){x(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,i){ee(e,s,i),t=!0},p(s,[i]){const l={};i&131087&&(l.$$scope={dirty:i,ctx:s}),e.$set(l)},i(s){t||(V(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){te(e,s)}}}function Xr(n,e,t){let s,i,l,r=["Recent","Playlists","Artists","Albums"],o=0;function a({target:d}){t(0,o=d.scrollTop)}const{recent:c,library:u,dynamic:f}=_t;Se(n,c,d=>t(1,s=d)),Se(n,u,d=>t(2,i=d)),Se(n,f,d=>t(3,l=d));function h(d){o=d,t(0,o)}return[o,s,i,l,r,a,c,u,f,h]}class Gr extends fe{constructor(e){super(),he(this,e,Xr,Wr,ce,{})}}function Zr(n,e,t){const s=n.slice();return s[6]=e[t],s[8]=t,s}function Jr(n){let e,t;return e=new Os({props:{title:"Result "+n[8],height:0}}),{c(){x(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,i){ee(e,s,i),t=!0},p:J,i(s){t||(V(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){te(e,s)}}}function os(n){let e,t,s;return{c(){e=T("button"),this.h()},l(i){e=N(i,"BUTTON",{class:!0,"aria-label":!0}),P(e).forEach(m),this.h()},h(){w(e,"class","minimize svelte-7b5cz"),w(e,"aria-label","Minimize Search")},m(i,l){O(i,e,l),s=!0},i(i){s||(ye(()=>{t||(t=_e(e,Ne,{duration:200},!0)),t.run(1)}),s=!0)},o(i){t||(t=_e(e,Ne,{duration:200},!1)),t.run(0),s=!1},d(i){i&&m(e),i&&t&&t.end()}}}function xr(n){let e,t,s,i,l,r,o,a,c,u,f,h,d,p,g,b=n[1],_=[];for(let v=0;v<b.length;v+=1)_[v]=Jr(Zr(n,b,v));let k=n[0]&&os();return{c(){e=T("header"),t=T("h1"),s=re("Explore"),i=F(),l=T("button"),r=F();for(let v=0;v<_.length;v+=1)_[v].c();o=F(),a=T("aside"),c=T("input"),u=F(),f=T("i"),h=F(),k&&k.c(),this.h()},l(v){e=N(v,"HEADER",{class:!0});var L=P(e);t=N(L,"H1",{});var y=P(t);s=oe(y,"Explore"),y.forEach(m),i=j(L),l=N(L,"BUTTON",{"aria-label":!0,class:!0}),P(l).forEach(m),L.forEach(m),r=j(v);for(let I=0;I<_.length;I+=1)_[I].l(v);o=j(v),a=N(v,"ASIDE",{class:!0});var E=P(a);c=N(E,"INPUT",{type:!0,placeholder:!0,tabindex:!0,class:!0}),u=j(E),f=N(E,"I",{class:!0}),P(f).forEach(m),h=j(E),k&&k.l(E),E.forEach(m),this.h()},h(){w(l,"aria-label","Settings"),w(l,"class","settings svelte-7b5cz"),w(e,"class","svelte-7b5cz"),w(c,"type","text"),w(c,"placeholder","Search"),w(c,"tabindex","0"),w(c,"class","svelte-7b5cz"),w(f,"class","search svelte-7b5cz"),w(a,"class","svelte-7b5cz")},m(v,L){O(v,e,L),A(e,t),A(t,s),A(e,i),A(e,l),O(v,r,L);for(let y=0;y<_.length;y+=1)_[y].m(v,L);O(v,o,L),O(v,a,L),A(a,c),A(a,u),A(a,f),A(a,h),k&&k.m(a,null),d=!0,p||(g=[K(l,"click",n[3]),K(c,"focus",n[4]),K(c,"blur",n[5])],p=!0)},p(v,[L]){v[0]?k?L&1&&V(k,1):(k=os(),k.c(),V(k,1),k.m(a,null)):k&&(de(),H(k,1,1,()=>{k=null}),pe())},i(v){if(!d){for(let L=0;L<b.length;L+=1)V(_[L]);V(k),d=!0}},o(v){_=_.filter(Boolean);for(let L=0;L<_.length;L+=1)H(_[L]);H(k),d=!1},d(v){v&&m(e),v&&m(r),qe(_,v),v&&m(o),v&&m(a),k&&k.d(),p=!1,ve(g)}}}function eo(n,e,t){let s=!1,i=[];const l=Qt();return[s,i,l,()=>l("settings"),()=>t(0,s=!0),()=>t(0,s=!1)]}class to extends fe{constructor(e){super(),he(this,e,eo,xr,ce,{})}}function no(n){let e,t,s;return{c(){e=T("header"),t=T("h1"),s=re("Listen")},l(i){e=N(i,"HEADER",{});var l=P(e);t=N(l,"H1",{});var r=P(t);s=oe(r,"Listen"),r.forEach(m),l.forEach(m)},m(i,l){O(i,e,l),A(e,t),A(t,s)},p:J,i:J,o:J,d(i){i&&m(e)}}}class so extends fe{constructor(e){super(),he(this,e,null,no,ce,{})}}function as(n,e,t){const s=n.slice();return s[3]=e[t],s[5]=t,s}function us(n){let e,t=n[3]+"",s,i,l,r,o,a;function c(){return n[2](n[5])}return{c(){e=T("button"),s=re(t),i=F(),this.h()},l(u){e=N(u,"BUTTON",{tabindex:!0,"aria-label":!0,class:!0});var f=P(e);s=oe(f,t),i=j(f),f.forEach(m),this.h()},h(){w(e,"tabindex","0"),w(e,"aria-label",l=n[3]),w(e,"class",r=Ks(n[3].toLowerCase())+" svelte-1wetexf"),X(e,"active",n[0]===n[5])},m(u,f){O(u,e,f),A(e,s),A(e,i),o||(a=K(e,"click",c),o=!0)},p(u,f){n=u,f&1&&X(e,"active",n[0]===n[5])},d(u){u&&m(e),o=!1,a()}}}function io(n){let e,t=n[1],s=[];for(let i=0;i<t.length;i+=1)s[i]=us(as(n,t,i));return{c(){e=T("nav");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=N(i,"NAV",{class:!0});var l=P(e);for(let r=0;r<s.length;r+=1)s[r].l(l);l.forEach(m),this.h()},h(){w(e,"class","svelte-1wetexf")},m(i,l){O(i,e,l);for(let r=0;r<s.length;r+=1)s[r].m(e,null)},p(i,[l]){if(l&3){t=i[1];let r;for(r=0;r<t.length;r+=1){const o=as(i,t,r);s[r]?s[r].p(o,l):(s[r]=us(o),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},i:J,o:J,d(i){i&&m(e),qe(s,i)}}}function lo(n,e,t){const s=["Library","Listen","Explore"];let{selected:i=0}=e;const l=r=>t(0,i=r);return n.$$set=r=>{"selected"in r&&t(0,i=r.selected)},[i,s,l]}class ro extends fe{constructor(e){super(),he(this,e,lo,io,ce,{selected:0})}}function cs(n,e,t){const s=n.slice();return s[7]=e[t],s[9]=t,s}function fs(n){let e,t,s;var i=n[7];function l(r){return{}}return i&&(t=new i(l()),t.$on("settings",n[4])),{c(){e=T("section"),t&&x(t.$$.fragment),this.h()},l(r){e=N(r,"SECTION",{style:!0});var o=P(e);t&&ne(t.$$.fragment,o),o.forEach(m),this.h()},h(){le(e,"display",n[0]==n[9]?"block":"none")},m(r,o){O(r,e,o),t&&ee(t,e,null),s=!0},p(r,o){if(i!==(i=r[7])){if(t){de();const a=t;H(a.$$.fragment,1,0,()=>{te(a,1)}),pe()}i?(t=new i(l()),t.$on("settings",r[4]),x(t.$$.fragment),V(t.$$.fragment,1),ee(t,e,null)):t=null}(!s||o&1)&&le(e,"display",r[0]==r[9]?"block":"none")},i(r){s||(t&&V(t.$$.fragment,r),s=!0)},o(r){t&&H(t.$$.fragment,r),s=!1},d(r){r&&m(e),t&&te(t)}}}function oo(n){let e,t,s,i,l,r,o,a,c,u=n[2],f=[];for(let _=0;_<u.length;_+=1)f[_]=fs(cs(n,u,_));const h=_=>H(f[_],1,1,()=>{f[_]=null});t=new zl({});function d(_){n[5](_)}let p={};n[0]!==void 0&&(p.selected=n[0]),i=new ro({props:p}),ae.push(()=>be(i,"selected",d));function g(_){n[6](_)}let b={};return n[1]!==void 0&&(b.open=n[1]),o=new gr({props:b}),ae.push(()=>be(o,"open",g)),{c(){for(let _=0;_<f.length;_+=1)f[_].c();e=F(),x(t.$$.fragment),s=F(),x(i.$$.fragment),r=F(),x(o.$$.fragment)},l(_){for(let k=0;k<f.length;k+=1)f[k].l(_);e=j(_),ne(t.$$.fragment,_),s=j(_),ne(i.$$.fragment,_),r=j(_),ne(o.$$.fragment,_)},m(_,k){for(let v=0;v<f.length;v+=1)f[v].m(_,k);O(_,e,k),ee(t,_,k),O(_,s,k),ee(i,_,k),O(_,r,k),ee(o,_,k),c=!0},p(_,[k]){if(k&7){u=_[2];let y;for(y=0;y<u.length;y+=1){const E=cs(_,u,y);f[y]?(f[y].p(E,k),V(f[y],1)):(f[y]=fs(E),f[y].c(),V(f[y],1),f[y].m(e.parentNode,e))}for(de(),y=u.length;y<f.length;y+=1)h(y);pe()}const v={};!l&&k&1&&(l=!0,v.selected=_[0],ge(()=>l=!1)),i.$set(v);const L={};!a&&k&2&&(a=!0,L.open=_[1],ge(()=>a=!1)),o.$set(L)},i(_){if(!c){for(let k=0;k<u.length;k+=1)V(f[k]);V(t.$$.fragment,_),V(i.$$.fragment,_),V(o.$$.fragment,_),c=!0}},o(_){f=f.filter(Boolean);for(let k=0;k<f.length;k+=1)H(f[k]);H(t.$$.fragment,_),H(i.$$.fragment,_),H(o.$$.fragment,_),c=!1},d(_){qe(f,_),_&&m(e),te(t,_),_&&m(s),te(i,_),_&&m(r),te(o,_)}}}function ao(n,e,t){let s;Se(n,Oe,u=>t(3,s=u));const i=[Gr,so,to];let l=0,r=!s.token;const o=()=>t(1,r=!0);function a(u){l=u,t(0,l)}function c(u){r=u,t(1,r)}return n.$$.update=()=>{n.$$.dirty&8&&s.token&&_t.load()},[l,r,i,s,o,a,c]}class ho extends fe{constructor(e){super(),he(this,e,ao,oo,ce,{})}}export{ho as default};
