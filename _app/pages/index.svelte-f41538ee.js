var Vs=Object.defineProperty,qs=Object.defineProperties;var Cs=Object.getOwnPropertyDescriptors;var St=Object.getOwnPropertySymbols;var Os=Object.prototype.hasOwnProperty,$s=Object.prototype.propertyIsEnumerable;var Pt=(s,e,t)=>e in s?Vs(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Ve=(s,e)=>{for(var t in e||(e={}))Os.call(e,t)&&Pt(s,t,e[t]);if(St)for(var t of St(e))$s.call(e,t)&&Pt(s,t,e[t]);return s},ct=(s,e)=>qs(s,Cs(e));import{D as Qe,N as tt,O as Ms,P as Vt,Q as Ds,S as ue,i as ce,s as oe,e as L,c as T,a as N,d,b as m,f as ne,g as P,F as J,R as qt,T as Y,U as Ce,w as K,k as j,t as se,x as ee,m as Q,h as ie,V as G,I as w,y as Z,j as ge,n as fe,o as C,p as he,q as V,B as x,W as _e,X as Te,Y as Ne,J as Be,K as Ue,L as ze,Z as yt,_ as kt,v as nt,E as ws,G as He,$ as Ls,a0 as re,a1 as Ie,a2 as Xe,a3 as be,a4 as pe,a5 as Le,a6 as at,a7 as me,a8 as ve,a9 as xe,aa as qe,ab as Bs,ac as pt,ad as ot,ae as Ts,af as Je,ag as Ke,l as Ae,ah as Us,ai as zs,aj as Hs,ak as js,al as Me,M as Oe,am as Ct,an as ft,ao as Qs,ap as ut,aq as Fs,ar as Rs,as as Ys}from"../chunks/vendor-dc7df7c6.js";import{_ as Ot}from"../chunks/preload-helper-1ae1ff14.js";var _t=(s=>(s.QueueNext="Play Next",s.QueueLast="Play Last",s))(_t||{});let mt={hostname:"",login:"",token:"",defaultPlaylist:null,quickAction:"Play Next"};try{"localStorage"in globalThis&&(mt=JSON.parse(localStorage.getItem("settings"))||mt)}catch{}const Se=Qe(mt);Se.subscribe(s=>{var e;(e=globalThis.localStorage)==null||e.setItem("settings",JSON.stringify(s))});async function ht(s){return new Promise(e=>setTimeout(e,s))}function vt(s){for(let e=s.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[s[e],s[t]]=[s[t],s[e]]}return s}function et(s){const e=[];for(const t of s)e.push(Ve({},t));return e}const we={title:"Not Playing",artists:["No Artist"],album:"",length:1/0,sources:[]};class Gs{constructor(){this.subscribers=[],this.backwardQueue=[],this.forwardQueue=[],this.current=we,this.history=[],this.queue=[],this.firstToPlay=!1,this.repeatition=Ee.None,this.direction=de.Normal,this.infinite=!1}get upcoming(){return this.queue[0]?this.queue[0]:this.repeatition===Ee.All&&this.history[0]?this.history[0]:null}pushLast(...e){!e.length||(this.queue.push(...e),this.direction!=de.Backwards?this.forwardQueue.push(...e):this.backwardQueue.push(...e),this.update())}pushNext(...e){!e.length||(this.queue.unshift(...e),this.direction!=de.Backwards?this.forwardQueue.unshift(...e):this.backwardQueue.unshift(...e),this.update())}pushAwaiting(...e){!e.length||(this.direction==de.Backwards?this.forwardQueue.push(...e):this.backwardQueue.push(...e),(this.repeatition===Ee.All||this.direction===de.Shuffled)&&(this.queue.push(...e),this.update()))}pushPlaylist(e,t=0){this.pushNext(...e.slice(t)),this.pushAwaiting(...e.slice(0,t))}play(e){this.remove(e),this.pushNext(e),this.next()}next(){let e=this.queue[0];!e&&(this.repeatition!=Ee.All||(this.pushNext(...this.history),this.clearHistory(),e=this.queue[0],!e))||(this.current!=we&&this.history.push(this.current),this.current=e,this.remove(e),this.update())}previous(){const e=this.history.pop();!e||(this.current!=we&&this.pushNext(this.current),this.current=e,this.remove(e),this.update())}direct(e){e==de.Normal?(this.forwardQueue.length||(this.forwardQueue=this.backwardQueue,this.backwardQueue=[]),this.queue=this.forwardQueue.slice(),this.repeatition==Ee.All&&this.queue.push(...this.backwardQueue)):e==de.Backwards?(this.backwardQueue.length||(this.backwardQueue=this.forwardQueue,this.forwardQueue=[]),this.queue=this.backwardQueue.slice().reverse(),(this.repeatition==Ee.All||!this.queue.length)&&this.queue.push(...this.forwardQueue.slice().reverse())):(this.queue=this.forwardQueue.concat(this.backwardQueue),vt(this.queue)),this.direction=e,this.update()}repeat(e){e!=this.repeatition&&(this.repeatition=e,e==Ee.All?this.direction==de.Normal?this.queue.push(...this.backwardQueue):this.direction==de.Backwards&&this.queue.push(...this.forwardQueue.slice().reverse()):this.direction==de.Normal?this.queue=this.queue.filter(t=>this.forwardQueue.includes(t)):this.direction==de.Backwards&&(this.queue=this.queue.filter(t=>this.backwardQueue.includes(t))),this.update())}remove(e){const t=this.backwardQueue.indexOf(e),i=this.forwardQueue.indexOf(e),n=this.queue.indexOf(e);~t&&this.backwardQueue.splice(t,1),~i&&this.forwardQueue.splice(i,1),~n&&this.queue.splice(n,1),~n&&this.update()}rearrange(e,t){if(e<0||e>=this.queue.length||t<0||t>=this.queue.length||e===t)return;const i=this.queue.splice(e,1)[0];!i||(this.queue.splice(t,0,i),this.update())}clear(){const e=this.current!=we;this.direction=de.Normal,this.current=we,this.clearQueue(),this.clearHistory(),e&&this.update()}clearQueue(){!this.queue.length&&!this.forwardQueue.length&&!this.backwardQueue.length||(this.backwardQueue=[],this.forwardQueue=[],this.queue=[],this.update())}clearHistory(){!this.history.length||(this.history=[],this.update())}subscribe(e){return this.subscribers.push(e),e(this),()=>{this.subscribers.splice(this.subscribers.indexOf(e),1)}}update(){this.current===we&&this.forwardQueue.length&&(this.direction=de.Normal,this.next(),this.firstToPlay=!0),clearTimeout(this.debounce),this.debounce=setTimeout(()=>{this.subscribers.forEach(e=>e(this)),this.firstToPlay=!1})}}var de=(s=>(s[s.Normal=0]="Normal",s[s.Backwards=1]="Backwards",s[s.Shuffled=2]="Shuffled",s))(de||{}),Ee=(s=>(s[s.None=0]="None",s[s.All=1]="All",s[s.Single=2]="Single",s))(Ee||{});function je(s){return`${As(s)} - ${s.album.toLowerCase()}`}function As({title:s,artists:e},t=!1){return s=s.toLowerCase().trim(),e=Array.isArray(e)?e.sort().join(", ").toLowerCase().trim():e.toLowerCase().trim(),dt(e?t?`${s} - ${e}`:`${e} - ${s}`:s)}function dt(s){return s.replace(/[+,&]/g," ")}const X=new Gs,Ws=[{title:"Make A Move",artists:["Icon For Hire"],album:"Scripted",length:213,cover:"https://fanart.tv/fanart/music/bfce9c6d-eff7-4965-b20e-cb21397470f5/albumcover/scripted-4fb28b7278ec7.jpg",sources:["0"]},{album:"Shatter Me",artists:["Lindsey Stirling","Lzzy Hale"],cover:"https://sun4-17.userapi.com/impf/c857732/v857732187/1e96d6/GRcoa2wBZMQ.jpg?size=1184x1184&quality=96&sign=db45a1c4ef8bfe322a1653ea2989b535&c_uniq_tag=q2U120s-JGLUyyK7EFwm2web_TOHkOIqCxumTfFY55w&type=audio",length:213,sources:["1"],title:"Shatter Me",year:2020},{album:"Megalovania",artists:["RichaadEB"],cover:"https://sun4-11.userapi.com/impf/c855128/v855128077/21eb90/d6WOQGBpaos.jpg?size=1184x1184&quality=96&sign=a45fece66fd11b4dd878718f920a55f3&c_uniq_tag=OzviiAY7iKu1LFMzvjym22l_F0miCY4p8CGhVwq_CgM&type=audio",length:213,sources:["2"],title:"Megalovania",year:2020},{title:"Roots",artists:["In This Moment"],album:"",length:213,sources:["3"],cover:"https://carrycoal.files.wordpress.com/2017/05/in_this_moment_ritual_album_cover.jpg?w=1200"},{album:"Scars & Souvenirs",artists:["Theory Of A Deadman"],cover:"https://sun4-15.userapi.com/impf/c849532/v849532385/194b8d/pesaQCC1dIo.jpg?size=1184x1184&quality=96&sign=5cb2e22e52da2ef650c92c4db16e2179&c_uniq_tag=I7ybApV_McdRDGDeQgJZVKDlYdtH35Tzvj3DcwVFr0A&type=audio",length:213,sources:["4"],title:"Bad Girlfriend",year:2016},{album:"Silk (Favored Nations Remix)",artists:["Giselle"],cover:"https://sun4-10.userapi.com/impf/c858032/v858032124/13fab1/DaGhLvWA6H0.jpg?size=1184x1184&quality=96&sign=b8a3ed37f33406a0c923cabdb409289e&c_uniq_tag=wFxkekJhY_k9tmBSBfW7LxAQbRAGG69MRrr_EB_i4WY&type=audio",length:213,sources:["5"],title:"Silk (Favored Nations Remix)",year:2018}],Xs={method:"",type:"GET",delay:()=>1e3*Math.random(),code:200,data:{}},Js=[{url:"lyrics",data:vt([...`blabla 
`.repeat(70)]).join("")},{url:"playlist/",data:vt(Array.from({length:4},()=>Ws.slice()).flat())},{url:"playlist",data:[{id:"0",title:"Epic Music",telegram:42,type:0}]},{url:"track",data:"https://cs4-1v4.vkuseraudio.net/s/v1/ac/w-gbeq41Vts7o0ZBN__6Hyo2CK0OU6hOk2Ioizq1HBTUzn_Tm4LanuCsdeQ6jRERJC05a4J-TV8AxQC9g_8vtXL2pB6rndwvWPl81FwC_4RDNMS3V4Mrbx1__H5gQ6sMrLsBFlX0WRBnCOKkTZ4SrRY41PB0gwvo72ViUhGMX48ukEc/index.m3u8"},{url:"verify",data:"OK"}];function Ks(s,{method:e}={method:"GET"}){const t=typeof s=="string"?s:s.url,i=Ve(Ve({},Xs),Js.find(l=>t.toString().includes(l.url)&&(e||"GET").toUpperCase()===(l.type||"GET"))),n=typeof i.delay=="function"?i.delay():i.delay;return{async json(){if(await ht(n),typeof i.data!="object")throw`Invalid JSON ${i.data}`;return{data:i.data}},async text(){return await ht(n),{data:typeof i.data=="object"?JSON.stringify(i.data):i.data}},async flush(){return await ht(100),{status:i.code}}}}function Fe(s,e){const{hostname:t,login:i,token:n}=tt(Se);let l=`${t}/api/v1/${i}/`;l.startsWith("http")||(l=location.protocol+"//"+l);const r=Ve({headers:{Authorization:n},mode:"cors"},e);return t==="demo"?Ks(l+s,r):Ms(l+s,r)}async function Zs(s){const e=As(s),{data:t}=await Fe("lyrics/"+e).text();return t||""}async function xs(){const s=Qe(void 0),e=Qe(void 0);return Fe("playlist/added").json().then(({data:t})=>s.set(t)),Fe("playlist/listened").json().then(({data:t})=>e.set(t)),[{id:0,order:0,type:3,title:"Added",tracks:s},{id:0,order:1,type:3,title:"Listened",tracks:e}]}async function ei(){const{data:s}=await Fe("playlist").json();return Array.isArray(s)?s.map(t=>{const i=Qe(void 0);return Fe(`playlist/${t.id}`).json().then(({data:n})=>i.set(n)),ct(Ve({},t),{order:t.id,tracks:i})}):[]}async function $t(s){const e=s[0],{data:t}=await Fe("track/"+e).text();return t||""}async function ti(s){const{status:e}=await Fe("verify",{headers:{Authorization:s}}).flush().catch(()=>({status:500}));return e===200}class si{constructor(){this.recent=Qe(),this.library=Qe(),this.dynamic=Qe()}get loaded(){return Vt([this.recent,this.library,this.dynamic],e=>e.every(Boolean))}get(e){return[tt(this.recent),tt(this.library),tt(this.dynamic)].flat().filter(Boolean).find(t=>(t==null?void 0:t.title)===e)}load(){xs().then(e=>this.recent.set(e)),ei().then(e=>{const t=[],i=[];for(const n of e)n.type<=0?t.push(n):i.push(n);this.library.set(t),this.dynamic.set(i)})}list(e="all"){const t=e==="all"?[this.dynamic,this.library,this.recent]:[this[e]];return Vt(t,i=>i?i.flatMap(n=>(n==null?void 0:n.map(l=>l.title))||"").filter(Boolean):[])}}const st=new si;function Ge(s,e,t){const i=s.animate(e,ct(Ve({},t),{fill:"both"}));return i.addEventListener("finish",()=>{i.commitStyles(),i.cancel()}),i}function Et(s,{threshold:e=32,gap:t=8,clickable:i=!0,handle:n}={}){const l=getComputedStyle(s),r=parseFloat(l.bottom)||parseFloat(l.marginBottom),a=parseFloat(l.height),o=Ds(0,{stiffness:.2}),c=innerHeight-r-a-t,{stiffness:u,damping:f}=o;let h=!1,p=!1,_;const b=o.subscribe(k=>{k<0&&o.stiffness===1&&o.set(0),k>c+t&&o.stiffness===1&&o.set(c+t),h?(p=k>=c-e,k||s.dispatchEvent(new CustomEvent("close"))):(p=k>e,s.dispatchEvent(new CustomEvent(p?"open":"close"))),s.style.transform=`translate3d(0,${-k}px,0)`});function y(k){k.stopPropagation();const{changedTouches:E}=k;o.stiffness=o.damping=1,_=E[0].clientY,addEventListener("touchmove",v),addEventListener("touchend",A)}function v({changedTouches:k}){const E=_-k[0].clientY;_=k[0].clientY,o.update(q=>q+E)}function A(){o.stiffness=u,o.damping=f,p?(h=!0,o.set(c)):(h=!1,o.set(0)),removeEventListener("touchmove",v),removeEventListener("touchend",A)}function g(){p||(s.dispatchEvent(new CustomEvent("open")),Ge(s,[{transform:`translate3d(0,${-c}px,0)`}],{duration:300,easing:"ease"}).addEventListener("finish",()=>{o.stiffness=o.damping=1,o.set(c),h=!0,o.stiffness=u,o.damping=f}))}function I(){!p||Ge(s,[{transform:"translate3d(0,0px,0)"}],{duration:300,easing:"ease"}).addEventListener("finish",()=>{o.stiffness=o.damping=1,o.set(0),h=!1,o.stiffness=u,o.damping=f})}return s.addEventListener("scrollcancel",A),s.addEventListener("touchstart",y,{passive:!0}),i&&s.addEventListener("click",g),n&&s.querySelectorAll(n).forEach(k=>k.addEventListener("click",I)),{destroy(){b(),s.removeEventListener("touchstart",y),s.removeEventListener("scrollcancel",A),i&&s.removeEventListener("click",g),n&&s.querySelectorAll(n).forEach(k=>k.removeEventListener("click",I))}}}const ii=4,ni="data:audio/mp3;base64,//MkxAAHiAICWABElBeKPL/RANb2w+yiT1g/gTok//lP/W/l3h8QO/OCdCqCW2Cw//MkxAQHkAIWUAhEmAQXWUOFW2dxPu//9mr60ElY5sseQ+xxesmHKtZr7bsqqX2L//MkxAgFwAYiQAhEAC2hq22d3///9FTV6tA36JdgBJoOGgc+7qvqej5Zu7/7uI9l//MkxBQHAAYi8AhEAO193vt9KGOq+6qcT7hhfN5FTInmwk8RkqKImTM55pRQHQSq//MkxBsGkgoIAABHhTACIJLf99nVI///yuW1uBqWfEu7CgNPWGpUadBmZ////4sL//MkxCMHMAH9iABEmAsKioqKigsLCwtVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVV//MkxCkECAUYCAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",Mt=[];function gt(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function li(){if(!("Audio"in globalThis))return;const s=Audio;globalThis.Audio=function(i){const n=Mt.find(l=>!l.used);if(!n)throw new Error("Unable to allocate new audio! Not enough buffers!");return n.used=!0,i&&(n.data.src=i),Object.defineProperty(n.data,"destroyed",{set(l){l&&(n.used=!1,n.data.src="",n.data.autoplay=!0)},get(){return n.used}}),n.data.addEventListener("canplay",()=>{n.data.autoplay=!1,n.data.pause()},{once:!0}),new Proxy(n.data,{set(l,r,a){return r==="src"&&(n.used=!!a,a||(n.data.autoplay=!0)),Reflect.set(l,r,a,n.data)},get(l,r){let a=l[r];return typeof a=="function"&&(a=a.bind(n.data)),a}})};const e=()=>{for(let i=0;i<ii;i++){const n=new s(ni);n.autoplay=!0,n.destroyed=!1,Mt.push({used:!1,data:n})}};document.addEventListener("pointerup",e,{once:!0});const t=Event.prototype.stopPropagation;Event.prototype.stopPropagation=function(){return this instanceof TouchEvent&&this.type==="pointerup"&&(e(),document.removeEventListener("pointerup",e),Event.prototype.stopPropagation=t),t.bind(this)()}}let bt=globalThis.EventTarget;try{new bt}catch{bt=class{constructor(){this._listeners=[]}addEventListener(s,e,t={once:!1}){this._listeners.push({type:s,listener:e,options:t})}removeEventListener(s,e){const t=this._listeners.findIndex(i=>i.type===s&&i.listener===e);t>=0&&this._listeners.splice(t,1)}dispatchEvent(s){this._listeners.filter(e=>e.type===s.type).forEach(e=>{const{type:t,listener:i,options:{once:n}}=e;i.call(this,s),n===!0&&this.removeEventListener(t,i)})}}}var ri=bt;let Re;"window"in globalThis&&(window.UINative?window.UINative.nativeAudio():gt()&&li());class ai extends ri{constructor({debug:e}={debug:!1}){super();this.previousCallback=this.onPrev.bind(this),this.pausedCallback=this.onPause.bind(this),this.nextCallback=this.onNext.bind(this),this.endedCallback=this.onEnd.bind(this),this.playCallback=this.onPlay.bind(this),this.timeCallback=this.onTime.bind(this),this.cacheLimit=2,this.cached=[],this.audio=null,this.now="",this.negative=!1,this.loading=!1,this.paused=!0,this.forcePlay=!1,this.debug=!1,this.log=()=>{},(this.debug=e)&&(this.log=(...t)=>{console.log(`[${this.constructor.name}/DEBUG]:`,...t)})}get isLoading(){return this.loading}set isLoading(e){this.loading!==e&&(this.loading=e,this.dispatchEvent(new Event("loadingchange")))}get isPaused(){return this.paused}set isPaused(e){this.paused!==e&&(this.paused=e,this.dispatchEvent(new Event("pausedchange")))}async play(e){var o,c;const t=new Error("Loading was interrupted!");if(this.isPlaying(e))return;const i=this.now;if(this.now=e==we?"":je(e),!this.now)return;const n=!this.isLoading&&i&&((o=this.audio)==null?void 0:o.src);n&&this.audio&&(this.cached.push({hash:i,loaded:!0,data:this.audio}),this.audio.preload="none",this.log("Track cached:",i));const l=u=>{n&&this.audio&&this.updateMetadata(e);const f=this.audio;this.audio=u,n&&f?(f.pause(),f.currentTime=0):this.destroyAudio(f),this.dispatchEvent(new CustomEvent("timeupdate",{detail:0}))},r=this.fromCache(e,!0);if(this.cached.length>this.cacheLimit){const u=this.cached.shift();u&&u!==r&&(this.destroyAudio(u.data),this.log("Track removed from cache:",u.hash))}if(r)l(r.data),this.log("Track retrieved from cache:",r.hash);else{this.isLoading=!0,l(this.createAudio());const u=await $t(e.sources);if(!this.isPlaying(e))throw t;u&&this.audio&&(u.endsWith("m3u8")&&!this.audio.canPlayType("application/vnd.apple.mpegurl")&&(Re=Re||(await Ot(()=>import("../chunks/hls-ab311cfe.js").then(function(f){return f.h}),["chunks/hls-ab311cfe.js","chunks/vendor-dc7df7c6.js"])).default).isSupported()?(this.audio.hls=new Re({}),this.audio.hls.loadSource(u),this.audio.hls.attachMedia(this.audio)):this.audio.src=u)}const a=()=>{if(!this.isPlaying(e)||!this.audio)throw t;this.updateMetadata(e),this.isLoading=!1,this.log("Track loaded:",e);const u="requestIdleCallback"in globalThis;(u?requestIdleCallback:setTimeout)(()=>{if(!this.isPlaying(e)||!this.audio)throw t;this.isPaused&&!this.audio.paused?this.audio.pause():(!this.isPaused||this.forcePlay)&&(this.log("Track autoplayed",{paused:this.isPaused,force:this.forcePlay}),this.audio.play(),this.forcePlay=!1)},u?{timeout:300}:300)};if(r==null?void 0:r.loaded)a();else{this.isLoading=!0;const u=gt()&&!window.UINative?"canplaythrough":"canplay";(c=this.audio)==null||c.addEventListener(u,a,{once:!0}),await new Promise(f=>{var h;(h=this.audio)==null||h.addEventListener("canplaythrough",f,{once:!0})})}if(!this.isPlaying(e))throw t}async cache(e){var r,a;if(!e||e===we||e.sources.length<=0||this.fromCache(e))return;const t={hash:je(e),loaded:!1,data:this.createAudio()};if(this.cached.push(t),this.log("Track cached:",je(e)),this.cached.length>this.cacheLimit){const o=this.cached.shift();o&&((r=o.data)==null?void 0:r.valueOf())!==((a=this.audio)==null?void 0:a.valueOf())&&(this.destroyAudio(o.data),this.log("Track removed from cache:",o.hash))}const i=()=>this.fromCache(e)||this.isPlaying(e),n=await $t(e.sources);if(!n){this.fromCache(e,!0);return}if(!i())return this.log("Gave up on loading:",je(e));const l=gt()&&!window.UINative?"canplaythrough":"canplay";t.data.addEventListener(l,()=>{if(!i())return this.log("Gave up on loading:",je(e));t.loaded=!0,this.log("Cache loaded:",t)},{once:!0}),n.endsWith("m3u8")&&!t.data.canPlayType("application/vnd.apple.mpegurl")&&(Re=Re||(await Ot(()=>import("../chunks/hls-ab311cfe.js").then(function(o){return o.h}),["chunks/hls-ab311cfe.js","chunks/vendor-dc7df7c6.js"])).default).isSupported()?(t.data.hls=new Re({}),t.data.hls.loadSource(n),t.data.hls.attachMedia(t.data)):t.data.src=n}resume(){var e;!this.isPaused||!((e=this.audio)==null?void 0:e.src)||this.audio.play()}pause(){var e;this.isPaused||!((e=this.audio)==null?void 0:e.src)||this.audio.pause()}speedup(e){if(!!this.audio&&!(e&&e!==1&&this.paused)&&this.audio.playbackRate!==e){e<0?this.negative||(this.negative=!0):(clearInterval(this.negative),this.negative=!1);try{this.audio.playbackRate=e}catch{if(!this.negative)return;this.log("Using rewind fallback implementation"),this.audio.playbackRate=0,this.negative=setInterval(()=>{!this.audio||this.seek(this.audio.currentTime-1)},200)}}}seek(e){!this.audio||Math.abs(this.audio.currentTime-e)<1||(e<0&&(e=0),e>this.audio.duration&&(e=this.audio.duration),this.log("Seeked to",e),this.audio.currentTime=e)}destroy(){this.destroyAudio(this.audio),this.now="";for(const e of this.cached)this.destroyAudio(e.data);this.cached=[]}setupControls(){"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("seekbackward",()=>{!this.audio||this.seek(this.audio.currentTime-5)}),navigator.mediaSession.setActionHandler("seekforward",()=>{!this.audio||this.seek(this.audio.currentTime+5)}),navigator.mediaSession.setActionHandler("seekto",({seekTime:e})=>{e!=null&&this.seek(e)}),navigator.mediaSession.setActionHandler("previoustrack",()=>{this.dispatchEvent(new Event("previous"))}),navigator.mediaSession.setActionHandler("nexttrack",()=>{this.dispatchEvent(new Event("next"))}))}isPlaying(e){return je(e)===this.now}fromCache(e,t=!1){const i=je(e),n=this.cached.findIndex(r=>r.hash===i);if(n<0)return;const l=this.cached[n];return t&&this.cached.splice(n,1),l}createAudio(){const e=new Audio;return e.addEventListener("timeupdate",this.timeCallback),e.addEventListener("pause",this.pausedCallback),e.addEventListener("ended",this.endedCallback),e.addEventListener("play",this.playCallback),e.addEventListener("next",this.nextCallback),e.addEventListener("previous",this.previousCallback),e.preload="auto",this.log("Audio created",e),e}destroyAudio(e){var t,i,n;!e||((t=e.hls)==null||t.detachMedia(),(i=e.hls)==null||i.destroy(),e.hls=void 0,e.removeEventListener("timeupdate",this.timeCallback),e.removeEventListener("pause",this.pausedCallback),e.removeEventListener("ended",this.endedCallback),e.removeEventListener("play",this.playCallback),e.removeEventListener("next",this.nextCallback),e.removeEventListener("previous",this.previousCallback),e.src="",e.destroyed=!0,(e==null?void 0:e.valueOf())===((n=this.audio)==null?void 0:n.valueOf())&&(this.audio=null),this.log("Audio destroyed",e))}updateMetadata(e){!this.audio||(this.audio.metadata={title:e.title,artist:e.artists.join(", "),album:e.album,year:e.year,length:e.length,cover:e.cover},"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e.title,artist:e.artists.join(", "),album:e.album,artwork:e.cover?[{src:e.cover,sizes:"512x512",type:"image/png"}]:[]}),this.setupControls()))}onTime({target:e}){var t;e==((t=this.audio)==null?void 0:t.valueOf())&&(!this.audio||(this.dispatchEvent(new CustomEvent("timeupdate",{detail:this.audio.currentTime})),!(!("mediaSession"in navigator)||this.audio.playbackRate<=0||!Number.isFinite(this.audio.duration))&&navigator.mediaSession.setPositionState({position:this.audio.currentTime,duration:this.audio.duration,playbackRate:this.audio.playbackRate})))}onPause({target:e}){var t,i;e==((t=this.audio)==null?void 0:t.valueOf())&&(this.isPaused||(this.isPaused=!0,this.log("Paused",{audio:(i=this.audio)==null?void 0:i.paused,player:this.isPaused}),"mediaSession"in navigator&&(navigator.mediaSession.playbackState="paused")))}onPlay({target:e}){var t,i;e==((t=this.audio)==null?void 0:t.valueOf())&&(!this.isPaused||(this.isPaused=!1,this.log("Played",{audio:!((i=this.audio)==null?void 0:i.paused),player:!this.isPaused}),"mediaSession"in navigator&&(navigator.mediaSession.playbackState="playing")))}onEnd({target:e}){var t;if(e==((t=this.audio)==null?void 0:t.valueOf())&&!!this.audio){if(this.negative||!this.audio.currentTime){this.seek(0);return}this.log("Audio ended"),this.dispatchEvent(new Event("ended"))}}onNext({target:e}){var t;e==((t=this.audio)==null?void 0:t.valueOf())&&(!this.audio||this.dispatchEvent(new Event("next")))}onPrev({target:e}){var t;e==((t=this.audio)==null?void 0:t.valueOf())&&(!this.audio||this.dispatchEvent(new Event("previous")))}}function oi(s){let e;return{c(){e=L("div"),this.h()},l(t){e=T(t,"DIV",{class:!0,style:!0}),N(e).forEach(d),this.h()},h(){m(e,"class","spinner svelte-663nu6"),ne(e,"--size",s[1]+"px"),ne(e,"--padding",s[2]+"px"),ne(e,"color",s[0])},m(t,i){P(t,e,i)},p(t,[i]){i&2&&ne(e,"--size",t[1]+"px"),i&4&&ne(e,"--padding",t[2]+"px"),i&1&&ne(e,"color",t[0])},i:J,o:J,d(t){t&&d(e)}}}function ui(s,e,t){let{color:i="currentColor"}=e,{size:n}=e,{padding:l=0}=e;return s.$$set=r=>{"color"in r&&t(0,i=r.color),"size"in r&&t(1,n=r.size),"padding"in r&&t(2,l=r.padding)},[i,n,l]}class lt extends ue{constructor(e){super();ce(this,e,ui,oi,oe,{color:0,size:1,padding:2})}}const Dt="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";function ci(s){let e,t,i,n;return{c(){e=L("img"),this.h()},l(l){e=T(l,"IMG",{src:!0,alt:!0,loading:!0,style:!0,class:!0}),this.h()},h(){qt(e.src,t=s[0]||Dt)||m(e,"src",t),m(e,"alt",""),m(e,"loading","lazy"),ne(e,"height",s[1]),ne(e,"width",s[1]),ne(e,"min-height",s[1]),ne(e,"min-width",s[1]),m(e,"class","svelte-1ozd1mv")},m(l,r){P(l,e,r),i||(n=Y(e,"click",s[2]),i=!0)},p(l,[r]){r&1&&!qt(e.src,t=l[0]||Dt)&&m(e,"src",t),r&2&&ne(e,"height",l[1]),r&2&&ne(e,"width",l[1]),r&2&&ne(e,"min-height",l[1]),r&2&&ne(e,"min-width",l[1])},i:J,o:J,d(l){l&&d(e),i=!1,n()}}}function fi(s,e,t){let{image:i}=e,{size:n="100%"}=e;function l(r){Ce.call(this,s,r)}return s.$$set=r=>{"image"in r&&t(0,i=r.image),"size"in r&&t(1,n=r.size)},[i,n,l]}class wt extends ue{constructor(e){super();ce(this,e,fi,ci,oe,{image:0,size:1})}}function hi(s){let e,t;return e=new lt({props:{size:30,padding:24,color:"var(--color-text-normal)"}}),{c(){K(e.$$.fragment)},l(i){ee(e.$$.fragment,i)},m(i,n){Z(e,i,n),t=!0},p:J,i(i){t||(V(e.$$.fragment,i),t=!0)},o(i){C(e.$$.fragment,i),t=!1},d(i){x(e,i)}}}function di(s){let e,t,i;return{c(){e=L("button"),this.h()},l(n){e=T(n,"BUTTON",{"aria-label":!0,class:!0}),N(e).forEach(d),this.h()},h(){m(e,"aria-label","Pause/Play"),m(e,"class","svelte-121kq6h"),G(e,"paused",!s[0])},m(n,l){P(n,e,l),t||(i=[Y(e,"touchstart",Ne(s[7]),{passive:!0}),Y(e,"click",Ne(s[8]))],t=!0)},p(n,l){l&1&&G(e,"paused",!n[0])},i:J,o:J,d(n){n&&d(e),t=!1,_e(i)}}}function pi(s){let e,t,i,n,l,r=s[5].current.title+"",a,o,c,u,f,h,p,_,b;i=new wt({props:{image:s[5].current.cover}});const y=[di,hi],v=[];function A(g,I){return g[1]?1:0}return c=A(s),u=v[c]=y[c](s),{c(){e=L("div"),t=L("div"),K(i.$$.fragment),n=j(),l=L("span"),a=se(r),o=j(),u.c(),f=j(),h=L("div"),this.h()},l(g){e=T(g,"DIV",{class:!0});var I=N(e);t=T(I,"DIV",{class:!0});var k=N(t);ee(i.$$.fragment,k),k.forEach(d),n=Q(I),l=T(I,"SPAN",{class:!0});var E=N(l);a=ie(E,r),E.forEach(d),o=Q(I),u.l(I),f=Q(I),h=T(I,"DIV",{class:!0,style:!0}),N(h).forEach(d),I.forEach(d),this.h()},h(){m(t,"class","cover svelte-121kq6h"),m(l,"class","title svelte-121kq6h"),m(h,"class","playback svelte-121kq6h"),ne(h,"--time",s[2]/s[5].current.length),m(e,"class","miniplayer svelte-121kq6h"),G(e,"hidden",s[3]),G(e,"active",s[4])},m(g,I){P(g,e,I),w(e,t),Z(i,t,null),w(e,n),w(e,l),w(l,a),w(e,o),v[c].m(e,null),w(e,f),w(e,h),p=!0,_||(b=[Y(e,"touchstart",s[9],{passive:!0}),Y(e,"touchend",s[10],{passive:!0})],_=!0)},p(g,[I]){const k={};I&32&&(k.image=g[5].current.cover),i.$set(k),(!p||I&32)&&r!==(r=g[5].current.title+"")&&ge(a,r);let E=c;c=A(g),c===E?v[c].p(g,I):(fe(),C(v[E],1,1,()=>{v[E]=null}),he(),u=v[c],u?u.p(g,I):(u=v[c]=y[c](g),u.c()),V(u,1),u.m(e,f)),(!p||I&36)&&ne(h,"--time",g[2]/g[5].current.length),I&8&&G(e,"hidden",g[3]),I&16&&G(e,"active",g[4])},i(g){p||(V(i.$$.fragment,g),V(u),p=!0)},o(g){C(i.$$.fragment,g),C(u),p=!1},d(g){g&&d(e),x(i),v[c].d(),_=!1,_e(b)}}}function _i(s,e,t){let i,n;Te(s,X,_=>t(5,i=_)),Te(s,Se,_=>t(6,n=_));let{paused:l}=e,{loading:r}=e,{time:a}=e,{hidden:o=!1}=e,c=!1;function u(_){Ce.call(this,s,_)}const f=()=>{if(X.current===we){const _=n.defaultPlaylist;if(!_)return;const b=st.get(_);if(!b)return;const y=tt(b.tracks);if(!y)return;X.pushPlaylist(et(y))}else t(0,l=!l)},h=()=>t(4,c=!0),p=()=>t(4,c=!1);return s.$$set=_=>{"paused"in _&&t(0,l=_.paused),"loading"in _&&t(1,r=_.loading),"time"in _&&t(2,a=_.time),"hidden"in _&&t(3,o=_.hidden)},[l,r,a,o,c,i,n,u,f,h,p]}class Ns extends ue{constructor(e){super();ce(this,e,_i,pi,oe,{paused:0,loading:1,time:2,hidden:3})}}function Bt(s,e,t){const i=s.slice();return i[24]=e[t],i[26]=t,i}const mi=s=>({item:s&1,position:s&1}),Ut=s=>({item:s[24],position:s[26]-De});function zt(s){let e;const t=s[6].default,i=He(t,s,s[5],Ut);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,l){i&&i.m(n,l),e=!0},p(n,l){i&&i.p&&(!e||l&33)&&Be(i,t,n,n[5],e?ze(t,n[5],l,mi):Ue(n[5]),Ut)},i(n){e||(V(i,n),e=!0)},o(n){C(i,n),e=!1},d(n){i&&i.d(n)}}}function Ht(s,e){let t,i,n,l,r,a=e[24]&&zt(e);function o(){return e[7](e[24],e[26])}return{key:s,first:null,c(){t=L("div"),a&&a.c(),i=j(),this.h()},l(c){t=T(c,"DIV",{class:!0});var u=N(t);a&&a.l(u),i=Q(u),u.forEach(d),this.h()},h(){m(t,"class","svelte-d4tfnf"),this.first=t},m(c,u){P(c,t,u),a&&a.m(t,null),w(t,i),n=!0,l||(r=Y(t,"click",o),l=!0)},p(c,u){e=c,e[24]?a?(a.p(e,u),u&1&&V(a,1)):(a=zt(e),a.c(),V(a,1),a.m(t,i)):a&&(fe(),C(a,1,1,()=>{a=null}),he())},i(c){n||(V(a),n=!0)},o(c){C(a),n=!1},d(c){c&&d(t),a&&a.d(),l=!1,r()}}}function vi(s){let e,t=[],i=new Map,n,l,r,a=s[0];const o=c=>c[24];for(let c=0;c<a.length;c+=1){let u=Bt(s,a,c),f=o(u);i.set(f,t[c]=Ht(f,u))}return{c(){e=L("div");for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l(c){e=T(c,"DIV",{class:!0});var u=N(e);for(let f=0;f<t.length;f+=1)t[f].l(u);u.forEach(d),this.h()},h(){m(e,"class","swiper svelte-d4tfnf")},m(c,u){P(c,e,u);for(let f=0;f<t.length;f+=1)t[f].m(e,null);s[8](e),n=!0,l||(r=Y(e,"touchstart",s[2],{passive:!0}),l=!0)},p(c,[u]){u&57&&(a=c[0],fe(),t=yt(t,u,o,1,c,a,i,e,Ls,Ht,null,Bt),he())},i(c){if(!n){for(let u=0;u<a.length;u+=1)V(t[u]);n=!0}},o(c){for(let u=0;u<t.length;u+=1)C(t[u]);n=!1},d(c){c&&d(e);for(let u=0;u<t.length;u+=1)t[u].d();s[8](null),l=!1,r()}}}const De=2;function gi([s,e],[t,i]){return Math.sqrt((s-t)**2+(e-i)**2)}function Ze(s=0){return`translate3d(calc(${-(De+s)*100}% - ${-(De+s)*64-32}px), 0, 0)`}function bi(s,e,t){let{$$slots:i={},$$scope:n}=e,{view:l=[]}=e;const r=kt();let a,o=[0,0],c=Date.now(),u=0,f=1,h=1,p=[];const _={duration:200,easing:"ease"};let b=null;nt(y);async function y(){if(await ws(),!!a){for(;a.children.length>5;)await new Promise(requestAnimationFrame);!a||(l[1]===b?(t(1,a.style.transform=Ze(u-1),a),z(!1,Math.max(h,.8)),h=1):l[3]===b?(t(1,a.style.transform=Ze(u+1),a),z(!1,Math.max(h,.8)),h=1):z(!0),b=l[De])}}function v(S){var W,U;const{clientX:B,clientY:D}=S.touches[0];o=[B,D],c=Date.now(),A=!1,u=0,h=1,z(!0),(W=S.target)==null||W.addEventListener("touchmove",g,{passive:!0}),(U=S.target)==null||U.addEventListener("touchend",I)}let A=!1;function g(S){var H;if(!a)return;S.stopPropagation();const{clientX:B,clientY:D}=S.touches[0],W=Math.atan2(o[1]-D,o[0]-B)/Math.PI;if(A=A||Math.abs(W)<.3||Math.abs(W-1)<.3,!A)return I(S);const U=(H=S.target)==null?void 0:H.clientWidth;if(!U)return;u=(o[0]-B)/U,t(1,a.style.transform=Ze(u),a);const $=q();if($.style.setProperty("opacity",`${1-.2*Math.abs(u)}`),$.style.setProperty("transform",`scale(${1-(1-f)*Math.abs(u)}) translateZ(1px)`),!u)return;const O=a.children[De+Math.sign(u)]||void 0;O==null||O.style.setProperty("opacity",`${.8+.2*Math.abs(u)}`),O==null||O.style.setProperty("transform",`scale(${f+(1-f)*Math.abs(u)}) translateZ(1px)`)}async function I(S){var U,$;(U=S.target)==null||U.removeEventListener("touchmove",g),($=S.target)==null||$.removeEventListener("touchend",I);const{clientX:B,clientY:D}=S.changedTouches[0];h=gi(o,[B,D])/(Date.now()-c),h>.3?u>0?k():u<-0&&E():u>.5?k():u<-.5&&E(),await new Promise(requestAnimationFrame),await new Promise(requestAnimationFrame),!!u&&z(!1,Math.max(h,.8))}function k(){r("next")}function E(){r("previous")}function q(){return a==null?void 0:a.children[De]}function z(S=!1,B){if(!a)return;const D=q();f=1-48/D.clientWidth,p.forEach(O=>O.cancel()),p=[];const W={transform:"scale(1) translateZ(1px)",opacity:"1"},U={transform:`scale(${f}) translateZ(1px)`,opacity:"0.8"},$=Ve({},_);$.duration=B?_.duration/+B:_.duration,S?(t(1,a.style.transform=Ze(),a),a.childNodes.forEach(O=>{if(O===D)for(const[H,F]of Object.entries(W))O.style.setProperty(H,F);else for(const[H,F]of Object.entries(U))O.style.setProperty(H,F)})):(p.push(Ge(a,{transform:Ze()},$)),a.childNodes.forEach(O=>{O===D?p.push(Ge(O,W,$)):p.push(Ge(O,U,$))})),u=0}const le=(S,B)=>{!S||(B-De===1?k():B-De===-1&&E())};function R(S){re[S?"unshift":"push"](()=>{a=S,t(1,a)})}return s.$$set=S=>{"view"in S&&t(0,l=S.view),"$$scope"in S&&t(5,n=S.$$scope)},s.$$.update=()=>{s.$$.dirty&1&&l&&y()},[l,a,v,k,E,n,i,le,R]}class yi extends ue{constructor(e){super();ce(this,e,bi,vi,oe,{view:0})}}function Is(){window.UINative&&window.UINative.feedback("selection")}function ki(){window.UINative&&window.UINative.feedback("light")}function Ei(){window.UINative&&window.UINative.feedback("rigid")}function wi(s){const e=s;return e.touches=[{clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY,screenX:s.screenX,screenY:s.screenY,target:s.target,force:1,identifier:0,radiusX:1,radiusY:1,rotationAngle:0}],e}function Li(s){let e=null;function t(a){a.preventDefault();const{clientY:o,clientX:c}=a.touches[0];let u=document.elementFromPoint(c,o);s.contains(u)||(u=null),u!==e&&(e==null||e.classList.remove("active"),e=u,e==null||e.classList.add("active"),e&&Is())}function i(a){var c;a.preventDefault();const o=s.parentElement;o==null||o.removeEventListener("touchcancel",i),o==null||o.removeEventListener("touchmove",t),o==null||o.removeEventListener("touchend",i),(c=e==null?void 0:e.click)==null||c.call(e)}function n(a){a.preventDefault(),s!=a.target&&s.contains(a.target)&&(e==null||e.classList.remove("active"),e=a.target,e==null||e.classList.add("active")),a.stopPropagation();const o=s.parentElement;o==null||o.addEventListener("touchcancel",i,{passive:!1}),o==null||o.addEventListener("touchmove",t,{passive:!1}),o==null||o.addEventListener("touchend",i)}function l(){e==null||e.classList.remove("active"),e=null}function r(a){t(wi(a))}return s.addEventListener("touchstart",n,{passive:!1}),s.addEventListener("mousemove",r,{passive:!1}),s.addEventListener("click",l),{destroy(){s.removeEventListener("touchstart",t),s.removeEventListener("mousemove",r),s.removeEventListener("click",l)}}}const Ti=s=>({}),jt=s=>({});function Ai(s){let e,t,i,n,l,r;const a=s[5].default,o=He(a,s,s[4],null),c=s[5].activator,u=He(c,s,s[4],jt);return{c(){e=L("div"),t=L("div"),o&&o.c(),i=j(),u&&u.c(),this.h()},l(f){e=T(f,"DIV",{class:!0});var h=N(e);t=T(h,"DIV",{class:!0,style:!0});var p=N(t);o&&o.l(p),p.forEach(d),i=Q(h),u&&u.l(h),h.forEach(d),this.h()},h(){m(t,"class","menu svelte-gfah56"),ne(t,"transform-origin",s[0]),ne(t,"transform","scale("+(s[1]?1:.1)+")"),ne(t,"opacity",s[1]?1:0),m(e,"class","context")},m(f,h){P(f,e,h),w(e,t),o&&o.m(t,null),s[6](t),w(e,i),u&&u.m(e,null),s[7](e),n=!0,l||(r=Ie(Li.call(null,t)),l=!0)},p(f,[h]){o&&o.p&&(!n||h&16)&&Be(o,a,f,f[4],n?ze(a,f[4],h,null):Ue(f[4]),null),(!n||h&1)&&ne(t,"transform-origin",f[0]),(!n||h&2)&&ne(t,"transform","scale("+(f[1]?1:.1)+")"),(!n||h&2)&&ne(t,"opacity",f[1]?1:0),u&&u.p&&(!n||h&16)&&Be(u,c,f,f[4],n?ze(c,f[4],h,Ti):Ue(f[4]),jt)},i(f){n||(V(o,f),V(u,f),n=!0)},o(f){C(o,f),C(u,f),n=!1},d(f){f&&d(e),o&&o.d(f),s[6](null),u&&u.d(f),s[7](null),l=!1,r()}}}function Ni(s,e,t){let{$$slots:i={},$$scope:n}=e,{align:l="bottom right"}=e,r=!1,a=null,o=null,c=null;function u(y){r||(p(),y.preventDefault(),a==null||a.click(),ki(),t(1,r=!0),a==null||a.classList.add("active"),c==null||c.dispatchEvent(new Event("touchstart")),addEventListener("click",f,{passive:!0,once:!0}))}function f(){t(1,r=!1),a==null||a.classList.remove("active")}function h(y){r||(y.stopPropagation(),u(new Event("")))}function p(){!a||!c||(l==="bottom right"?(t(3,c.style.top=`${a.offsetTop-c.clientHeight}px`,c),t(3,c.style.left=`${a.offsetLeft-c.clientWidth+a.clientWidth}px`,c),t(3,c.style.borderBottomRightRadius="0",c)):l=="top"&&t(3,c.style.top=`${a.offsetTop+a.clientHeight}px`,c))}nt(()=>{a=o==null?void 0:o.lastElementChild,a==null||a.addEventListener("touchstart",u,{passive:!1}),a==null||a.addEventListener("mouseover",u,{passive:!1}),a==null||a.addEventListener("click",h,{passive:!0})}),Xe(()=>{a==null||a.removeEventListener("touchstart",u),a==null||a.removeEventListener("mouseover",u)});function _(y){re[y?"unshift":"push"](()=>{c=y,t(3,c)})}function b(y){re[y?"unshift":"push"](()=>{o=y,t(2,o)})}return s.$$set=y=>{"align"in y&&t(0,l=y.align),"$$scope"in y&&t(4,n=y.$$scope)},[l,r,o,c,n,i,_,b]}class Lt extends ue{constructor(e){super();ce(this,e,Ni,Ai,oe,{align:0})}}function Ii(s){let e,t;return{c(){e=L("button"),t=se("Artist"),this.h()},l(i){e=T(i,"BUTTON",{class:!0,"aria-label":!0});var n=N(e);t=ie(n,"Artist"),n.forEach(d),this.h()},h(){m(e,"class","artist svelte-bnvum9"),m(e,"aria-label","Show Artist")},m(i,n){P(i,e,n),w(e,t)},d(i){i&&d(e)}}}function Si(s){let e,t;return{c(){e=L("button"),t=se("Artists"),this.h()},l(i){e=T(i,"BUTTON",{class:!0,"aria-label":!0});var n=N(e);t=ie(n,"Artists"),n.forEach(d),this.h()},h(){m(e,"class","artists svelte-bnvum9"),m(e,"aria-label","Show Artists")},m(i,n){P(i,e,n),w(e,t)},d(i){i&&d(e)}}}function Pi(s){let e,t,i,n,l,r,a,o,c,u,f,h,p,_,b;function y(g,I){return g[0]?Si:Ii}let v=y(s),A=v(s);return{c(){e=L("button"),t=se("Info"),i=j(),A.c(),n=j(),l=L("button"),r=se("Album"),a=j(),o=L("button"),c=se("Similar"),u=j(),f=L("button"),h=se("Share"),p=j(),_=L("button"),b=se("Save"),this.h()},l(g){e=T(g,"BUTTON",{class:!0,"aria-label":!0});var I=N(e);t=ie(I,"Info"),I.forEach(d),i=Q(g),A.l(g),n=Q(g),l=T(g,"BUTTON",{class:!0,"aria-label":!0});var k=N(l);r=ie(k,"Album"),k.forEach(d),a=Q(g),o=T(g,"BUTTON",{class:!0,"aria-label":!0});var E=N(o);c=ie(E,"Similar"),E.forEach(d),u=Q(g),f=T(g,"BUTTON",{class:!0,"aria-label":!0});var q=N(f);h=ie(q,"Share"),q.forEach(d),p=Q(g),_=T(g,"BUTTON",{class:!0,"aria-label":!0});var z=N(_);b=ie(z,"Save"),z.forEach(d),this.h()},h(){m(e,"class","info svelte-bnvum9"),m(e,"aria-label","Show Info"),m(l,"class","album svelte-bnvum9"),m(l,"aria-label","Show Album"),m(o,"class","similar svelte-bnvum9"),m(o,"aria-label","Find Similar"),m(f,"class","share svelte-bnvum9"),m(f,"aria-label","Share Track"),m(_,"class","save svelte-bnvum9"),m(_,"aria-label","Save Track")},m(g,I){P(g,e,I),w(e,t),P(g,i,I),A.m(g,I),P(g,n,I),P(g,l,I),w(l,r),P(g,a,I),P(g,o,I),w(o,c),P(g,u,I),P(g,f,I),w(f,h),P(g,p,I),P(g,_,I),w(_,b)},p(g,I){v!==(v=y(g))&&(A.d(1),A=v(g),A&&(A.c(),A.m(n.parentNode,n)))},d(g){g&&d(e),g&&d(i),A.d(g),g&&d(n),g&&d(l),g&&d(a),g&&d(o),g&&d(u),g&&d(f),g&&d(p),g&&d(_)}}}function Vi(s){let e,t,i;return{c(){e=L("button"),this.h()},l(n){e=T(n,"BUTTON",{slot:!0,class:!0,"aria-label":!0}),N(e).forEach(d),this.h()},h(){m(e,"slot","activator"),m(e,"class","options svelte-bnvum9"),m(e,"aria-label","Show Options"),G(e,"active",!1)},m(n,l){P(n,e,l),t||(i=Y(e,"touchstart",Ne(s[1]),{passive:!0}),t=!0)},p:J,d(n){n&&d(e),t=!1,i()}}}function qi(s){let e,t,i,n;return t=new Lt({props:{$$slots:{activator:[Vi],default:[Pi]},$$scope:{ctx:s}}}),{c(){e=L("div"),K(t.$$.fragment)},l(l){e=T(l,"DIV",{});var r=N(e);ee(t.$$.fragment,r),r.forEach(d)},m(l,r){P(l,e,r),Z(t,e,null),n=!0},p(l,[r]){const a={};r&5&&(a.$$scope={dirty:r,ctx:l}),t.$set(a)},i(l){n||(V(t.$$.fragment,l),be(()=>{i||(i=pe(e,Le,{},!0)),i.run(1)}),n=!0)},o(l){C(t.$$.fragment,l),i||(i=pe(e,Le,{},!1)),i.run(0),n=!1},d(l){l&&d(e),x(t),l&&i&&i.end()}}}function Ci(s,e,t){let{multiartist:i=!1}=e;function n(l){Ce.call(this,s,l)}return s.$$set=l=>{"multiartist"in l&&t(0,i=l.multiartist)},[i,n]}class Oi extends ue{constructor(e){super();ce(this,e,Ci,qi,oe,{multiartist:0})}}function $i(s){let e,t,i,n;return t=new lt({props:{size:96}}),{c(){e=L("div"),K(t.$$.fragment),this.h()},l(l){e=T(l,"DIV",{class:!0});var r=N(e);ee(t.$$.fragment,r),r.forEach(d),this.h()},h(){m(e,"class","loader svelte-1o1ddn6")},m(l,r){P(l,e,r),Z(t,e,null),n=!0},p:J,i(l){n||(V(t.$$.fragment,l),be(()=>{i||(i=pe(e,at,{},!0)),i.run(1)}),n=!0)},o(l){C(t.$$.fragment,l),i||(i=pe(e,at,{},!1)),i.run(0),n=!1},d(l){l&&d(e),x(t),l&&i&&i.end()}}}function Mi(s){let e,t,i,n,l;return{c(){e=L("button"),this.h()},l(r){e=T(r,"BUTTON",{class:!0,"aria-label":!0}),N(e).forEach(d),this.h()},h(){m(e,"class","pause svelte-1o1ddn6"),m(e,"aria-label","Pause/Play"),G(e,"paused",!s[0])},m(r,a){P(r,e,a),i=!0,n||(l=Y(e,"click",s[2]),n=!0)},p(r,a){a&1&&G(e,"paused",!r[0])},i(r){i||(be(()=>{t||(t=pe(e,at,{},!0)),t.run(1)}),i=!0)},o(r){t||(t=pe(e,at,{},!1)),t.run(0),i=!1},d(r){r&&d(e),r&&t&&t.end(),n=!1,l()}}}function Di(s){let e,t,i,n,l;const r=[Mi,$i],a=[];function o(c,u){return c[1]?1:0}return t=o(s),i=a[t]=r[t](s),{c(){e=L("div"),i.c(),this.h()},l(c){e=T(c,"DIV",{class:!0});var u=N(e);i.l(u),u.forEach(d),this.h()},h(){m(e,"class","container svelte-1o1ddn6"),G(e,"paused",!s[0]&&!s[1])},m(c,u){P(c,e,u),a[t].m(e,null),l=!0},p(c,[u]){let f=t;t=o(c),t===f?a[t].p(c,u):(fe(),C(a[f],1,1,()=>{a[f]=null}),he(),i=a[t],i?i.p(c,u):(i=a[t]=r[t](c),i.c()),V(i,1),i.m(e,null)),u&3&&G(e,"paused",!c[0]&&!c[1])},i(c){l||(V(i),be(()=>{n||(n=pe(e,Le,{},!0)),n.run(1)}),l=!0)},o(c){C(i),n||(n=pe(e,Le,{},!1)),n.run(0),l=!1},d(c){c&&d(e),a[t].d(),c&&n&&n.end()}}}function Bi(s,e,t){let{paused:i}=e,{loading:n}=e;const l=()=>t(0,i=!i);return s.$$set=r=>{"paused"in r&&t(0,i=r.paused),"loading"in r&&t(1,n=r.loading)},[i,n,l]}class Ui extends ue{constructor(e){super();ce(this,e,Bi,Di,oe,{paused:0,loading:1})}}function Qt(s){let e,t,i,n,l;function r(o){s[4](o)}let a={loading:s[1]};return s[0]!==void 0&&(a.paused=s[0]),e=new Ui({props:a}),re.push(()=>ve(e,"paused",r)),n=new Oi({props:{multiartist:s[7].artists.length>1}}),{c(){K(e.$$.fragment),i=j(),K(n.$$.fragment)},l(o){ee(e.$$.fragment,o),i=Q(o),ee(n.$$.fragment,o)},m(o,c){Z(e,o,c),P(o,i,c),Z(n,o,c),l=!0},p(o,c){const u={};c&2&&(u.loading=o[1]),!t&&c&1&&(t=!0,u.paused=o[0],me(()=>t=!1)),e.$set(u);const f={};c&128&&(f.multiartist=o[7].artists.length>1),n.$set(f)},i(o){l||(V(e.$$.fragment,o),V(n.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),C(n.$$.fragment,o),l=!1},d(o){x(e,o),o&&d(i),x(n,o)}}}function zi(s){let e,t,i,n;t=new wt({props:{image:s[7].cover}});let l=s[8]===0&&Qt(s);return{c(){e=L("div"),K(t.$$.fragment),i=j(),l&&l.c(),this.h()},l(r){e=T(r,"DIV",{class:!0});var a=N(e);ee(t.$$.fragment,a),i=Q(a),l&&l.l(a),a.forEach(d),this.h()},h(){m(e,"class","container svelte-14bp2zz"),G(e,"active",!s[8])},m(r,a){P(r,e,a),Z(t,e,null),w(e,i),l&&l.m(e,null),n=!0},p(r,a){const o={};a&128&&(o.image=r[7].cover),t.$set(o),r[8]===0?l?(l.p(r,a),a&256&&V(l,1)):(l=Qt(r),l.c(),V(l,1),l.m(e,null)):l&&(fe(),C(l,1,1,()=>{l=null}),he()),a&256&&G(e,"active",!r[8])},i(r){n||(V(t.$$.fragment,r),V(l),n=!0)},o(r){C(t.$$.fragment,r),C(l),n=!1},d(r){r&&d(e),x(t),l&&l.d()}}}function Hi(s){let e,t;return e=new yi({props:{view:s[2],$$slots:{default:[zi,({item:i,position:n})=>({7:i,8:n}),({item:i,position:n})=>(i?128:0)|(n?256:0)]},$$scope:{ctx:s}}}),e.$on("next",s[5]),e.$on("previous",s[6]),{c(){K(e.$$.fragment)},l(i){ee(e.$$.fragment,i)},m(i,n){Z(e,i,n),t=!0},p(i,[n]){const l={};n&4&&(l.view=i[2]),n&899&&(l.$$scope={dirty:n,ctx:i}),e.$set(l)},i(i){t||(V(e.$$.fragment,i),t=!0)},o(i){C(e.$$.fragment,i),t=!1},d(i){x(e,i)}}}function ji(s,e,t){let i;Te(s,X,u=>t(3,i=u));let{paused:n}=e,{loading:l}=e,r=[];function a(u){n=u,t(0,n)}const o=()=>X.next(),c=()=>X.previous();return s.$$set=u=>{"paused"in u&&t(0,n=u.paused),"loading"in u&&t(1,l=u.loading)},s.$$.update=()=>{s.$$.dirty&12&&i&&(t(2,r[0]=X.history[X.history.length-2]||{},r),t(2,r[1]=X.history[X.history.length-1]||{},r),t(2,r[2]=X.current||{},r),t(2,r[3]=X.queue[0]||{},r),t(2,r[4]=X.queue[1]||{},r),X.repeatition==Ee.All&&(r[3].title||t(2,r[3]=Ve({},X.history[0]),r),r[4].title||t(2,r[4]=Ve({},X.history[1]),r)))},[n,l,r,i,a,o,c]}class Qi extends ue{constructor(e){super();ce(this,e,ji,Hi,oe,{paused:0,loading:1})}}function Ye(s){s=Math.round(s),s<=0&&(s=0);const e=~~(s/60),t=(s-e*60).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1});return Number.isFinite(s)?`${e}:${t}`:t}function Ft(s){let e,t,i=Ye(Math.min(s[2],s[0]))+"",n,l,r,a,o=Ye(s[0]-s[2])+"",c,u,f;return{c(){e=L("div"),t=L("button"),n=se(i),r=j(),a=L("button"),c=se(o),this.h()},l(h){e=T(h,"DIV",{class:!0});var p=N(e);t=T(p,"BUTTON",{class:!0,"aria-label":!0,oncontextmenu:!0});var _=N(t);n=ie(_,i),_.forEach(d),r=Q(p),a=T(p,"BUTTON",{class:!0,"aria-label":!0});var b=N(a);c=ie(b,o),b.forEach(d),p.forEach(d),this.h()},h(){m(t,"class","elapsed svelte-2wuvxd"),m(t,"aria-label","Seek Backwards"),m(t,"oncontextmenu",l=Ri),m(a,"class","left svelte-2wuvxd"),m(a,"aria-label","Seek Forward"),m(e,"class","time svelte-2wuvxd")},m(h,p){P(h,e,p),w(e,t),w(t,n),w(e,r),w(e,a),w(a,c),u||(f=[Y(t,"mousedown",Ne(xe(s[10])),{passive:!1}),Y(t,"touchstart",Ne(xe(s[11])),{passive:!1}),Y(a,"mousedown",Ne(xe(s[12])),{passive:!1}),Y(a,"touchstart",Ne(xe(s[13])),{passive:!1}),Y(a,"contextmenu",Yi)],u=!0)},p(h,p){p&5&&i!==(i=Ye(Math.min(h[2],h[0]))+"")&&ge(n,i),p&5&&o!==(o=Ye(h[0]-h[2])+"")&&ge(c,o)},d(h){h&&d(e),u=!1,_e(f)}}}function Fi(s){let e,t,i,n,l=s[0],r,a,o=Ft(s);return{c(){e=L("div"),t=L("input"),n=j(),o.c(),this.h()},l(c){e=T(c,"DIV",{class:!0});var u=N(e);t=T(u,"INPUT",{"aria-label":!0,class:!0,type:!0,min:!0,max:!0,style:!0}),n=Q(u),o.l(u),u.forEach(d),this.h()},h(){m(t,"aria-label","Playback Progress"),m(t,"class","progress svelte-2wuvxd"),m(t,"type","range"),m(t,"min","0"),m(t,"max",i=Number.isFinite(s[0])?s[0]:0),ne(t,"--progress",s[2]/s[0]*100+"%"),m(e,"class","playback svelte-2wuvxd")},m(c,u){P(c,e,u),w(e,t),qe(t,s[2]),s[9](t),w(e,n),o.m(e,null),r||(a=[Y(t,"change",s[8]),Y(t,"input",s[8]),Y(t,"touchstart",Ne(s[7]),{passive:!0})],r=!0)},p(c,[u]){u&1&&i!==(i=Number.isFinite(c[0])?c[0]:0)&&m(t,"max",i),u&5&&ne(t,"--progress",c[2]/c[0]*100+"%"),u&4&&qe(t,c[2]),u&1&&oe(l,l=c[0])?(o.d(1),o=Ft(c),o.c(),o.m(e,null)):o.p(c,u)},i:J,o:J,d(c){c&&d(e),s[9](null),o.d(c),r=!1,_e(a)}}}const rt=5,Ri=()=>!1,Yi=()=>!1;function Gi(s,e,t){let{time:i}=e,{length:n}=e,{speedup:l}=e,{visible:r=!0}=e,a,o=0,c=!1;function u(){t(4,i=o),c=!1}function f(E){!c&&o!==i&&t(2,o=i)}function h(){c||(c=!0)}function p(E,q){t(5,l=q);const z={once:!0};E==null||E.addEventListener("mouseup",_,z),E==null||E.addEventListener("mouseleave",_,z),E==null||E.addEventListener("touchend",_,z),E==null||E.addEventListener("touchcancel",_,z)}function _({target:E}){t(5,l=NaN),E==null||E.removeEventListener("mouseup",_),E==null||E.removeEventListener("mouseleave",_),E==null||E.removeEventListener("touchend",_),E==null||E.removeEventListener("touchcancel",_)}nt(()=>{a.addEventListener("change",u),a.addEventListener("input",h)}),Xe(()=>{a==null||a.removeEventListener("change",u),a==null||a.removeEventListener("input",h)});function b(E){Ce.call(this,s,E)}function y(){o=Bs(this.value),t(2,o)}function v(E){re[E?"unshift":"push"](()=>{a=E,t(1,a)})}const A=({target:E})=>p(E,-rt),g=({target:E})=>p(E,-rt),I=({target:E})=>p(E,rt),k=({target:E})=>p(E,rt);return s.$$set=E=>{"time"in E&&t(4,i=E.time),"length"in E&&t(0,n=E.length),"speedup"in E&&t(5,l=E.speedup),"visible"in E&&t(6,r=E.visible)},s.$$.update=()=>{s.$$.dirty&80&&r&&f()},[n,a,o,p,i,l,r,b,y,v,A,g,I,k]}class Wi extends ue{constructor(e){super();ce(this,e,Gi,Fi,oe,{time:4,length:0,speedup:5,visible:6})}}function Tt(s,{hider:e,header:t,dynamicHider:i=!1}){var y;let n=!1;const l=e?s.querySelector(e):null,r=t&&((y=s.parentElement)==null?void 0:y.querySelector(t))||null,a=s.style.overflowY;function o(v){s.scrollHeight<=s.clientHeight||(v.stopPropagation(),n=!0,s.style.overflowY=a,s.addEventListener("touchend",c),navigator.standalone&&!s.scrollTop&&s.scrollTo(0,1))}function c(){n=!1,s.style.overflowY=a,s.removeEventListener("touchend",c)}function u({target:v}){const A=v.scrollTop;l&&n&&A<-80&&(l==null||l.click())}function f(){s.style.overflowY="hidden"}function h(){if(!l)return;const v=s.scrollHeight-l.clientHeight>s.clientHeight;l.style.display=v?"block":"none"}function p(){pt(s.firstElementChild,{time:200,align:{top:0,topOffset:64}})}s.addEventListener("touchstart",o,{passive:!0}),s.addEventListener("scroll",u,{passive:!0}),s.addEventListener("scrollcancel",f),r==null||r.addEventListener("click",p);let _=null,b=null;if(i){_=new MutationObserver(()=>setTimeout(h,0)),_.observe(s,{childList:!0});const v=s.parentElement;b=new IntersectionObserver(([A])=>{A.isIntersecting&&h()},{root:v==null?void 0:v.parentElement}),v&&b.observe(v)}return{destroy(){_==null||_.disconnect(),b==null||b.disconnect(),s.removeEventListener("touchstart",o),s.removeEventListener("scroll",u),s.removeEventListener("scrollcancel",f),r==null||r.removeEventListener("click",p)}}}function Xi(s){return{c:J,l:J,m:J,p:J,i:J,o:J,d:J}}function Ji(s){let e,t=s[3]+"",i,n;return{c(){e=L("span"),i=se(t),this.h()},l(l){e=T(l,"SPAN",{class:!0});var r=N(e);i=ie(r,t),r.forEach(d),this.h()},h(){m(e,"class","svelte-10c0aqd")},m(l,r){P(l,e,r),w(e,i)},p(l,r){r&1&&t!==(t=l[3]+"")&&ge(i,t)},i(l){n||be(()=>{n=Je(e,Le,{delay:300}),n.start()})},o:J,d(l){l&&d(e)}}}function Ki(s){let e,t,i,n;return{c(){e=L("span"),t=se(`Lorem, ipsum dolor sit amet consectetur adipisicing elit. Doloribus
      veritatis laborum impedit placeat totam rem, esse, necessitatibus beatae
      nemo facere accusantium consectetur nostrum vero atque obcaecati soluta!
      Tenetur, iusto quia? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Maiores saepe debitis esse, recusandae molestiae minima perspiciatis
      ducimus vero officiis mollitia illum quidem!`),this.h()},l(l){e=T(l,"SPAN",{class:!0});var r=N(e);t=ie(r,`Lorem, ipsum dolor sit amet consectetur adipisicing elit. Doloribus
      veritatis laborum impedit placeat totam rem, esse, necessitatibus beatae
      nemo facere accusantium consectetur nostrum vero atque obcaecati soluta!
      Tenetur, iusto quia? Lorem ipsum dolor sit amet consectetur adipisicing
      elit. Maiores saepe debitis esse, recusandae molestiae minima perspiciatis
      ducimus vero officiis mollitia illum quidem!`),r.forEach(d),this.h()},h(){m(e,"class","loading svelte-10c0aqd")},m(l,r){P(l,e,r),w(e,t),n=!0},p:J,i(l){n||(i&&i.end(1),n=!0)},o(l){i=Ke(e,Le,{duration:300}),n=!1},d(l){l&&d(e),l&&i&&i.end()}}}function Zi(s){let e,t,i,n,l,r,a,o,c,u,f={ctx:s,current:null,token:null,hasCatch:!1,pending:Ki,then:Ji,catch:Xi,value:3,blocks:[,,,]};return ot(l=s[0],f),{c(){e=L("h2"),t=se("Lyrics"),i=j(),n=L("div"),f.block.c(),r=j(),a=L("button"),this.h()},l(h){e=T(h,"H2",{class:!0});var p=N(e);t=ie(p,"Lyrics"),p.forEach(d),i=Q(h),n=T(h,"DIV",{class:!0});var _=N(n);f.block.l(_),r=Q(_),a=T(_,"BUTTON",{class:!0,style:!0,"aria-label":!0}),N(a).forEach(d),_.forEach(d),this.h()},h(){m(e,"class","svelte-10c0aqd"),m(a,"class","slider-handle svelte-10c0aqd"),ne(a,"display","none"),m(a,"aria-label","Hide Lyrics"),m(n,"class","text svelte-10c0aqd")},m(h,p){P(h,e,p),w(e,t),P(h,i,p),P(h,n,p),f.block.m(n,f.anchor=null),f.mount=()=>n,f.anchor=r,w(n,r),w(n,a),o=!0,c||(u=Ie(Tt.call(null,n,{header:"h2",hider:".slider-handle",dynamicHider:!0})),c=!0)},p(h,[p]){s=h,f.ctx=s,p&1&&l!==(l=s[0])&&ot(l,f)||Ts(f,s,p)},i(h){o||(V(f.block),o=!0)},o(h){for(let p=0;p<3;p+=1){const _=f.blocks[p];C(_)}o=!1},d(h){h&&d(e),h&&d(i),h&&d(n),f.block.d(),f.token=null,f=null,c=!1,u()}}}function xi(s,e,t){let i;Te(s,Se,r=>t(2,i=r));let{track:n}=e,l="";return s.$$set=r=>{"track"in r&&t(1,n=r.track)},s.$$.update=()=>{s.$$.dirty&6&&i.token&&t(0,l=n!==we?Zs(n):"")},[l,n,i]}class en extends ue{constructor(e){super();ce(this,e,xi,Zi,oe,{track:1})}}function Ss(s,{scrollThreshold:e=64,offsetTop:t=0,offsetLeft:i=0,offsetBottom:n=0,margin:l=0}={}){const r=()=>{s.addEventListener("touchstart",I,{passive:!0,once:!0})};let a,o={top:0,bottom:innerHeight-n},c=[0,0,0],u=null,f=null,h=null,p=null;function _(){return s.querySelectorAll("[data-index]")}function b(S){if(S==null)return null;const B=`[data-index="${S}"`;return s.querySelector(B)}function y(S){var D;const B=+(((D=S.dataset)==null?void 0:D.index)||NaN);return Number.isInteger(B)?B:null}function v(){_().forEach(S=>{const B=y(S);if(B==null||f==null||h==null)return;let D="translate3d(0,0,0)";B<=f&&B>h?D=`translate3d(0,calc(-100% - ${l}px),0)`:B<h&&B>=f&&(D=`translate3d(0,calc(+100% + ${l}px),0)`),S.style.transform=D})}function A(S){S.style.padding="0";const B=S.getBoundingClientRect();S.style.padding=null,p=S.cloneNode(!0),p.style.position="fixed",p.style.zIndex="0",p.style.left=B.left-i+"px",p.style.top=B.top-t+"px",p.style.width=B.width+"px",delete p.dataset.index,s.appendChild(p),S.style.opacity="0",requestAnimationFrame(()=>{p==null||p.classList.add("dragging")})}function g(){return new Promise(async S=>{if(!p)return S();const B=b(h);B&&(B.style.opacity="1");const D=b(f);if(!D)return p.remove(),p=null,S();D.style.opacity="0";const W=D.getBoundingClientRect(),U={transform:`translate3d(${W.left-i-p.offsetLeft}px,${W.top-t-p.offsetTop+scrollY}px,0)`};p.classList.remove("dragging");const $=Ge(p,[U],{duration:300,easing:"ease",fill:"none"}),O=()=>{D.style.opacity="1",requestAnimationFrame(()=>{p==null||p.remove(),p=null,S()})};$.oncancel=O,$.onfinish=O,$.onremove=O})}function I(S){var F;const B=+(((F=S.target)==null?void 0:F.dataset.index)||NaN);if(!Number.isInteger(B))return r();const{clientX:D,clientY:W}=S.touches[0],U=()=>{var ae,ye,$e,Pe,ke;const M=b(B);if(!M)return r();const te=(ae=s.parentElement)==null?void 0:ae.getBoundingClientRect();if(!te)return r();s.dispatchEvent(new Event("scrollcancel",{bubbles:!0})),M.dispatchEvent(new Event("dragstart")),A(M),h=f=B,c=[D,W,((ye=s.parentElement)==null?void 0:ye.scrollTop)||0],u=[D,W],o={top:Math.max(te.top,o.top),bottom:Math.min(te.top+te.height-n,o.bottom)},addEventListener("touchend",E),($e=S.target)==null||$e.addEventListener("touchend",E),(Pe=S.target)==null||Pe.addEventListener("touchcancel",E),(ke=S.target)==null||ke.addEventListener("touchmove",k,{passive:!0}),Ei()},$=setTimeout(()=>{H(),U()},300),O=({touches:M})=>{M[0].force>.1&&(H(),U())},H=M=>{clearTimeout($),s.removeEventListener("touchmove",H),s.removeEventListener("touchend",H),s.removeEventListener("touchforcechange",O),M&&r()};s.addEventListener("touchmove",H,{passive:!0,once:!0}),s.addEventListener("touchend",H,{passive:!0,once:!0}),s.addEventListener("touchforcechange",O)}function k(S){var F;if(!p||h==null||!S&&!u)return;const{clientX:B=(u==null?void 0:u[0])||0,clientY:D=(u==null?void 0:u[1])||0}=(S==null?void 0:S.touches[0])||{},W=Math.min(Math.max(D,o.top),o.bottom-1);u=[B,D];const U=B-c[0],$=W-c[1],O=(((F=s.parentElement)==null?void 0:F.scrollTop)||0)-c[2];p.style.transform=`translate3d(${U}px, ${$}px, 0)`,D-o.top<e?q(!1):D>o.bottom-e?q(!0):a&&(cancelAnimationFrame(a),a=void 0);let H=h+Math.round(($+O)/(p.offsetHeight+l));H<0&&(H=0),H!==f&&(!b(H)||(f=H,v(),Is()))}async function E(S){var B,D,W;(B=S.target)==null||B.removeEventListener("touchmove",k),(D=S.target)==null||D.removeEventListener("touchend",E),(W=S.target)==null||W.removeEventListener("touchcancel",E),removeEventListener("touchend",E),_().forEach(U=>{const $=U.style.transition;U.style.transition="none",U.style.transform="none",requestAnimationFrame(()=>{U.style.transition=$})}),a&&cancelAnimationFrame(a),a=void 0,g().finally(r),f!=null&&f!=h&&s.dispatchEvent(new CustomEvent("swap",{detail:{from:h,to:f}})),u=h=f=null}function q(S){if(a)return;const B=S?1:-1,D=S?o.bottom:o.top;let W=Date.now();const U=()=>{const $=(u==null?void 0:u[1])||0,O=Math.pow(1- -B*($-D)/e,2),H=Date.now()-W;W=Date.now();const F=s.parentElement;if(!F)return;F.scrollBy(0,H*B*O/2),k();const M=F.scrollTop;!S&&M<=0||S&&M>=F.scrollHeight||!a||(a=requestAnimationFrame(U))};a=requestAnimationFrame(U)}function z(S){S.preventDefault()}function le(S){for(const B of S)B.addedNodes.forEach(D=>{if(D.nodeType!=D.ELEMENT_NODE)return;const W=D,U=y(W);U!=null&&U===h&&(W.style.opacity="0")})}s.addEventListener("dragstart",z);const R=new MutationObserver(le);return r(),R.observe(s,{childList:!0}),{destroy(){s.removeEventListener("touchstart",I),s.removeEventListener("dragstart",z),R.disconnect()}}}function At(s){function e(){const n=setTimeout(()=>{t()},100),l=()=>{clearTimeout(n),i(),s.removeEventListener("touchcancel",l),s.removeEventListener("touchmove",l),s.removeEventListener("dragstart",l),s.removeEventListener("touchend",r)},r=()=>{t(),setTimeout(l,100)};s.addEventListener("touchcancel",l,{passive:!0,once:!0}),s.addEventListener("touchmove",l,{passive:!0,once:!0}),s.addEventListener("dragstart",l,{passive:!0,once:!0}),s.addEventListener("touchend",r,{passive:!0,once:!0})}function t(){s.classList.add("tapped")}function i(){s.classList.remove("tapped")}return s.addEventListener("touchstart",e,{passive:!0}),matchMedia("(pointer:fine)").matches&&(s.addEventListener("mouseover",t),s.addEventListener("mouseleave",i)),{destroy(){s.removeEventListener("touchstart",e),s.removeEventListener("mouseover",t),s.removeEventListener("mouseleave",i)}}}function Rt(s,e,t){const i=s.slice();return i[24]=e[t],i}const tn=s=>({item:s&2,index:s&2}),Yt=s=>({item:s[24].data,index:s[24].index});function Gt(s,e,t){const i=s.slice();return i[24]=e[t],i}const sn=s=>({item:s&2,index:s&2}),Wt=s=>({item:s[24].data,index:s[24].index});function nn(s){let e=[],t=new Map,i,n,l=s[1];const r=a=>a[24].data;for(let a=0;a<l.length;a+=1){let o=Rt(s,l,a),c=r(o);t.set(c,e[a]=Xt(c,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();i=Ae()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);i=Ae()},m(a,o){for(let c=0;c<e.length;c+=1)e[c].m(a,o);P(a,i,o),n=!0},p(a,o){if(o&4098){l=a[1],fe();for(let c=0;c<e.length;c+=1)e[c].r();e=yt(e,o,r,1,a,l,t,i.parentNode,Hs,Xt,i,Rt);for(let c=0;c<e.length;c+=1)e[c].a();he()}},i(a){if(!n){for(let o=0;o<l.length;o+=1)V(e[o]);n=!0}},o(a){for(let o=0;o<e.length;o+=1)C(e[o]);n=!1},d(a){for(let o=0;o<e.length;o+=1)e[o].d(a);a&&d(i)}}}function ln(s){let e=[],t=new Map,i,n,l=s[1];const r=a=>a[24].index;for(let a=0;a<l.length;a+=1){let o=Gt(s,l,a),c=r(o);t.set(c,e[a]=Jt(c,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();i=Ae()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);i=Ae()},m(a,o){for(let c=0;c<e.length;c+=1)e[c].m(a,o);P(a,i,o),n=!0},p(a,o){o&4098&&(l=a[1],fe(),e=yt(e,o,r,1,a,l,t,i.parentNode,Ls,Jt,i,Gt),he())},i(a){if(!n){for(let o=0;o<l.length;o+=1)V(e[o]);n=!0}},o(a){for(let o=0;o<e.length;o+=1)C(e[o]);n=!1},d(a){for(let o=0;o<e.length;o+=1)e[o].d(a);a&&d(i)}}}function Xt(s,e){let t,i,n,l=J,r;const a=e[13].default,o=He(a,e,e[12],Yt);return{key:s,first:null,c(){t=L("div"),o&&o.c(),i=j(),this.h()},l(c){t=T(c,"DIV",{class:!0});var u=N(t);o&&o.l(u),i=Q(u),u.forEach(d),this.h()},h(){m(t,"class","svelte-14yvz9"),this.first=t},m(c,u){P(c,t,u),o&&o.m(t,null),w(t,i),r=!0},p(c,u){e=c,o&&o.p&&(!r||u&4098)&&Be(o,a,e,e[12],r?ze(a,e[12],u,tn):Ue(e[12]),Yt)},r(){n=t.getBoundingClientRect()},f(){Us(t),l()},a(){l(),l=zs(t,n,js,{duration:300})},i(c){r||(V(o,c),r=!0)},o(c){C(o,c),r=!1},d(c){c&&d(t),o&&o.d(c)}}}function Jt(s,e){let t,i;const n=e[13].default,l=He(n,e,e[12],Wt);return{key:s,first:null,c(){t=Ae(),l&&l.c(),this.h()},l(r){t=Ae(),l&&l.l(r),this.h()},h(){this.first=t},m(r,a){P(r,t,a),l&&l.m(r,a),i=!0},p(r,a){e=r,l&&l.p&&(!i||a&4098)&&Be(l,n,e,e[12],i?ze(n,e[12],a,sn):Ue(e[12]),Wt)},i(r){i||(V(l,r),i=!0)},o(r){C(l,r),i=!1},d(r){r&&d(t),l&&l.d(r)}}}function rn(s){let e,t,i,n;const l=[ln,nn],r=[];function a(o,c){return o[0]?1:0}return e=a(s),t=r[e]=l[e](s),{c(){t.c(),i=Ae()},l(o){t.l(o),i=Ae()},m(o,c){r[e].m(o,c),P(o,i,c),n=!0},p(o,[c]){let u=e;e=a(o),e===u?r[e].p(o,c):(fe(),C(r[u],1,1,()=>{r[u]=null}),he(),t=r[e],t?t.p(o,c):(t=r[e]=l[e](o),t.c()),V(t,1),t.m(i.parentNode,i))},i(o){n||(V(t),n=!0)},o(o){C(t),n=!1},d(o){r[e].d(o),o&&d(i)}}}const Kt=2;function an(s,e,t){let i,{$$slots:n={},$$scope:l}=e,{items:r}=e,{viewport:a}=e,{container:o}=e,{itemHeight:c}=e,{flipping:u=0}=e,f=null,h,p,_=0,b=NaN,y=0,v=0,A=0,g;function I(...S){if(!c||!a||!h)return;let B=~~(p/c)-Kt,D=B+Math.ceil(h/c)+1+Kt*2;B<0&&(B=0),D>r.length&&(D=r.length),b!==B&&(t(7,b=B),t(9,v=b*c)),y!==D?(t(8,y=D),t(10,A=(r.length-y)*c)):_!=r.length&&(t(10,A=(r.length-y)*c),_=r.length)}let k=0,E=0;function q(S){if(a&&a.scrollTop!==p){const B=r.length*c-h;let D=a.scrollTop;D<0?D=0:D>B&&(D=B),t(6,p=D)}if(!S)return k=0;E||(E=S),S-E>100?(E=0,k=0):k=requestAnimationFrame(q)}function z(){k||(k=requestAnimationFrame(q))}function le(){h||!a||(h=a.offsetHeight,q(0),t(0,u=0))}function R(){f=new IntersectionObserver(([S])=>{S.isIntersecting&&(le(),f==null||f.disconnect())},{root:a==null?void 0:a.parentElement}),f.observe(a),a.addEventListener("scroll",z)}return Xe(()=>{var S;a==null||a.removeEventListener("scroll",z),(S=globalThis.cancelAnimationFrame)==null||S.call(globalThis,k),f==null||f.disconnect()}),s.$$set=S=>{"items"in S&&t(3,r=S.items),"viewport"in S&&t(4,a=S.viewport),"container"in S&&t(2,o=S.container),"itemHeight"in S&&t(5,c=S.itemHeight),"flipping"in S&&t(0,u=S.flipping),"$$scope"in S&&t(12,l=S.$$scope)},s.$$.update=()=>{s.$$.dirty&72&&I(r,p),s.$$.dirty&392&&t(1,i=r.slice(b,y).map((S,B)=>({index:B+b,data:S}))),s.$$.dirty&516&&o&&t(2,o.style.paddingTop=v+"px",o),s.$$.dirty&1028&&o&&t(2,o.style.paddingBottom=A+"px",o),s.$$.dirty&16&&a&&R(),s.$$.dirty&2053&&u&&o&&(clearTimeout(g),t(11,g=setTimeout(()=>t(0,u=0),300)))},[u,i,o,r,a,c,p,b,y,v,A,g,l,n]}class Nt extends ue{constructor(e){super();ce(this,e,an,rn,oe,{items:3,viewport:4,container:2,itemHeight:5,flipping:0})}}function Zt(s){let e,t=Ye(s[0].length)+"",i;return{c(){e=L("div"),i=se(t),this.h()},l(n){e=T(n,"DIV",{class:!0});var l=N(e);i=ie(l,t),l.forEach(d),this.h()},h(){m(e,"class","duration svelte-1g9v8nj")},m(n,l){P(n,e,l),w(e,i)},p(n,l){l&1&&t!==(t=Ye(n[0].length)+"")&&ge(i,t)},d(n){n&&d(e)}}}function on(s){let e,t,i,n,l,r=s[0].title+"",a,o,c,u=s[0].artists.join(", ")+"",f,h,p,_;t=new wt({props:{image:s[0].cover,size:"48px"}}),t.$on("click",s[3]);let b=s[1]==="duration"&&Zt(s);return{c(){e=L("div"),K(t.$$.fragment),i=j(),n=L("div"),l=L("div"),a=se(r),o=j(),c=L("div"),f=se(u),h=j(),p=L("div"),b&&b.c(),this.h()},l(y){e=T(y,"DIV",{class:!0});var v=N(e);ee(t.$$.fragment,v),i=Q(v),n=T(v,"DIV",{class:!0});var A=N(n);l=T(A,"DIV",{class:!0});var g=N(l);a=ie(g,r),g.forEach(d),o=Q(A),c=T(A,"DIV",{class:!0});var I=N(c);f=ie(I,u),I.forEach(d),A.forEach(d),h=Q(v),p=T(v,"DIV",{class:!0});var k=N(p);b&&b.l(k),k.forEach(d),v.forEach(d),this.h()},h(){m(l,"class","title svelte-1g9v8nj"),m(c,"class","artists svelte-1g9v8nj"),m(n,"class","info svelte-1g9v8nj"),m(p,"class","extra svelte-1g9v8nj"),m(e,"class","track svelte-1g9v8nj"),G(e,"empty",s[0]===we)},m(y,v){P(y,e,v),Z(t,e,null),w(e,i),w(e,n),w(n,l),w(l,a),w(n,o),w(n,c),w(c,f),w(e,h),w(e,p),b&&b.m(p,null),_=!0},p(y,[v]){const A={};v&1&&(A.image=y[0].cover),t.$set(A),(!_||v&1)&&r!==(r=y[0].title+"")&&ge(a,r),(!_||v&1)&&u!==(u=y[0].artists.join(", ")+"")&&ge(f,u),y[1]==="duration"?b?b.p(y,v):(b=Zt(y),b.c(),b.m(p,null)):b&&(b.d(1),b=null),v&1&&G(e,"empty",y[0]===we)},i(y){_||(V(t.$$.fragment,y),_=!0)},o(y){C(t.$$.fragment,y),_=!1},d(y){y&&d(e),x(t),b&&b.d()}}}function un(s,e,t){let{track:i=we}=e,{extra:n="none"}=e;const l=kt(),r=a=>{a.stopPropagation(),l("play",i)};return s.$$set=a=>{"track"in a&&t(0,i=a.track),"extra"in a&&t(1,n=a.extra)},[i,n,l,r]}class it extends ue{constructor(e){super();ce(this,e,un,on,oe,{track:0,extra:1})}}function cn(s){let e,t,i,n,l;return{c(){e=L("h2"),t=se("Queue"),this.h()},l(r){e=T(r,"H2",{class:!0});var a=N(e);t=ie(a,"Queue"),a.forEach(d),this.h()},h(){m(e,"class","svelte-1j67v15")},m(r,a){P(r,e,a),w(e,t),l=!0},i(r){l||(be(()=>{n&&n.end(1),i=Je(e,Me,{x:-32,delay:300}),i.start()}),l=!0)},o(r){i&&i.invalidate(),n=Ke(e,Me,{x:-32,duration:300}),l=!1},d(r){r&&d(e),r&&n&&n.end()}}}function fn(s){let e,t,i,n,l;return{c(){e=L("h2"),t=se("History"),this.h()},l(r){e=T(r,"H2",{class:!0});var a=N(e);t=ie(a,"History"),a.forEach(d),this.h()},h(){m(e,"class","svelte-1j67v15")},m(r,a){P(r,e,a),w(e,t),l=!0},i(r){l||(be(()=>{n&&n.end(1),i=Je(e,Me,{x:-32,delay:300}),i.start()}),l=!0)},o(r){i&&i.invalidate(),n=Ke(e,Me,{x:-32,duration:300}),l=!1},d(r){r&&d(e),r&&n&&n.end()}}}function hn(s){let e,t,i,n,l,r,a;return{c(){e=L("button"),t=j(),i=L("button"),n=j(),l=L("button"),this.h()},l(o){e=T(o,"BUTTON",{class:!0,"aria-label":!0}),N(e).forEach(d),t=Q(o),i=T(o,"BUTTON",{class:!0,"aria-label":!0}),N(i).forEach(d),n=Q(o),l=T(o,"BUTTON",{class:!0,"aria-label":!0}),N(l).forEach(d),this.h()},h(){m(e,"class","infinity svelte-1j67v15"),m(e,"aria-label","Toggle Infinite Play"),G(e,"enabled",s[9]),m(i,"class","direction svelte-1j67v15"),m(i,"aria-label","Switch Playback Direction"),G(i,"normal",s[12].direction==de.Normal),G(i,"backwards",s[12].direction==de.Backwards),G(i,"shuffled",s[12].direction==de.Shuffled),m(l,"class","repeat svelte-1j67v15"),m(l,"aria-label","Switch Repeat Mode"),G(l,"none",s[12].repeatition==Ee.None),G(l,"all",s[12].repeatition==Ee.All),G(l,"single",s[12].repeatition==Ee.Single),G(l,"enabled",s[12].repeatition)},m(o,c){P(o,e,c),P(o,t,c),P(o,i,c),P(o,n,c),P(o,l,c),r||(a=[Y(e,"click",s[18]),Y(i,"click",s[19]),Y(l,"click",s[20])],r=!0)},p(o,c){c[0]&512&&G(e,"enabled",o[9]),c[0]&4096&&G(i,"normal",o[12].direction==de.Normal),c[0]&4096&&G(i,"backwards",o[12].direction==de.Backwards),c[0]&4096&&G(i,"shuffled",o[12].direction==de.Shuffled),c[0]&4096&&G(l,"none",o[12].repeatition==Ee.None),c[0]&4096&&G(l,"all",o[12].repeatition==Ee.All),c[0]&4096&&G(l,"single",o[12].repeatition==Ee.Single),c[0]&4096&&G(l,"enabled",o[12].repeatition)},d(o){o&&d(e),o&&d(t),o&&d(i),o&&d(n),o&&d(l),r=!1,_e(a)}}}function dn(s){let e,t,i;return{c(){e=L("button"),this.h()},l(n){e=T(n,"BUTTON",{class:!0,"aria-label":!0}),N(e).forEach(d),this.h()},h(){m(e,"class","clear svelte-1j67v15"),m(e,"aria-label","Clear History")},m(n,l){P(n,e,l),t||(i=Y(e,"click",s[17]),t=!0)},p:J,d(n){n&&d(e),t=!1,i()}}}function pn(s){let e,t,i,n,l,r,a;function o(u){s[25](u)}let c={items:s[11],container:s[7],itemHeight:We,viewport:s[4],$$slots:{default:[mn,({item:u,index:f})=>({30:u,31:f}),({item:u,index:f})=>[u?1073741824:0,f?1:0]]},$$scope:{ctx:s}};return s[5]!==void 0&&(c.flipping=s[5]),t=new Nt({props:c}),re.push(()=>ve(t,"flipping",o)),{c(){e=L("div"),K(t.$$.fragment),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=N(e);ee(t.$$.fragment,f),f.forEach(d),this.h()},h(){m(e,"class","svelte-1j67v15")},m(u,f){P(u,e,f),Z(t,e,null),s[26](e),l=!0,r||(a=[Ie(Ss.call(null,e,{offsetTop:16,margin:1})),Y(e,"swap",s[13])],r=!0)},p(u,f){s=u;const h={};f[0]&2048&&(h.items=s[11]),f[0]&128&&(h.container=s[7]),f[0]&16&&(h.viewport=s[4]),f[0]&1073741824|f[1]&3&&(h.$$scope={dirty:f,ctx:s}),!i&&f[0]&32&&(i=!0,h.flipping=s[5],me(()=>i=!1)),t.$set(h)},i(u){l||(V(t.$$.fragment,u),be(()=>{n||(n=pe(e,Me,{y:We},!0)),n.run(1)}),l=!0)},o(u){C(t.$$.fragment,u),n||(n=pe(e,Me,{y:We},!1)),n.run(0),l=!1},d(u){u&&d(e),x(t),s[26](null),u&&n&&n.end(),r=!1,_e(a)}}}function _n(s){let e,t,i,n,l;function r(o){s[22](o)}let a={items:s[10],container:s[8],itemHeight:We,viewport:s[4],$$slots:{default:[vn,({item:o})=>({30:o}),({item:o})=>[o?1073741824:0]]},$$scope:{ctx:s}};return s[6]!==void 0&&(a.flipping=s[6]),t=new Nt({props:a}),re.push(()=>ve(t,"flipping",r)),{c(){e=L("div"),K(t.$$.fragment),this.h()},l(o){e=T(o,"DIV",{class:!0});var c=N(e);ee(t.$$.fragment,c),c.forEach(d),this.h()},h(){m(e,"class","svelte-1j67v15")},m(o,c){P(o,e,c),Z(t,e,null),s[23](e),l=!0},p(o,c){s=o;const u={};c[0]&1024&&(u.items=s[10]),c[0]&256&&(u.container=s[8]),c[0]&16&&(u.viewport=s[4]),c[0]&1073741824|c[1]&2&&(u.$$scope={dirty:c,ctx:s}),!i&&c[0]&64&&(i=!0,u.flipping=s[6],me(()=>i=!1)),t.$set(u)},i(o){l||(V(t.$$.fragment,o),be(()=>{n||(n=pe(e,Me,{y:-We},!0)),n.run(1)}),l=!0)},o(o){C(t.$$.fragment,o),n||(n=pe(e,Me,{y:-We},!1)),n.run(0),l=!1},d(o){o&&d(e),x(t),s[23](null),o&&n&&n.end()}}}function mn(s){let e,t,i,n,l,r;t=new it({props:{track:s[30],extra:"duration"}});function a(){return s[24](s[30])}return{c(){e=L("div"),K(t.$$.fragment),this.h()},l(o){e=T(o,"DIV",{class:!0,"data-index":!0});var c=N(e);ee(t.$$.fragment,c),c.forEach(d),this.h()},h(){m(e,"class","track svelte-1j67v15"),m(e,"data-index",i=s[31]),G(e,"tapped",!1),G(e,"dragging",!1)},m(o,c){P(o,e,c),Z(t,e,null),n=!0,l||(r=[Ie(At.call(null,e)),Y(e,"click",a)],l=!0)},p(o,c){s=o;const u={};c[0]&1073741824&&(u.track=s[30]),t.$set(u),(!n||c[1]&1&&i!==(i=s[31]))&&m(e,"data-index",i)},i(o){n||(V(t.$$.fragment,o),n=!0)},o(o){C(t.$$.fragment,o),n=!1},d(o){o&&d(e),x(t),l=!1,_e(r)}}}function vn(s){let e,t,i,n,l;t=new it({props:{track:s[30],extra:"duration"}});function r(){return s[21](s[30])}return{c(){e=L("div"),K(t.$$.fragment),this.h()},l(a){e=T(a,"DIV",{class:!0});var o=N(e);ee(t.$$.fragment,o),o.forEach(d),this.h()},h(){m(e,"class","track svelte-1j67v15"),G(e,"tapped",!1)},m(a,o){P(a,e,o),Z(t,e,null),i=!0,n||(l=[Ie(At.call(null,e)),Y(e,"click",r)],n=!0)},p(a,o){s=a;const c={};o[0]&1073741824&&(c.track=s[30]),t.$set(c)},i(a){i||(V(t.$$.fragment,a),i=!0)},o(a){C(t.$$.fragment,a),i=!1},d(a){a&&d(e),x(t),n=!1,_e(l)}}}function gn(s){let e,t,i,n,l,r,a,o,c,u,f,h,p,_,b,y,v,A,g,I,k;function E(H){s[14](H)}function q(H){s[15](H)}let z={loading:s[2]};s[0]!==void 0&&(z.paused=s[0]),s[1]!==void 0&&(z.time=s[1]),t=new Ns({props:z}),re.push(()=>ve(t,"paused",E)),re.push(()=>ve(t,"time",q));const le=[fn,cn],R=[];function S(H,F){return H[3]?0:1}u=S(s),f=R[u]=le[u](s);function B(H,F){return H[3]?dn:hn}let D=B(s),W=D(s);const U=[_n,pn],$=[];function O(H,F){return H[3]?0:1}return b=O(s),y=$[b]=U[b](s),{c(){e=L("div"),K(t.$$.fragment),l=j(),r=L("div"),a=L("button"),o=j(),c=L("div"),f.c(),h=j(),W.c(),p=j(),_=L("div"),y.c(),v=j(),A=L("div"),this.h()},l(H){e=T(H,"DIV",{class:!0});var F=N(e);ee(t.$$.fragment,F),l=Q(F),r=T(F,"DIV",{class:!0});var M=N(r);a=T(M,"BUTTON",{class:!0,"aria-label":!0}),N(a).forEach(d),o=Q(M),c=T(M,"DIV",{class:!0});var te=N(c);f.l(te),te.forEach(d),h=Q(M),W.l(M),M.forEach(d),p=Q(F),_=T(F,"DIV",{class:!0});var ae=N(_);y.l(ae),v=Q(ae),A=T(ae,"DIV",{class:!0,style:!0,"aria-label":!0}),N(A).forEach(d),ae.forEach(d),F.forEach(d),this.h()},h(){m(a,"class","history svelte-1j67v15"),m(a,"aria-label","Toggle History"),G(a,"enabled",s[3]),m(c,"class","svelte-1j67v15"),m(r,"class","toolbar svelte-1j67v15"),m(A,"class","slider-handle svelte-1j67v15"),ne(A,"display","none"),m(A,"aria-label","Close Queue"),m(_,"class","viewport svelte-1j67v15"),m(e,"class","container svelte-1j67v15")},m(H,F){P(H,e,F),Z(t,e,null),w(e,l),w(e,r),w(r,a),w(r,o),w(r,c),R[u].m(c,null),w(r,h),W.m(r,null),w(e,p),w(e,_),$[b].m(_,null),w(_,v),w(_,A),s[27](_),g=!0,I||(k=[Y(a,"click",s[16]),Ie(Tt.call(null,_,{header:".toolbar>div",hider:".slider-handle"}))],I=!0)},p(H,F){const M={};F[0]&4&&(M.loading=H[2]),!i&&F[0]&1&&(i=!0,M.paused=H[0],me(()=>i=!1)),!n&&F[0]&2&&(n=!0,M.time=H[1],me(()=>n=!1)),t.$set(M),F[0]&8&&G(a,"enabled",H[3]);let te=u;u=S(H),u!==te&&(fe(),C(R[te],1,1,()=>{R[te]=null}),he(),f=R[u],f||(f=R[u]=le[u](H),f.c()),V(f,1),f.m(c,null)),D===(D=B(H))&&W?W.p(H,F):(W.d(1),W=D(H),W&&(W.c(),W.m(r,null)));let ae=b;b=O(H),b===ae?$[b].p(H,F):(fe(),C($[ae],1,1,()=>{$[ae]=null}),he(),y=$[b],y?y.p(H,F):(y=$[b]=U[b](H),y.c()),V(y,1),y.m(_,v))},i(H){g||(V(t.$$.fragment,H),V(f),V(y),g=!0)},o(H){C(t.$$.fragment,H),C(f),C(y),g=!1},d(H){H&&d(e),x(t),R[u].d(),W.d(),$[b].d(),s[27](null),I=!1,_e(k)}}}const We=57;function bn(s,e,t){let i;Te(s,X,O=>t(12,i=O));let{paused:n}=e,{loading:l}=e,{time:r}=e,a=!1,o,c=!1,u=0,f=0,h,p,_=!1,b=[],y=[];const v=X.subscribe(async()=>{c||(t(5,u++,u),t(6,f++,f),await ws()),t(11,y=X.queue),t(10,b=X.history.slice().reverse()),c=!1});function A({detail:O}){const{from:H,to:F}=O;c=!0,X.rearrange(H,F)}Xe(v);function g(O){n=O,t(0,n)}function I(O){r=O,t(1,r)}const k=()=>t(3,a=!a),E=()=>X.clearHistory(),q=()=>t(9,_=!_),z=()=>X.direct((X.direction+1)%3),le=()=>X.repeat((X.repeatition+1)%3),R=O=>X.play(Ve({},O));function S(O){f=O,t(6,f)}function B(O){re[O?"unshift":"push"](()=>{p=O,t(8,p)})}const D=O=>X.play(O);function W(O){u=O,t(5,u)}function U(O){re[O?"unshift":"push"](()=>{h=O,t(7,h)})}function $(O){re[O?"unshift":"push"](()=>{o=O,t(4,o)})}return s.$$set=O=>{"paused"in O&&t(0,n=O.paused),"loading"in O&&t(2,l=O.loading),"time"in O&&t(1,r=O.time)},s.$$.update=()=>{s.$$.dirty[0]&24&&(o==null||o.scrollTo(0,0))},[n,r,l,a,o,u,f,h,p,_,b,y,i,A,g,I,k,E,q,z,le,R,S,B,D,W,U,$]}class yn extends ue{constructor(e){super();ce(this,e,bn,gn,oe,{paused:0,loading:2,time:1},null,[-1,-1])}}function kn(s){let e,t,i,n,l,r,a,o,c,u,f,h,p,_,b,y,v,A,g;f=new en({props:{track:s[5].current}});function I(q){s[12](q)}function k(q){s[13](q)}let E={loading:s[2]};return s[1]!==void 0&&(E.time=s[1]),s[0]!==void 0&&(E.paused=s[0]),_=new yn({props:E}),re.push(()=>ve(_,"time",I)),re.push(()=>ve(_,"paused",k)),{c(){e=L("div"),t=L("div"),i=j(),n=L("div"),l=L("button"),r=j(),a=L("button"),o=j(),c=L("div"),u=L("div"),K(f.$$.fragment),h=j(),p=L("div"),K(_.$$.fragment),this.h()},l(q){e=T(q,"DIV",{class:!0});var z=N(e);t=T(z,"DIV",{class:!0}),N(t).forEach(d),i=Q(z),n=T(z,"DIV",{class:!0});var le=N(n);l=T(le,"BUTTON",{class:!0,"aria-label":!0}),N(l).forEach(d),r=Q(le),a=T(le,"BUTTON",{class:!0,"aria-label":!0}),N(a).forEach(d),le.forEach(d),o=Q(z),c=T(z,"DIV",{class:!0});var R=N(c);u=T(R,"DIV",{style:!0,class:!0});var S=N(u);ee(f.$$.fragment,S),S.forEach(d),h=Q(R),p=T(R,"DIV",{style:!0,class:!0});var B=N(p);ee(_.$$.fragment,B),B.forEach(d),R.forEach(d),z.forEach(d),this.h()},h(){m(t,"class","slider-handle svelte-16fgm4f"),G(t,"open",s[3]),m(l,"class","lyrics svelte-16fgm4f"),m(l,"aria-label","Show Lyrics"),m(a,"class","queue svelte-16fgm4f"),m(a,"aria-label","Open Queue"),m(n,"class","mode svelte-16fgm4f"),G(n,"open",s[3]),ne(u,"display",s[4]==0?"block":"none"),m(u,"class","svelte-16fgm4f"),ne(p,"display",s[4]==1?"block":"none"),m(p,"class","svelte-16fgm4f"),m(c,"class","content svelte-16fgm4f"),G(c,"open",s[3]),m(e,"class","more svelte-16fgm4f")},m(q,z){P(q,e,z),w(e,t),w(e,i),w(e,n),w(n,l),w(n,r),w(n,a),w(e,o),w(e,c),w(c,u),Z(f,u,null),w(c,h),w(c,p),Z(_,p,null),v=!0,A||(g=[Y(l,"touchstart",s[8]),Y(l,"mousedown",s[9]),Y(a,"touchstart",s[10]),Y(a,"mousedown",s[11]),Ie(Et.call(null,e,{gap:16,handle:".slider-handle"})),Y(e,"open",s[14]),Y(e,"close",s[15])],A=!0)},p(q,[z]){z&8&&G(t,"open",q[3]),z&8&&G(n,"open",q[3]);const le={};z&32&&(le.track=q[5].current),f.$set(le),(!v||z&16)&&ne(u,"display",q[4]==0?"block":"none");const R={};z&4&&(R.loading=q[2]),!b&&z&2&&(b=!0,R.time=q[1],me(()=>b=!1)),!y&&z&1&&(y=!0,R.paused=q[0],me(()=>y=!1)),_.$set(R),(!v||z&16)&&ne(p,"display",q[4]==1?"block":"none"),z&8&&G(c,"open",q[3])},i(q){v||(V(f.$$.fragment,q),V(_.$$.fragment,q),v=!0)},o(q){C(f.$$.fragment,q),C(_.$$.fragment,q),v=!1},d(q){q&&d(e),x(f),x(_),A=!1,_e(g)}}}function En(s,e,t){let i;Te(s,X,g=>t(5,i=g));let{paused:n}=e,{loading:l}=e,{time:r}=e,a=0,o=!1,c=null;function u(g,I=null){if(t(4,a=g),!I)return;t(7,c=()=>{I.removeEventListener("touchend",k),I.removeEventListener("touchcancel",k),t(7,c=null)});const k=()=>{!c||(c(),I.dispatchEvent(new Event("click",{bubbles:!0})))};I.addEventListener("touchend",k,{once:!0}),I.addEventListener("touchcancel",k,{once:!0})}const f=({target:g})=>u(0,g),h=()=>u(0),p=({target:g})=>u(1,g),_=()=>u(1);function b(g){r=g,t(1,r)}function y(g){n=g,t(0,n)}const v=()=>t(3,o=!0),A=()=>t(3,o=!1);return s.$$set=g=>{"paused"in g&&t(0,n=g.paused),"loading"in g&&t(2,l=g.loading),"time"in g&&t(1,r=g.time)},s.$$.update=()=>{s.$$.dirty&136&&o&&(c==null||c())},[n,r,l,o,a,i,u,c,f,h,p,_,b,y,v,A]}class wn extends ue{constructor(e){super();ce(this,e,En,kn,oe,{paused:0,loading:2,time:1})}}function xt(s,e,t){const i=s.slice();return i[4]=e[t],i}function Ln(s){let e,t=s[1].join(", ")+"",i,n,l;return{c(){e=L("button"),i=se(t),this.h()},l(r){e=T(r,"BUTTON",{class:!0,"aria-label":!0});var a=N(e);i=ie(a,t),a.forEach(d),this.h()},h(){m(e,"class","artists svelte-1b6fv9a"),m(e,"aria-label","Show Artists")},m(r,a){P(r,e,a),w(e,i),n||(l=Y(e,"touchstart",Ne(s[3]),{passive:!0}),n=!0)},p(r,a){a&2&&t!==(t=r[1].join(", ")+"")&&ge(i,t)},i:J,o:J,d(r){r&&d(e),n=!1,l()}}}function Tn(s){let e,t;return e=new Lt({props:{align:"top",$$slots:{activator:[Nn],default:[An]},$$scope:{ctx:s}}}),{c(){K(e.$$.fragment)},l(i){ee(e.$$.fragment,i)},m(i,n){Z(e,i,n),t=!0},p(i,n){const l={};n&130&&(l.$$scope={dirty:n,ctx:i}),e.$set(l)},i(i){t||(V(e.$$.fragment,i),t=!0)},o(i){C(e.$$.fragment,i),t=!1},d(i){x(e,i)}}}function es(s){let e,t=s[4]+"",i;return{c(){e=L("div"),i=se(t),this.h()},l(n){e=T(n,"DIV",{class:!0});var l=N(e);i=ie(l,t),l.forEach(d),this.h()},h(){m(e,"class","artist svelte-1b6fv9a")},m(n,l){P(n,e,l),w(e,i)},p(n,l){l&2&&t!==(t=n[4]+"")&&ge(i,t)},d(n){n&&d(e)}}}function An(s){let e,t=s[1],i=[];for(let n=0;n<t.length;n+=1)i[n]=es(xt(s,t,n));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();e=Ae()},l(n){for(let l=0;l<i.length;l+=1)i[l].l(n);e=Ae()},m(n,l){for(let r=0;r<i.length;r+=1)i[r].m(n,l);P(n,e,l)},p(n,l){if(l&2){t=n[1];let r;for(r=0;r<t.length;r+=1){const a=xt(n,t,r);i[r]?i[r].p(a,l):(i[r]=es(a),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},d(n){Oe(i,n),n&&d(e)}}}function Nn(s){let e,t=s[1].join(", ")+"",i,n,l;return{c(){e=L("button"),i=se(t),this.h()},l(r){e=T(r,"BUTTON",{slot:!0,class:!0,"aria-label":!0});var a=N(e);i=ie(a,t),a.forEach(d),this.h()},h(){m(e,"slot","activator"),m(e,"class","artists svelte-1b6fv9a"),m(e,"aria-label","Show Artists"),G(e,"active",!1)},m(r,a){P(r,e,a),w(e,i),n||(l=Y(e,"touchstart",Ne(s[2]),{passive:!0}),n=!0)},p(r,a){a&2&&t!==(t=r[1].join(", ")+"")&&ge(i,t)},d(r){r&&d(e),n=!1,l()}}}function ts(s){let e,t,i,n,l,r,a,o,c;const u=[Tn,Ln],f=[];function h(p,_){return p[1].length>1?0:1}return l=h(s),r=f[l]=u[l](s),{c(){e=L("div"),t=L("div"),i=se(s[0]),n=j(),r.c(),this.h()},l(p){e=T(p,"DIV",{class:!0});var _=N(e);t=T(_,"DIV",{class:!0});var b=N(t);i=ie(b,s[0]),b.forEach(d),n=Q(_),r.l(_),_.forEach(d),this.h()},h(){m(t,"class","title svelte-1b6fv9a"),m(e,"class","svelte-1b6fv9a")},m(p,_){P(p,e,_),w(e,t),w(t,i),w(e,n),f[l].m(e,null),c=!0},p(p,_){(!c||_&1)&&ge(i,p[0]);let b=l;l=h(p),l===b?f[l].p(p,_):(fe(),C(f[b],1,1,()=>{f[b]=null}),he(),r=f[l],r?r.p(p,_):(r=f[l]=u[l](p),r.c()),V(r,1),r.m(e,null))},i(p){c||(V(r),be(()=>{o&&o.end(1),a=Je(e,Me,{y:64}),a.start()}),c=!0)},o(p){C(r),a&&a.invalidate(),o=Ke(e,Le,{duration:200}),c=!1},d(p){p&&d(e),f[l].d(),p&&o&&o.end()}}}function In(s){let e,t=s[0]||s[1],i,n=ts(s);return{c(){e=L("div"),n.c(),this.h()},l(l){e=T(l,"DIV",{class:!0});var r=N(e);n.l(r),r.forEach(d),this.h()},h(){m(e,"class","info svelte-1b6fv9a")},m(l,r){P(l,e,r),n.m(e,null),i=!0},p(l,[r]){r&3&&oe(t,t=l[0]||l[1])?(fe(),C(n,1,1,J),he(),n=ts(l),n.c(),V(n),n.m(e,null)):n.p(l,r)},i(l){i||(V(n),i=!0)},o(l){C(n),i=!1},d(l){l&&d(e),n.d(l)}}}function Sn(s,e,t){let{title:i}=e,{artists:n=[]}=e;function l(a){Ce.call(this,s,a)}function r(a){Ce.call(this,s,a)}return s.$$set=a=>{"title"in a&&t(0,i=a.title),"artists"in a&&t(1,n=a.artists)},[i,n,l,r]}class Pn extends ue{constructor(e){super();ce(this,e,Sn,In,oe,{title:0,artists:1})}}function Vn(s){let e,t,i,n,l,r,a,o,c,u,f,h,p,_,b,y,v,A,g,I,k,E,q,z;function le(M){s[8](M)}function R(M){s[9](M)}let S={loading:s[3],hidden:s[5]};s[1]!==void 0&&(S.paused=s[1]),s[2]!==void 0&&(S.time=s[2]),t=new Ns({props:S}),re.push(()=>ve(t,"paused",le)),re.push(()=>ve(t,"time",R)),u=new Pn({props:{title:s[6].current.title,artists:s[6].current.artists}});function B(M){s[10](M)}let D={loading:s[3]};s[1]!==void 0&&(D.paused=s[1]),h=new Qi({props:D}),re.push(()=>ve(h,"paused",B));function W(M){s[11](M)}function U(M){s[12](M)}let $={length:s[6].current.length,visible:s[5]};s[0]!==void 0&&($.speedup=s[0]),s[2]!==void 0&&($.time=s[2]),b=new Wi({props:$}),re.push(()=>ve(b,"speedup",W)),re.push(()=>ve(b,"time",U));function O(M){s[13](M)}function H(M){s[14](M)}let F={loading:s[3]};return s[1]!==void 0&&(F.paused=s[1]),s[2]!==void 0&&(F.time=s[2]),g=new wn({props:F}),re.push(()=>ve(g,"paused",O)),re.push(()=>ve(g,"time",H)),{c(){e=L("div"),K(t.$$.fragment),l=j(),r=L("div"),a=L("div"),o=j(),c=L("div"),K(u.$$.fragment),f=j(),K(h.$$.fragment),_=j(),K(b.$$.fragment),A=j(),K(g.$$.fragment),this.h()},l(M){e=T(M,"DIV",{class:!0});var te=N(e);ee(t.$$.fragment,te),l=Q(te),r=T(te,"DIV",{class:!0});var ae=N(r);a=T(ae,"DIV",{class:!0}),N(a).forEach(d),o=Q(ae),c=T(ae,"DIV",{});var ye=N(c);ee(u.$$.fragment,ye),f=Q(ye),ee(h.$$.fragment,ye),ye.forEach(d),_=Q(ae),ee(b.$$.fragment,ae),A=Q(ae),ee(g.$$.fragment,ae),ae.forEach(d),te.forEach(d),this.h()},h(){m(a,"class","player-handle svelte-19h74ga"),m(r,"class","container svelte-19h74ga"),m(e,"class","player svelte-19h74ga"),G(e,"open",s[5]),G(e,"locked",s[4])},m(M,te){P(M,e,te),Z(t,e,null),w(e,l),w(e,r),w(r,a),w(r,o),w(r,c),Z(u,c,null),w(c,f),Z(h,c,null),w(r,_),Z(b,r,null),w(r,A),Z(g,r,null),E=!0,q||(z=[Ie(Et.call(null,e,{handle:".player-handle"})),Y(e,"open",s[15]),Y(e,"close",s[16])],q=!0)},p(M,[te]){const ae={};te&8&&(ae.loading=M[3]),te&32&&(ae.hidden=M[5]),!i&&te&2&&(i=!0,ae.paused=M[1],me(()=>i=!1)),!n&&te&4&&(n=!0,ae.time=M[2],me(()=>n=!1)),t.$set(ae);const ye={};te&64&&(ye.title=M[6].current.title),te&64&&(ye.artists=M[6].current.artists),u.$set(ye);const $e={};te&8&&($e.loading=M[3]),!p&&te&2&&(p=!0,$e.paused=M[1],me(()=>p=!1)),h.$set($e);const Pe={};te&64&&(Pe.length=M[6].current.length),te&32&&(Pe.visible=M[5]),!y&&te&1&&(y=!0,Pe.speedup=M[0],me(()=>y=!1)),!v&&te&4&&(v=!0,Pe.time=M[2],me(()=>v=!1)),b.$set(Pe);const ke={};te&8&&(ke.loading=M[3]),!I&&te&2&&(I=!0,ke.paused=M[1],me(()=>I=!1)),!k&&te&4&&(k=!0,ke.time=M[2],me(()=>k=!1)),g.$set(ke),te&32&&G(e,"open",M[5]),te&16&&G(e,"locked",M[4])},i(M){E||(V(t.$$.fragment,M),V(u.$$.fragment,M),V(h.$$.fragment,M),V(b.$$.fragment,M),V(g.$$.fragment,M),E=!0)},o(M){C(t.$$.fragment,M),C(u.$$.fragment,M),C(h.$$.fragment,M),C(b.$$.fragment,M),C(g.$$.fragment,M),E=!1},d(M){M&&d(e),x(t),x(u),x(h),x(b),x(g),q=!1,_e(z)}}}function qn(s,e,t){let i;Te(s,X,U=>t(6,i=U));let n=!1,l=!0,r=NaN,a=!0,o=!1,c=0,u,f=!1;const h=X.subscribe(async()=>{if(t(4,l=X.current===we),!!u)try{(X.firstToPlay||f||!a)&&(t(7,u.isPaused=!1,u),t(7,u.forcePlay=!0,u),f=!1),_(a),await u.play(X.current),X.upcoming&&u.cache(X.upcoming)}catch(U){u.debug&&console.log(U)}});let p="Amadeus";function _(U){if(!("document"in globalThis))return;const $=X.current;U||$===we?document.title=p:document.title=`${$.artists.join(", ")} - ${$.title}`}function b(){!u||u.isPaused&&!a&&f||a!=u.isPaused&&t(1,a=u.isPaused)}function y(){!u||n!=u.isLoading&&t(3,n=u.isLoading)}function v(){u&&X.upcoming&&(f=!0,X.next())}function A({detail:U}){t(2,c=U)}function g(){u&&X.upcoming&&X.next()}function I(){u&&X.history.length&&X.previous()}function k(U){a||u==null||u.speedup(Number.isNaN(U)?1:U)}nt(()=>{p=document.title,t(7,u=new ai),u.addEventListener("ended",v),u.addEventListener("next",g),u.addEventListener("previous",I),u.addEventListener("pausedchange",b),u.addEventListener("loadingchange",y),u.addEventListener("timeupdate",A)}),Xe(()=>{u==null||u.removeEventListener("ended",v),u==null||u.removeEventListener("next",g),u==null||u.removeEventListener("previous",I),u==null||u.removeEventListener("pausedchange",b),u==null||u.removeEventListener("loadingchange",y),u==null||u.removeEventListener("timeupdate",A),u==null||u.destroy(),h()});function E(U){a=U,t(1,a)}function q(U){c=U,t(2,c)}function z(U){a=U,t(1,a)}function le(U){r=U,t(0,r)}function R(U){c=U,t(2,c)}function S(U){a=U,t(1,a)}function B(U){c=U,t(2,c)}const D=()=>t(5,o=!0),W=()=>t(5,o=!1);return s.$$.update=()=>{s.$$.dirty&130&&(a?u==null||u.pause():u==null||u.resume()),s.$$.dirty&132&&(u==null||u.seek(c)),s.$$.dirty&1&&k(r),s.$$.dirty&2&&_(a)},[r,a,c,n,l,o,i,u,E,q,z,le,R,S,B,D,W]}class Cn extends ue{constructor(e){super();ce(this,e,qn,Vn,oe,{})}}function ss(s,e,t){const i=s.slice();return i[23]=e[t],i}function is(s,e,t){const i=s.slice();return i[23]=e[t],i}function On(s){let e,t,i,n=s[3].login+"",l,r,a,o,c=s[3].hostname+"",u,f,h,p,_;return{c(){e=L("ul"),t=L("li"),i=L("span"),l=se(n),r=j(),a=L("span"),o=se("\u2022 "),u=se(c),this.h()},l(b){e=T(b,"UL",{class:!0});var y=N(e);t=T(y,"LI",{class:!0});var v=N(t);i=T(v,"SPAN",{class:!0});var A=N(i);l=ie(A,n),r=Q(A),a=T(A,"SPAN",{class:!0});var g=N(a);o=ie(g,"\u2022 "),u=ie(g,c),g.forEach(d),A.forEach(d),v.forEach(d),y.forEach(d),this.h()},h(){m(a,"class","caption svelte-27lmz4"),m(i,"class","svelte-27lmz4"),m(t,"class","svelte-27lmz4"),m(e,"class","svelte-27lmz4")},m(b,y){P(b,e,y),w(e,t),w(t,i),w(i,l),w(i,r),w(i,a),w(a,o),w(a,u),h=!0,p||(_=Y(t,"click",s[10]),p=!0)},p(b,y){(!h||y&8)&&n!==(n=b[3].login+"")&&ge(l,n),(!h||y&8)&&c!==(c=b[3].hostname+"")&&ge(u,c)},i(b){h||(be(()=>{f||(f=pe(e,ut,{},!0)),f.run(1)}),h=!0)},o(b){f||(f=pe(e,ut,{},!1)),f.run(0),h=!1},d(b){b&&d(e),b&&f&&f.end(),p=!1,_()}}}function $n(s){let e,t,i,n,l,r,a,o,c,u,f,h,p,_=s[6]?"":"Connect",b,y,v,A,g,I,k=s[6]&&ns();return{c(){e=L("form"),t=L("ul"),i=L("li"),n=L("input"),l=j(),r=L("li"),a=L("input"),o=j(),c=L("li"),u=L("input"),f=j(),h=L("li"),p=L("button"),b=se(_),y=j(),k&&k.c(),this.h()},l(E){e=T(E,"FORM",{});var q=N(e);t=T(q,"UL",{class:!0});var z=N(t);i=T(z,"LI",{class:!0});var le=N(i);n=T(le,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),le.forEach(d),l=Q(z),r=T(z,"LI",{class:!0});var R=N(r);a=T(R,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),R.forEach(d),o=Q(z),c=T(z,"LI",{class:!0});var S=N(c);u=T(S,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),S.forEach(d),f=Q(z),h=T(z,"LI",{class:!0});var B=N(h);p=T(B,"BUTTON",{type:!0,class:!0});var D=N(p);b=ie(D,_),D.forEach(d),y=Q(B),k&&k.l(B),B.forEach(d),z.forEach(d),q.forEach(d),this.h()},h(){m(n,"type","url"),m(n,"name","hostname"),m(n,"placeholder","Hostname"),m(n,"class","svelte-27lmz4"),m(i,"class","svelte-27lmz4"),m(a,"type","text"),m(a,"name","login"),m(a,"placeholder","Login"),m(a,"class","svelte-27lmz4"),m(r,"class","svelte-27lmz4"),m(u,"type","password"),m(u,"name","password"),m(u,"placeholder","Password"),m(u,"class","svelte-27lmz4"),m(c,"class","svelte-27lmz4"),m(p,"type","submit"),m(p,"class","svelte-27lmz4"),m(h,"class","svelte-27lmz4"),m(t,"class","svelte-27lmz4"),e.noValidate=!0},m(E,q){P(E,e,q),w(e,t),w(t,i),w(i,n),qe(n,s[3].hostname),w(t,l),w(t,r),w(r,a),qe(a,s[3].login),w(t,o),w(t,c),w(c,u),qe(u,s[5]),w(t,f),w(t,h),w(h,p),w(p,b),w(h,y),k&&k.m(h,null),A=!0,g||(I=[Y(n,"input",s[16]),Y(a,"input",s[17]),Y(u,"input",s[18]),Y(p,"click",s[9]),Y(t,"touchstart",Ne(s[13])),Y(e,"submit",xe(s[12]))],g=!0)},p(E,q){q&24&&qe(n,E[3].hostname),q&24&&a.value!==E[3].login&&qe(a,E[3].login),q&32&&u.value!==E[5]&&qe(u,E[5]),(!A||q&64)&&_!==(_=E[6]?"":"Connect")&&ge(b,_),E[6]?k?q&64&&V(k,1):(k=ns(),k.c(),V(k,1),k.m(h,null)):k&&(fe(),C(k,1,1,()=>{k=null}),he())},i(E){A||(V(k),be(()=>{v||(v=pe(t,ut,{},!0)),v.run(1)}),A=!0)},o(E){C(k),v||(v=pe(t,ut,{},!1)),v.run(0),A=!1},d(E){E&&d(e),k&&k.d(),E&&v&&v.end(),g=!1,_e(I)}}}function ns(s){let e,t,i;return t=new lt({props:{size:40}}),{c(){e=L("div"),K(t.$$.fragment),this.h()},l(n){e=T(n,"DIV",{class:!0});var l=N(e);ee(t.$$.fragment,l),l.forEach(d),this.h()},h(){m(e,"class","loader svelte-27lmz4")},m(n,l){P(n,e,l),Z(t,e,null),i=!0},i(n){i||(V(t.$$.fragment,n),i=!0)},o(n){C(t.$$.fragment,n),i=!1},d(n){n&&d(e),x(t)}}}function ls(s){let e,t=s[23]+"",i,n;return{c(){e=L("option"),i=se(t),this.h()},l(l){e=T(l,"OPTION",{});var r=N(e);i=ie(r,t),r.forEach(d),this.h()},h(){e.__value=n=s[23],e.value=e.__value},m(l,r){P(l,e,r),w(e,i)},p(l,r){r&16&&t!==(t=l[23]+"")&&ge(i,t),r&16&&n!==(n=l[23])&&(e.__value=n,e.value=e.__value)},d(l){l&&d(e)}}}function rs(s){let e,t=s[23]+"",i,n;return{c(){e=L("option"),i=se(t),this.h()},l(l){e=T(l,"OPTION",{});var r=N(e);i=ie(r,t),r.forEach(d),this.h()},h(){e.__value=n=s[23],e.value=e.__value},m(l,r){P(l,e,r),w(e,i)},p:J,d(l){l&&d(e)}}}function Mn(s){let e,t,i,n,l,r,a,o,c,u,f,h,p,_,b,y,v,A,g,I,k,E,q,z;const le=[$n,On],R=[];function S($,O){return $[3].hostname&&$[3].login&&$[3].token?1:0}a=S(s),o=R[a]=le[a](s);let B=s[4],D=[];for(let $=0;$<B.length;$+=1)D[$]=ls(is(s,B,$));let W=Object.values(_t),U=[];for(let $=0;$<W.length;$+=1)U[$]=rs(ss(s,W,$));return{c(){e=L("section"),t=L("div"),i=j(),n=L("h1"),l=se("Settings"),r=j(),o.c(),c=j(),u=L("ul"),f=L("li"),h=L("label"),p=se("Default Playlist"),_=j(),b=L("select");for(let $=0;$<D.length;$+=1)D[$].c();y=j(),v=L("li"),A=L("label"),g=se("Quick Action"),I=j(),k=L("select");for(let $=0;$<U.length;$+=1)U[$].c();this.h()},l($){e=T($,"SECTION",{style:!0,class:!0});var O=N(e);t=T(O,"DIV",{class:!0}),N(t).forEach(d),i=Q(O),n=T(O,"H1",{});var H=N(n);l=ie(H,"Settings"),H.forEach(d),r=Q(O),o.l(O),c=Q(O),u=T(O,"UL",{class:!0});var F=N(u);f=T(F,"LI",{class:!0});var M=N(f);h=T(M,"LABEL",{for:!0,class:!0});var te=N(h);p=ie(te,"Default Playlist"),te.forEach(d),_=Q(M),b=T(M,"SELECT",{id:!0,class:!0});var ae=N(b);for(let ke=0;ke<D.length;ke+=1)D[ke].l(ae);ae.forEach(d),M.forEach(d),y=Q(F),v=T(F,"LI",{class:!0});var ye=N(v);A=T(ye,"LABEL",{for:!0,class:!0});var $e=N(A);g=ie($e,"Quick Action"),$e.forEach(d),I=Q(ye),k=T(ye,"SELECT",{id:!0,class:!0});var Pe=N(k);for(let ke=0;ke<U.length;ke+=1)U[ke].l(Pe);Pe.forEach(d),ye.forEach(d),F.forEach(d),O.forEach(d),this.h()},h(){m(t,"class","settings-handle svelte-27lmz4"),m(h,"for","select-playlist"),m(h,"class","svelte-27lmz4"),m(b,"id","select-playlist"),m(b,"class","svelte-27lmz4"),s[3].defaultPlaylist===void 0&&be(()=>s[19].call(b)),m(f,"class","svelte-27lmz4"),m(A,"for","select-quick-action"),m(A,"class","svelte-27lmz4"),m(k,"id","select-quick-action"),m(k,"class","svelte-27lmz4"),m(v,"class","svelte-27lmz4"),m(u,"class","svelte-27lmz4"),ne(e,"opacity",+s[0]),m(e,"class","svelte-27lmz4")},m($,O){P($,e,O),w(e,t),s[15](t),w(e,i),w(e,n),w(n,l),w(e,r),R[a].m(e,null),w(e,c),w(e,u),w(u,f),w(f,h),w(h,p),w(f,_),w(f,b);for(let H=0;H<D.length;H+=1)D[H].m(b,null);Ct(b,s[3].defaultPlaylist),w(u,y),w(u,v),w(v,A),w(A,g),w(v,I),w(v,k);for(let H=0;H<U.length;H+=1)U[H].m(k,null);s[20](e),E=!0,q||(z=[Y(t,"click",Ne(s[14])),Y(b,"change",s[19]),Ie(Et.call(null,e,{gap:16,handle:".settings-handle"})),Y(e,"open",s[21]),Y(e,"close",s[22])],q=!0)},p($,[O]){let H=a;if(a=S($),a===H?R[a].p($,O):(fe(),C(R[H],1,1,()=>{R[H]=null}),he(),o=R[a],o?o.p($,O):(o=R[a]=le[a]($),o.c()),V(o,1),o.m(e,c)),O&16){B=$[4];let F;for(F=0;F<B.length;F+=1){const M=is($,B,F);D[F]?D[F].p(M,O):(D[F]=ls(M),D[F].c(),D[F].m(b,null))}for(;F<D.length;F+=1)D[F].d(1);D.length=B.length}if(O&24&&Ct(b,$[3].defaultPlaylist),O&0){W=Object.values(_t);let F;for(F=0;F<W.length;F+=1){const M=ss($,W,F);U[F]?U[F].p(M,O):(U[F]=rs(M),U[F].c(),U[F].m(k,null))}for(;F<U.length;F+=1)U[F].d(1);U.length=W.length}(!E||O&1)&&ne(e,"opacity",+$[0])},i($){E||(V(o),E=!0)},o($){C(o),E=!1},d($){$&&d(e),s[15](null),R[a].d(),Oe(D,$),Oe(U,$),s[20](null),q=!1,_e(z)}}}function Dn(s,e,t){let i,n,l;Te(s,Se,R=>t(3,i=R));let{open:r=!1}=e,a,o,c,u=!1,f=st.list();Te(s,f,R=>t(4,n=R));let h=st.loaded;Te(s,h,R=>t(11,l=R));async function p(){if(!c||!i.login||!i.hostname)return;const R=new Fs("SHA-1","TEXT");R.update(c);const S=R.getHash("B64");t(6,u=!0),await ti(S)?ft(Se,i.token=S,i):_(),t(6,u=!1)}function _(){t(5,c=""),ft(Se,i.token="",i)}function b(R){Ce.call(this,s,R)}function y(R){Ce.call(this,s,R)}function v(R){Ce.call(this,s,R)}function A(R){re[R?"unshift":"push"](()=>{o=R,t(2,o)})}function g(){i.hostname=this.value,Se.set(i)}function I(){i.login=this.value,Se.set(i)}function k(){c=this.value,t(5,c)}function E(){i.defaultPlaylist=Qs(this),Se.set(i)}function q(R){re[R?"unshift":"push"](()=>{a=R,t(1,a)})}const z=()=>t(0,r=!0),le=()=>t(0,r=!1);return s.$$set=R=>{"open"in R&&t(0,r=R.open)},s.$$.update=()=>{s.$$.dirty&7&&(r?a==null||a.click():o==null||o.click()),s.$$.dirty&2072&&i.token&&!i.defaultPlaylist&&l&&ft(Se,i.defaultPlaylist=n[0],i)},[r,a,o,i,n,c,u,f,h,p,_,l,b,y,v,A,g,I,k,E,q,z,le]}class Bn extends ue{constructor(e){super();ce(this,e,Dn,Mn,oe,{open:0})}}function Un(s){async function e(){const i=navigator.standalone?31:0,n=s.getBoundingClientRect(),l=innerWidth/2-n.width/2-n.x,r=innerHeight/2-n.height/2-n.y+i,a=innerWidth/n.width,o=(innerHeight-i)/n.height,c=`translate3d(${l}px, ${r}px, 0) scale(${a}, ${o})`;s.style.transform=c,s.style.zIndex="100";const u=`translateZ(0) scale(${1/a}, ${1/o})`;s.childNodes.forEach(f=>{f.nodeType==f.ELEMENT_NODE&&(f.style.transform=u)}),document.body.classList.add("focused")}function t(){s.childNodes.forEach(n=>{n.nodeType==n.ELEMENT_NODE&&(n.style.transform="none")}),s.style.transform="none";const i=parseFloat(getComputedStyle(s).transitionDuration);setTimeout(()=>{s.style.zIndex=null},i*1e3),document.body.classList.remove("focused")}return s.addEventListener("expand",e),s.addEventListener("retract",t),{destroy(){s.removeEventListener("expand",e),s.removeEventListener("retract",t)}}}function zn(s){return{c:J,l:J,m:J,p:J,i:J,o:J,d:J}}function Hn(s){let e,t=s[11]+"",i,n;return{c(){e=L("span"),i=se(t)},l(l){e=T(l,"SPAN",{});var r=N(e);i=ie(r,t),r.forEach(d)},m(l,r){P(l,e,r),w(e,i)},p(l,r){s=l,r&2&&t!==(t=s[11]+"")&&ge(i,t)},i(l){n||be(()=>{n=Je(e,Le,s[4]),n.start()})},o:J,d(l){l&&d(e)}}}function jn(s){let e,t,i,n;return{c(){e=L("span"),t=se("Loading..."),this.h()},l(l){e=T(l,"SPAN",{class:!0});var r=N(e);t=ie(r,"Loading..."),r.forEach(d),this.h()},h(){m(e,"class","loading svelte-gudq3p")},m(l,r){P(l,e,r),w(e,t),n=!0},p:J,i(l){n||(i&&i.end(1),n=!0)},o(l){i=Ke(e,Le,{duration:300}),n=!1},d(l){l&&d(e),l&&i&&i.end()}}}function Qn(s){let e,t,i,n,l,r,a,o,c,u,f,h={ctx:s,current:null,token:null,hasCatch:!1,pending:jn,then:Hn,catch:zn,value:11,blocks:[,,,]};ot(l=s[1],h);const p=s[6].default,_=He(p,s,s[5],null);return{c(){e=L("article"),t=L("div"),i=L("div"),n=L("h2"),h.block.c(),r=j(),a=L("button"),o=j(),_&&_.c(),this.h()},l(b){e=T(b,"ARTICLE",{style:!0,class:!0});var y=N(e);t=T(y,"DIV",{class:!0});var v=N(t);i=T(v,"DIV",{class:!0});var A=N(i);n=T(A,"H2",{class:!0});var g=N(n);h.block.l(g),g.forEach(d),r=Q(A),a=T(A,"BUTTON",{"aria-label":!0,class:!0}),N(a).forEach(d),A.forEach(d),o=Q(v),_&&_.l(v),v.forEach(d),y.forEach(d),this.h()},h(){m(n,"class","svelte-gudq3p"),m(a,"aria-label","Minimize"),m(a,"class","svelte-gudq3p"),G(a,"hidden",!s[0]),m(i,"class","header svelte-gudq3p"),m(t,"class","container svelte-gudq3p"),ne(e,"--height",s[2]+"px"),m(e,"class","svelte-gudq3p"),G(e,"opened",s[0])},m(b,y){P(b,e,y),w(e,t),w(t,i),w(i,n),h.block.m(n,h.anchor=null),h.mount=()=>n,h.anchor=null,w(i,r),w(i,a),w(t,o),_&&_.m(t,null),s[9](e),c=!0,u||(f=[Y(a,"click",Ne(s[8])),Ie(Un.call(null,e)),Y(e,"click",s[7])],u=!0)},p(b,[y]){s=b,h.ctx=s,y&2&&l!==(l=s[1])&&ot(l,h)||Ts(h,s,y),y&1&&G(a,"hidden",!s[0]),_&&_.p&&(!c||y&32)&&Be(_,p,s,s[5],c?ze(p,s[5],y,null):Ue(s[5]),null),(!c||y&4)&&ne(e,"--height",s[2]+"px"),y&1&&G(e,"opened",s[0])},i(b){c||(V(h.block),V(_,b),c=!0)},o(b){for(let y=0;y<3;y+=1){const v=h.blocks[y];C(v)}C(_,b),c=!1},d(b){b&&d(e),h.block.d(),h.token=null,h=null,_&&_.d(b),s[9](null),u=!1,_e(f)}}}function Fn(s,e,t){let{$$slots:i={},$$scope:n}=e,l,{title:r}=e,{opened:a=null}=e,{height:o}=e;const c={delay:typeof r=="string"?0:300,duration:typeof r=="string"?0:300};function u(){t(0,a=!a)}nt(()=>{l&&a===null&&l.addEventListener("click",u)}),Xe(()=>{l==null||l.removeEventListener("click",u)});function f(_){Ce.call(this,s,_)}const h=()=>t(0,a=!1);function p(_){re[_?"unshift":"push"](()=>{l=_,t(3,l)})}return s.$$set=_=>{"title"in _&&t(1,r=_.title),"opened"in _&&t(0,a=_.opened),"height"in _&&t(2,o=_.height),"$$scope"in _&&t(5,n=_.$$scope)},s.$$.update=()=>{s.$$.dirty&9&&(a?l==null||l.dispatchEvent(new Event("expand")):l==null||l.dispatchEvent(new Event("retract")))},[a,r,o,l,c,n,i,f,h,p]}class Ps extends ue{constructor(e){super();ce(this,e,Fn,Qn,oe,{title:1,opened:0,height:2})}}function Rn(s){let e,t,i,n,l,r,a,o;return i=new it({}),r=new it({}),{c(){e=L("div"),t=L("div"),K(i.$$.fragment),n=j(),l=L("div"),K(r.$$.fragment),this.h()},l(c){e=T(c,"DIV",{class:!0});var u=N(e);t=T(u,"DIV",{class:!0});var f=N(t);ee(i.$$.fragment,f),f.forEach(d),n=Q(u),l=T(u,"DIV",{class:!0});var h=N(l);ee(r.$$.fragment,h),h.forEach(d),u.forEach(d),this.h()},h(){m(t,"class","track svelte-1dtm44"),m(l,"class","track svelte-1dtm44"),m(e,"class","container svelte-1dtm44")},m(c,u){P(c,e,u),w(e,t),Z(i,t,null),w(e,n),w(e,l),Z(r,l,null),o=!0},p:J,i(c){o||(V(i.$$.fragment,c),V(r.$$.fragment,c),a&&a.end(1),o=!0)},o(c){C(i.$$.fragment,c),C(r.$$.fragment,c),a=Ke(e,Le,{duration:300}),o=!1},d(c){c&&d(e),x(i),x(r),c&&a&&a.end()}}}function Yn(s){let e,t,i,n,l=as(s[5])+"",r,a,o,c,u;return t=new Nt({props:{items:s[5],container:s[3],itemHeight:Zn,viewport:s[2],$$slots:{default:[Gn,({item:f,index:h})=>({18:f,19:h}),({item:f,index:h})=>(f?262144:0)|(h?524288:0)]},$$scope:{ctx:s}}}),{c(){e=L("div"),K(t.$$.fragment),i=j(),n=L("p"),r=se(l),this.h()},l(f){e=T(f,"DIV",{class:!0});var h=N(e);ee(t.$$.fragment,h),i=Q(h),n=T(h,"P",{});var p=N(n);r=ie(p,l),p.forEach(d),h.forEach(d),this.h()},h(){m(e,"class","container svelte-1dtm44")},m(f,h){P(f,e,h),Z(t,e,null),w(e,i),w(e,n),w(n,r),s[14](e),o=!0,c||(u=[Y(e,"swap",s[10]),Ie(Ss.call(null,e,{offsetTop:s[11]?46.5:0,offsetLeft:8,offsetBottom:s[11]?114:92,margin:0}))],c=!0)},p(f,h){const p={};h&32&&(p.items=f[5]),h&8&&(p.container=f[3]),h&4&&(p.viewport=f[2]),h&1835010&&(p.$$scope={dirty:h,ctx:f}),t.$set(p),(!o||h&32)&&l!==(l=as(f[5])+"")&&ge(r,l)},i(f){o||(V(t.$$.fragment,f),a||be(()=>{a=Je(e,Le,{delay:300}),a.start()}),o=!0)},o(f){C(t.$$.fragment,f),o=!1},d(f){f&&d(e),x(t),s[14](null),c=!1,_e(u)}}}function Gn(s){let e,t,i,n,l,r;t=new it({props:{track:s[18]}}),t.$on("play",s[12]);function a(...o){return s[13](s[18],...o)}return{c(){e=L("div"),K(t.$$.fragment),this.h()},l(o){e=T(o,"DIV",{class:!0,"data-index":!0});var c=N(e);ee(t.$$.fragment,c),c.forEach(d),this.h()},h(){m(e,"class","track svelte-1dtm44"),m(e,"data-index",i=s[19]),G(e,"tapped",!1),G(e,"dragging",!1)},m(o,c){P(o,e,c),Z(t,e,null),n=!0,l||(r=[Ie(At.call(null,e)),Y(e,"click",a)],l=!0)},p(o,c){s=o;const u={};c&262144&&(u.track=s[18]),t.$set(u),(!n||c&524288&&i!==(i=s[19]))&&m(e,"data-index",i)},i(o){n||(V(t.$$.fragment,o),n=!0)},o(o){C(t.$$.fragment,o),n=!1},d(o){o&&d(e),x(t),l=!1,_e(r)}}}function Wn(s){let e,t,i,n,l,r,a,o,c;return{c(){e=L("button"),t=j(),i=L("button"),n=j(),l=L("button"),r=j(),a=L("button"),this.h()},l(u){e=T(u,"BUTTON",{class:!0,"aria-label":!0}),N(e).forEach(d),t=Q(u),i=T(u,"BUTTON",{class:!0,"aria-label":!0}),N(i).forEach(d),n=Q(u),l=T(u,"BUTTON",{class:!0,"aria-label":!0}),N(l).forEach(d),r=Q(u),a=T(u,"BUTTON",{class:!0,"aria-label":!0}),N(a).forEach(d),this.h()},h(){m(e,"class","option edit svelte-1dtm44"),m(e,"aria-label","Edit Playlist"),G(e,"active",!1),m(i,"class","option next svelte-1dtm44"),m(i,"aria-label","Queue Next"),m(l,"class","option last svelte-1dtm44"),m(l,"aria-label","Queue Last"),m(a,"class","option shuffle svelte-1dtm44"),m(a,"aria-label","Play Shuffled")},m(u,f){P(u,e,f),P(u,t,f),P(u,i,f),P(u,n,f),P(u,l,f),P(u,r,f),P(u,a,f),o||(c=[Y(i,"click",s[8]),Y(l,"click",s[9]),Y(a,"click",s[7])],o=!0)},p:J,d(u){u&&d(e),u&&d(t),u&&d(i),u&&d(n),u&&d(l),u&&d(r),u&&d(a),o=!1,_e(c)}}}function Xn(s){let e;return{c(){e=L("button"),this.h()},l(t){e=T(t,"BUTTON",{slot:!0,class:!0,"aria-label":!0}),N(e).forEach(d),this.h()},h(){m(e,"slot","activator"),m(e,"class","options play svelte-1dtm44"),m(e,"aria-label","Play Options"),G(e,"active",!1)},m(t,i){P(t,e,i)},p:J,d(t){t&&d(e)}}}function Jn(s){let e,t,i,n,l,r,a,o;const c=[Yn,Rn],u=[];function f(h,p){return h[5]?0:1}return t=f(s),i=u[t]=c[t](s),l=new Lt({props:{$$slots:{activator:[Xn],default:[Wn]},$$scope:{ctx:s}}}),{c(){e=L("div"),i.c(),n=j(),K(l.$$.fragment),this.h()},l(h){e=T(h,"DIV",{class:!0});var p=N(e);i.l(p),p.forEach(d),n=Q(h),ee(l.$$.fragment,h),this.h()},h(){m(e,"class","viewport svelte-1dtm44"),G(e,"opened",s[1])},m(h,p){P(h,e,p),u[t].m(e,null),s[15](e),P(h,n,p),Z(l,h,p),r=!0,a||(o=Ie(Tt.call(null,e,{header:"h2"})),a=!0)},p(h,p){let _=t;t=f(h),t===_?u[t].p(h,p):(fe(),C(u[_],1,1,()=>{u[_]=null}),he(),i=u[t],i?i.p(h,p):(i=u[t]=c[t](h),i.c()),V(i,1),i.m(e,null)),p&2&&G(e,"opened",h[1]);const b={};p&1048576&&(b.$$scope={dirty:p,ctx:h}),l.$set(b)},i(h){r||(V(i),V(l.$$.fragment,h),r=!0)},o(h){C(i),C(l.$$.fragment,h),r=!1},d(h){h&&d(e),u[t].d(),s[15](null),h&&d(n),x(l,h),a=!1,o()}}}function Kn(s){let e,t,i;function n(r){s[16](r)}let l={title:s[0].title,height:115,$$slots:{default:[Jn]},$$scope:{ctx:s}};return s[1]!==void 0&&(l.opened=s[1]),e=new Ps({props:l}),re.push(()=>ve(e,"opened",n)),e.$on("click",s[17]),{c(){K(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,a){Z(e,r,a),i=!0},p(r,[a]){const o={};a&1&&(o.title=r[0].title),a&1048622&&(o.$$scope={dirty:a,ctx:r}),!t&&a&2&&(t=!0,o.opened=r[1],me(()=>t=!1)),e.$set(o)},i(r){i||(V(e.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),i=!1},d(r){x(e,r)}}}const Zn=56;function xn(s){let e=Math.floor(s/3600),t=Math.floor(s%3600/60),i=Math.floor(s%3600%60);t+=Math.round(i/60);let n=e>0?e+(e==1?" hour ":" hours "):"",l=t>0?t+(t==1?" minute ":" minutes"):"";return n+l}function as(s){if(!s||!s.length)return"";const e=s.length,t=s.reduce((i,n)=>i+n.length,0);return`${e} ${e==1?"song":"songs"}, ${xn(t)}`}function el(s,e,t){let i,n,l=J,r=()=>(l(),l=Rs(i,q=>t(5,n=q)),i);s.$$.on_destroy.push(()=>l());let{playlist:a}=e,o=!1;async function c(q){if(!n)return;const z=n.indexOf(q);!~z||(X.clear(),X.pushPlaylist(et(n),z))}async function u(){!n||(X.clear(),X.pushPlaylist(et(n)),X.direct(de.Shuffled))}async function f(){!n||X.pushNext(...et(n))}async function h(){!n||X.pushLast(...et(n))}function p({detail:q}){if(!n)return;const{from:z,to:le}=q;if(z<0||z>=n.length||le<0||le>=n.length||z===le)return;const R=n.splice(z,1)[0];!R||(n.splice(le,0,R),i.set(n))}const _=!!navigator.standalone;let b,y;const v=({detail:q})=>c(q),A=(q,z)=>{!o||(z.stopPropagation(),c(q))};function g(q){re[q?"unshift":"push"](()=>{y=q,t(3,y)})}function I(q){re[q?"unshift":"push"](()=>{b=q,t(2,b)})}function k(q){o=q,t(1,o)}const E=()=>o||!n||t(1,o=!o);return s.$$set=q=>{"playlist"in q&&t(0,a=q.playlist)},s.$$.update=()=>{s.$$.dirty&1&&r(t(4,i=a.tracks)),s.$$.dirty&6&&!o&&b&&b.scrollTo(0,0)},[a,o,b,y,i,n,c,u,f,h,p,_,v,A,g,I,k,E]}class It extends ue{constructor(e){super();ce(this,e,el,Kn,oe,{playlist:0})}}const tl=s=>({}),os=s=>({});function us(s,e,t){const i=s.slice();return i[14]=e[t],i[16]=t,i}function cs(s){let e,t=s[14]+"",i,n,l,r,a,o;function c(){return s[8](s[16])}return{c(){e=L("button"),i=se(t),n=j(),this.h()},l(u){e=T(u,"BUTTON",{tabindex:!0,"aria-label":!0,alt:!0,class:!0});var f=N(e);i=ie(f,t),n=Q(f),f.forEach(d),this.h()},h(){m(e,"tabindex","0"),m(e,"aria-label",l=s[14]),m(e,"alt",r=s[14]),m(e,"class","svelte-1y3pjko"),G(e,"active",s[1]===s[16])},m(u,f){P(u,e,f),w(e,i),w(e,n),a||(o=Y(e,"click",c),a=!0)},p(u,f){s=u,f&1&&t!==(t=s[14]+"")&&ge(i,t),f&1&&l!==(l=s[14])&&m(e,"aria-label",l),f&1&&r!==(r=s[14])&&m(e,"alt",r),f&2&&G(e,"active",s[1]===s[16])},d(u){u&&d(e),a=!1,o()}}}function sl(s){let e,t,i,n,l,r,a,o=s[0],c=[];for(let _=0;_<o.length;_+=1)c[_]=cs(us(s,o,_));const u=s[7].search,f=He(u,s,s[6],os),h=s[7].default,p=He(h,s,s[6],null);return{c(){e=L("header");for(let _=0;_<c.length;_+=1)c[_].c();t=j(),f&&f.c(),i=j(),n=L("nav"),p&&p.c(),this.h()},l(_){e=T(_,"HEADER",{class:!0});var b=N(e);for(let v=0;v<c.length;v+=1)c[v].l(b);b.forEach(d),t=Q(_),f&&f.l(_),i=Q(_),n=T(_,"NAV",{class:!0});var y=N(n);p&&p.l(y),y.forEach(d),this.h()},h(){m(e,"class","svelte-1y3pjko"),m(n,"class","svelte-1y3pjko")},m(_,b){P(_,e,b);for(let y=0;y<c.length;y+=1)c[y].m(e,null);s[9](e),P(_,t,b),f&&f.m(_,b),P(_,i,b),P(_,n,b),p&&p.m(n,null),s[10](n),l=!0,r||(a=Y(n,"scroll",s[4]),r=!0)},p(_,[b]){if(b&35){o=_[0];let y;for(y=0;y<o.length;y+=1){const v=us(_,o,y);c[y]?c[y].p(v,b):(c[y]=cs(v),c[y].c(),c[y].m(e,null))}for(;y<c.length;y+=1)c[y].d(1);c.length=o.length}f&&f.p&&(!l||b&64)&&Be(f,u,_,_[6],l?ze(u,_[6],b,tl):Ue(_[6]),os),p&&p.p&&(!l||b&64)&&Be(p,h,_,_[6],l?ze(h,_[6],b,null):Ue(_[6]),null)},i(_){l||(V(f,_),V(p,_),l=!0)},o(_){C(f,_),C(p,_),l=!1},d(_){_&&d(e),Oe(c,_),s[9](null),_&&d(t),f&&f.d(_),_&&d(i),_&&d(n),p&&p.d(_),s[10](null),r=!1,a()}}}function il(s,e,t){let{$$slots:i={},$$scope:n}=e,{sections:l=[]}=e,r=0,a,o,c=new Map;async function u(v=r){if(!o)return;const A={time:200,align:{left:0},cancellable:!0,validTarget:I=>I===a||I===o};async function g(I){const k=I.children[v];I.style.scrollSnapType="none",c.set(I,(c.get(I)||0)+1),pt(k,A,()=>{if(c.set(I,(c.get(I)||0)-1),!c.get(I)){const E=I.scrollLeft;I.style.scrollSnapType=null,I.scrollTo(E,0)}})}g(o),v!=h()&&g(a)}function f(){const v=h();!c.get(a)&&r!=v&&t(1,r=v)}function h(){return Math.round(a.scrollLeft/a.clientWidth)}function p(v){r===v?pt(a.children[r].firstElementChild,{time:200}):t(1,r=v)}const _=v=>p(v);function b(v){re[v?"unshift":"push"](()=>{o=v,t(3,o)})}function y(v){re[v?"unshift":"push"](()=>{a=v,t(2,a)})}return s.$$set=v=>{"sections"in v&&t(0,l=v.sections),"$$scope"in v&&t(6,n=v.$$scope)},s.$$.update=()=>{s.$$.dirty&2&&u(r)},[l,r,a,o,f,p,n,i,_,b,y]}class nl extends ue{constructor(e){super();ce(this,e,il,sl,oe,{sections:0})}}function fs(s){let e,t,i,n,l;return{c(){e=L("button"),this.h()},l(r){e=T(r,"BUTTON",{class:!0,"aria-label":!0}),N(e).forEach(d),this.h()},h(){m(e,"class","cancel svelte-pjweam"),m(e,"aria-label","Close Search")},m(r,a){P(r,e,a),i=!0,n||(l=Y(e,"click",s[10]),n=!0)},p:J,i(r){i||(be(()=>{t||(t=pe(e,Le,{duration:200},!0)),t.run(1)}),i=!0)},o(r){t||(t=pe(e,Le,{duration:200},!1)),t.run(0),i=!1},d(r){r&&d(e),r&&t&&t.end(),n=!1,l()}}}function ll(s){let e,t,i,n,l,r,a,o,c,u=s[2]&&fs(s);return{c(){e=L("div"),t=L("input"),n=j(),l=L("i"),r=j(),u&&u.c(),this.h()},l(f){e=T(f,"DIV",{class:!0});var h=N(e);t=T(h,"INPUT",{type:!0,placeholder:!0,tabindex:!0,class:!0}),n=Q(h),l=T(h,"I",{class:!0}),N(l).forEach(d),r=Q(h),u&&u.l(h),h.forEach(d),this.h()},h(){m(t,"type","text"),m(t,"placeholder","Search"),m(t,"tabindex",i=s[3]?0:-1),m(t,"class","svelte-pjweam"),m(l,"class","search svelte-pjweam"),m(e,"class","svelte-pjweam"),G(e,"visible",s[3])},m(f,h){P(f,e,h),w(e,t),qe(t,s[2]),s[8](t),w(e,n),w(e,l),w(e,r),u&&u.m(e,null),a=!0,o||(c=[Y(window,"touchstart",s[5]),Y(window,"touchend",s[6]),Y(t,"input",s[7]),Y(t,"focusout",s[9])],o=!0)},p(f,[h]){(!a||h&8&&i!==(i=f[3]?0:-1))&&m(t,"tabindex",i),h&4&&t.value!==f[2]&&qe(t,f[2]),f[2]?u?(u.p(f,h),h&4&&V(u,1)):(u=fs(f),u.c(),V(u,1),u.m(e,null)):u&&(fe(),C(u,1,1,()=>{u=null}),he()),h&8&&G(e,"visible",f[3])},i(f){a||(V(u),a=!0)},o(f){C(u),a=!1},d(f){f&&d(e),s[8](null),u&&u.d(),o=!1,_e(c)}}}function rl(s,e,t){let{drag:i}=e,n,l="",r=!1,a=!1;const o=()=>t(0,a=!0),c=()=>t(0,a=!1)||r&&n.focus();function u(){l=this.value,t(2,l)}function f(_){re[_?"unshift":"push"](()=>{n=_,t(1,n)})}const h=()=>{t(3,r=!1),t(2,l="")},p=()=>t(2,l="");return s.$$set=_=>{"drag"in _&&t(4,i=_.drag)},s.$$.update=()=>{s.$$.dirty&17&&a&&i<-50&&t(3,r=!0)},[a,n,l,r,i,o,c,u,f,h,p]}class al extends ue{constructor(e){super();ce(this,e,rl,ll,oe,{drag:4})}}function hs(s,e,t){const i=s.slice();return i[10]=e[t],i}function ds(s,e,t){const i=s.slice();return i[10]=e[t],i}function ps(s,e,t){const i=s.slice();return i[10]=e[t],i}function ol(s){let e,t,i;return t=new lt({props:{size:64,color:"var(--color-text-caption)"}}),{c(){e=L("div"),K(t.$$.fragment),this.h()},l(n){e=T(n,"DIV",{class:!0});var l=N(e);ee(t.$$.fragment,l),l.forEach(d),this.h()},h(){m(e,"class","loader svelte-pyvlpb")},m(n,l){P(n,e,l),Z(t,e,null),i=!0},p:J,i(n){i||(V(t.$$.fragment,n),i=!0)},o(n){C(t.$$.fragment,n),i=!1},d(n){n&&d(e),x(t)}}}function ul(s){let e,t,i=s[1],n=[];for(let r=0;r<i.length;r+=1)n[r]=_s(ps(s,i,r));const l=r=>C(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Ae()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=Ae()},m(r,a){for(let o=0;o<n.length;o+=1)n[o].m(r,a);P(r,e,a),t=!0},p(r,a){if(a&2){i=r[1];let o;for(o=0;o<i.length;o+=1){const c=ps(r,i,o);n[o]?(n[o].p(c,a),V(n[o],1)):(n[o]=_s(c),n[o].c(),V(n[o],1),n[o].m(e.parentNode,e))}for(fe(),o=i.length;o<n.length;o+=1)l(o);he()}},i(r){if(!t){for(let a=0;a<i.length;a+=1)V(n[a]);t=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)C(n[a]);t=!1},d(r){Oe(n,r),r&&d(e)}}}function _s(s){let e,t;return e=new It({props:{playlist:s[10]}}),{c(){K(e.$$.fragment)},l(i){ee(e.$$.fragment,i)},m(i,n){Z(e,i,n),t=!0},p(i,n){const l={};n&2&&(l.playlist=i[10]),e.$set(l)},i(i){t||(V(e.$$.fragment,i),t=!0)},o(i){C(e.$$.fragment,i),t=!1},d(i){x(e,i)}}}function cl(s){let e,t,i;return t=new lt({props:{size:64,color:"var(--color-text-caption)"}}),{c(){e=L("div"),K(t.$$.fragment),this.h()},l(n){e=T(n,"DIV",{class:!0});var l=N(e);ee(t.$$.fragment,l),l.forEach(d),this.h()},h(){m(e,"class","loader svelte-pyvlpb")},m(n,l){P(n,e,l),Z(t,e,null),i=!0},p:J,i(n){i||(V(t.$$.fragment,n),i=!0)},o(n){C(t.$$.fragment,n),i=!1},d(n){n&&d(e),x(t)}}}function fl(s){let e,t,i,n=s[2],l=[];for(let u=0;u<n.length;u+=1)l[u]=ms(ds(s,n,u));const r=u=>C(l[u],1,1,()=>{l[u]=null});let a=s[3],o=[];for(let u=0;u<a.length;u+=1)o[u]=vs(hs(s,a,u));const c=u=>C(o[u],1,1,()=>{o[u]=null});return{c(){for(let u=0;u<l.length;u+=1)l[u].c();e=j();for(let u=0;u<o.length;u+=1)o[u].c();t=Ae()},l(u){for(let f=0;f<l.length;f+=1)l[f].l(u);e=Q(u);for(let f=0;f<o.length;f+=1)o[f].l(u);t=Ae()},m(u,f){for(let h=0;h<l.length;h+=1)l[h].m(u,f);P(u,e,f);for(let h=0;h<o.length;h+=1)o[h].m(u,f);P(u,t,f),i=!0},p(u,f){if(f&4){n=u[2];let h;for(h=0;h<n.length;h+=1){const p=ds(u,n,h);l[h]?(l[h].p(p,f),V(l[h],1)):(l[h]=ms(p),l[h].c(),V(l[h],1),l[h].m(e.parentNode,e))}for(fe(),h=n.length;h<l.length;h+=1)r(h);he()}if(f&8){a=u[3];let h;for(h=0;h<a.length;h+=1){const p=hs(u,a,h);o[h]?(o[h].p(p,f),V(o[h],1)):(o[h]=vs(p),o[h].c(),V(o[h],1),o[h].m(t.parentNode,t))}for(fe(),h=a.length;h<o.length;h+=1)c(h);he()}},i(u){if(!i){for(let f=0;f<n.length;f+=1)V(l[f]);for(let f=0;f<a.length;f+=1)V(o[f]);i=!0}},o(u){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)C(l[f]);o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)C(o[f]);i=!1},d(u){Oe(l,u),u&&d(e),Oe(o,u),u&&d(t)}}}function ms(s){let e,t;return e=new It({props:{playlist:s[10]}}),{c(){K(e.$$.fragment)},l(i){ee(e.$$.fragment,i)},m(i,n){Z(e,i,n),t=!0},p(i,n){const l={};n&4&&(l.playlist=i[10]),e.$set(l)},i(i){t||(V(e.$$.fragment,i),t=!0)},o(i){C(e.$$.fragment,i),t=!1},d(i){x(e,i)}}}function vs(s){let e,t;return e=new It({props:{playlist:s[10]}}),{c(){K(e.$$.fragment)},l(i){ee(e.$$.fragment,i)},m(i,n){Z(e,i,n),t=!0},p(i,n){const l={};n&8&&(l.playlist=i[10]),e.$set(l)},i(i){t||(V(e.$$.fragment,i),t=!0)},o(i){C(e.$$.fragment,i),t=!1},d(i){x(e,i)}}}function hl(s){let e,t,i,n,l,r,a,o,c,u,f,h,p,_;const b=[ul,ol],y=[];function v(k,E){return k[1]?0:1}t=v(s),i=y[t]=b[t](s);const A=[fl,cl],g=[];function I(k,E){return k[2]&&k[3]?0:1}return r=I(s),a=g[r]=A[r](s),{c(){e=L("section"),i.c(),n=j(),l=L("section"),a.c(),o=j(),c=L("section"),u=j(),f=L("section"),this.h()},l(k){e=T(k,"SECTION",{class:!0});var E=N(e);i.l(E),E.forEach(d),n=Q(k),l=T(k,"SECTION",{class:!0});var q=N(l);a.l(q),q.forEach(d),o=Q(k),c=T(k,"SECTION",{class:!0}),N(c).forEach(d),u=Q(k),f=T(k,"SECTION",{class:!0}),N(f).forEach(d),this.h()},h(){m(e,"class","svelte-pyvlpb"),m(l,"class","svelte-pyvlpb"),m(c,"class","svelte-pyvlpb"),m(f,"class","svelte-pyvlpb")},m(k,E){P(k,e,E),y[t].m(e,null),P(k,n,E),P(k,l,E),g[r].m(l,null),P(k,o,E),P(k,c,E),P(k,u,E),P(k,f,E),h=!0,p||(_=[Y(e,"scroll",s[5]),Y(l,"scroll",s[5]),Y(c,"scroll",s[5]),Y(f,"scroll",s[5])],p=!0)},p(k,E){let q=t;t=v(k),t===q?y[t].p(k,E):(fe(),C(y[q],1,1,()=>{y[q]=null}),he(),i=y[t],i?i.p(k,E):(i=y[t]=b[t](k),i.c()),V(i,1),i.m(e,null));let z=r;r=I(k),r===z?g[r].p(k,E):(fe(),C(g[z],1,1,()=>{g[z]=null}),he(),a=g[r],a?a.p(k,E):(a=g[r]=A[r](k),a.c()),V(a,1),a.m(l,null))},i(k){h||(V(i),V(a),h=!0)},o(k){C(i),C(a),h=!1},d(k){k&&d(e),y[t].d(),k&&d(n),k&&d(l),g[r].d(),k&&d(o),k&&d(c),k&&d(u),k&&d(f),p=!1,_e(_)}}}function dl(s){let e,t,i;function n(r){s[9](r)}let l={slot:"search"};return s[0]!==void 0&&(l.drag=s[0]),e=new al({props:l}),re.push(()=>ve(e,"drag",n)),{c(){K(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,a){Z(e,r,a),i=!0},p(r,a){const o={};!t&&a&1&&(t=!0,o.drag=r[0],me(()=>t=!1)),e.$set(o)},i(r){i||(V(e.$$.fragment,r),i=!0)},o(r){C(e.$$.fragment,r),i=!1},d(r){x(e,r)}}}function pl(s){let e,t;return e=new nl({props:{sections:s[4],$$slots:{search:[dl],default:[hl]},$$scope:{ctx:s}}}),{c(){K(e.$$.fragment)},l(i){ee(e.$$.fragment,i)},m(i,n){Z(e,i,n),t=!0},p(i,[n]){const l={};n&131087&&(l.$$scope={dirty:n,ctx:i}),e.$set(l)},i(i){t||(V(e.$$.fragment,i),t=!0)},o(i){C(e.$$.fragment,i),t=!1},d(i){x(e,i)}}}function _l(s,e,t){let i,n,l,r=["Recent","Playlists","Artists","Albums"],a=0;function o({target:p}){t(0,a=p.scrollTop)}const{recent:c,library:u,dynamic:f}=st;Te(s,c,p=>t(1,i=p)),Te(s,u,p=>t(2,n=p)),Te(s,f,p=>t(3,l=p));function h(p){a=p,t(0,a)}return[a,i,n,l,r,o,c,u,f,h]}class ml extends ue{constructor(e){super();ce(this,e,_l,pl,oe,{})}}function vl(s,e,t){const i=s.slice();return i[6]=e[t],i[8]=t,i}function gl(s){let e,t;return e=new Ps({props:{title:"Result "+s[8],height:0}}),{c(){K(e.$$.fragment)},l(i){ee(e.$$.fragment,i)},m(i,n){Z(e,i,n),t=!0},p:J,i(i){t||(V(e.$$.fragment,i),t=!0)},o(i){C(e.$$.fragment,i),t=!1},d(i){x(e,i)}}}function gs(s){let e,t,i;return{c(){e=L("button"),this.h()},l(n){e=T(n,"BUTTON",{class:!0,"aria-label":!0}),N(e).forEach(d),this.h()},h(){m(e,"class","minimize svelte-7b5cz"),m(e,"aria-label","Minimize Search")},m(n,l){P(n,e,l),i=!0},i(n){i||(be(()=>{t||(t=pe(e,Le,{duration:200},!0)),t.run(1)}),i=!0)},o(n){t||(t=pe(e,Le,{duration:200},!1)),t.run(0),i=!1},d(n){n&&d(e),n&&t&&t.end()}}}function bl(s){let e,t,i,n,l,r,a,o,c,u,f,h,p,_,b,y=s[1],v=[];for(let g=0;g<y.length;g+=1)v[g]=gl(vl(s,y,g));let A=s[0]&&gs();return{c(){e=L("header"),t=L("h1"),i=se("Explore"),n=j(),l=L("button"),r=j();for(let g=0;g<v.length;g+=1)v[g].c();a=j(),o=L("aside"),c=L("input"),u=j(),f=L("i"),h=j(),A&&A.c(),this.h()},l(g){e=T(g,"HEADER",{class:!0});var I=N(e);t=T(I,"H1",{});var k=N(t);i=ie(k,"Explore"),k.forEach(d),n=Q(I),l=T(I,"BUTTON",{"aria-label":!0,class:!0}),N(l).forEach(d),I.forEach(d),r=Q(g);for(let q=0;q<v.length;q+=1)v[q].l(g);a=Q(g),o=T(g,"ASIDE",{class:!0});var E=N(o);c=T(E,"INPUT",{type:!0,placeholder:!0,tabindex:!0,class:!0}),u=Q(E),f=T(E,"I",{class:!0}),N(f).forEach(d),h=Q(E),A&&A.l(E),E.forEach(d),this.h()},h(){m(l,"aria-label","Settings"),m(l,"class","settings svelte-7b5cz"),m(e,"class","svelte-7b5cz"),m(c,"type","text"),m(c,"placeholder","Search"),m(c,"tabindex","0"),m(c,"class","svelte-7b5cz"),m(f,"class","search svelte-7b5cz"),m(o,"class","svelte-7b5cz")},m(g,I){P(g,e,I),w(e,t),w(t,i),w(e,n),w(e,l),P(g,r,I);for(let k=0;k<v.length;k+=1)v[k].m(g,I);P(g,a,I),P(g,o,I),w(o,c),w(o,u),w(o,f),w(o,h),A&&A.m(o,null),p=!0,_||(b=[Y(l,"click",s[3]),Y(c,"focus",s[4]),Y(c,"blur",s[5])],_=!0)},p(g,[I]){g[0]?A?I&1&&V(A,1):(A=gs(),A.c(),V(A,1),A.m(o,null)):A&&(fe(),C(A,1,1,()=>{A=null}),he())},i(g){if(!p){for(let I=0;I<y.length;I+=1)V(v[I]);V(A),p=!0}},o(g){v=v.filter(Boolean);for(let I=0;I<v.length;I+=1)C(v[I]);C(A),p=!1},d(g){g&&d(e),g&&d(r),Oe(v,g),g&&d(a),g&&d(o),A&&A.d(),_=!1,_e(b)}}}function yl(s,e,t){let i=!1,n=[];const l=kt();return[i,n,l,()=>l("settings"),()=>t(0,i=!0),()=>t(0,i=!1)]}class kl extends ue{constructor(e){super();ce(this,e,yl,bl,oe,{})}}function El(s){let e,t,i;return{c(){e=L("header"),t=L("h1"),i=se("Listen")},l(n){e=T(n,"HEADER",{});var l=N(e);t=T(l,"H1",{});var r=N(t);i=ie(r,"Listen"),r.forEach(d),l.forEach(d)},m(n,l){P(n,e,l),w(e,t),w(t,i)},p:J,i:J,o:J,d(n){n&&d(e)}}}class wl extends ue{constructor(e){super();ce(this,e,null,El,oe,{})}}function bs(s,e,t){const i=s.slice();return i[3]=e[t],i[5]=t,i}function ys(s){let e,t=s[3]+"",i,n,l,r,a,o;function c(){return s[2](s[5])}return{c(){e=L("button"),i=se(t),n=j(),this.h()},l(u){e=T(u,"BUTTON",{tabindex:!0,"aria-label":!0,class:!0});var f=N(e);i=ie(f,t),n=Q(f),f.forEach(d),this.h()},h(){m(e,"tabindex","0"),m(e,"aria-label",l=s[3]),m(e,"class",r=Ys(s[3].toLowerCase())+" svelte-1wetexf"),G(e,"active",s[0]===s[5])},m(u,f){P(u,e,f),w(e,i),w(e,n),a||(o=Y(e,"click",c),a=!0)},p(u,f){s=u,f&1&&G(e,"active",s[0]===s[5])},d(u){u&&d(e),a=!1,o()}}}function Ll(s){let e,t=s[1],i=[];for(let n=0;n<t.length;n+=1)i[n]=ys(bs(s,t,n));return{c(){e=L("nav");for(let n=0;n<i.length;n+=1)i[n].c();this.h()},l(n){e=T(n,"NAV",{class:!0});var l=N(e);for(let r=0;r<i.length;r+=1)i[r].l(l);l.forEach(d),this.h()},h(){m(e,"class","svelte-1wetexf")},m(n,l){P(n,e,l);for(let r=0;r<i.length;r+=1)i[r].m(e,null)},p(n,[l]){if(l&3){t=n[1];let r;for(r=0;r<t.length;r+=1){const a=bs(n,t,r);i[r]?i[r].p(a,l):(i[r]=ys(a),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},i:J,o:J,d(n){n&&d(e),Oe(i,n)}}}function Tl(s,e,t){const i=["Library","Listen","Explore"];let{selected:n=0}=e;const l=r=>t(0,n=r);return s.$$set=r=>{"selected"in r&&t(0,n=r.selected)},[n,i,l]}class Al extends ue{constructor(e){super();ce(this,e,Tl,Ll,oe,{selected:0})}}function ks(s,e,t){const i=s.slice();return i[7]=e[t],i[9]=t,i}function Es(s){let e,t,i;var n=s[7];function l(r){return{}}return n&&(t=new n(l()),t.$on("settings",s[4])),{c(){e=L("section"),t&&K(t.$$.fragment),this.h()},l(r){e=T(r,"SECTION",{style:!0});var a=N(e);t&&ee(t.$$.fragment,a),a.forEach(d),this.h()},h(){ne(e,"display",s[0]==s[9]?"block":"none")},m(r,a){P(r,e,a),t&&Z(t,e,null),i=!0},p(r,a){if(n!==(n=r[7])){if(t){fe();const o=t;C(o.$$.fragment,1,0,()=>{x(o,1)}),he()}n?(t=new n(l()),t.$on("settings",r[4]),K(t.$$.fragment),V(t.$$.fragment,1),Z(t,e,null)):t=null}(!i||a&1)&&ne(e,"display",r[0]==r[9]?"block":"none")},i(r){i||(t&&V(t.$$.fragment,r),i=!0)},o(r){t&&C(t.$$.fragment,r),i=!1},d(r){r&&d(e),t&&x(t)}}}function Nl(s){let e,t,i,n,l,r,a,o,c,u=s[2],f=[];for(let v=0;v<u.length;v+=1)f[v]=Es(ks(s,u,v));const h=v=>C(f[v],1,1,()=>{f[v]=null});t=new Cn({});function p(v){s[5](v)}let _={};s[0]!==void 0&&(_.selected=s[0]),n=new Al({props:_}),re.push(()=>ve(n,"selected",p));function b(v){s[6](v)}let y={};return s[1]!==void 0&&(y.open=s[1]),a=new Bn({props:y}),re.push(()=>ve(a,"open",b)),{c(){for(let v=0;v<f.length;v+=1)f[v].c();e=j(),K(t.$$.fragment),i=j(),K(n.$$.fragment),r=j(),K(a.$$.fragment)},l(v){for(let A=0;A<f.length;A+=1)f[A].l(v);e=Q(v),ee(t.$$.fragment,v),i=Q(v),ee(n.$$.fragment,v),r=Q(v),ee(a.$$.fragment,v)},m(v,A){for(let g=0;g<f.length;g+=1)f[g].m(v,A);P(v,e,A),Z(t,v,A),P(v,i,A),Z(n,v,A),P(v,r,A),Z(a,v,A),c=!0},p(v,[A]){if(A&7){u=v[2];let k;for(k=0;k<u.length;k+=1){const E=ks(v,u,k);f[k]?(f[k].p(E,A),V(f[k],1)):(f[k]=Es(E),f[k].c(),V(f[k],1),f[k].m(e.parentNode,e))}for(fe(),k=u.length;k<f.length;k+=1)h(k);he()}const g={};!l&&A&1&&(l=!0,g.selected=v[0],me(()=>l=!1)),n.$set(g);const I={};!o&&A&2&&(o=!0,I.open=v[1],me(()=>o=!1)),a.$set(I)},i(v){if(!c){for(let A=0;A<u.length;A+=1)V(f[A]);V(t.$$.fragment,v),V(n.$$.fragment,v),V(a.$$.fragment,v),c=!0}},o(v){f=f.filter(Boolean);for(let A=0;A<f.length;A+=1)C(f[A]);C(t.$$.fragment,v),C(n.$$.fragment,v),C(a.$$.fragment,v),c=!1},d(v){Oe(f,v),v&&d(e),x(t,v),v&&d(i),x(n,v),v&&d(r),x(a,v)}}}function Il(s,e,t){let i;Te(s,Se,u=>t(3,i=u));const n=[ml,wl,kl];let l=0,r=!i.token;const a=()=>t(1,r=!0);function o(u){l=u,t(0,l)}function c(u){r=u,t(1,r)}return s.$$.update=()=>{s.$$.dirty&8&&i.token&&st.load()},[l,r,n,i,a,o,c]}class ql extends ue{constructor(e){super();ce(this,e,Il,Nl,oe,{})}}export{ql as default};
